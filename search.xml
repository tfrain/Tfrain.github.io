<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[å­—èŠ‚å®žä¹ é¢ç»]]></title>
    <url>%2F2020%2F04%2Fyuque%2Foffer%2F</url>
    <content type="text"><![CDATA[ç–«æƒ…ä¹‹ä¸‹çš„å®žä¹ é¢ç»ï¼Ÿ ä¸€é¢&amp;äºŒé¢ï¼ˆ3-24ï¼Œ2hï¼‰å› ä¸ºä¸€äºŒé¢è¿žç»­é¢ï¼Œé—®é¢˜å¯èƒ½ä¼šäº¤å‰ã€‚è¿™äº›é—®é¢˜æ˜¯æˆ‘æå–å‡ºæ¥çš„å…³é”®è¯ï¼Œå¯èƒ½é¢è¯•å®˜ä¸æ˜¯ç›´æŽ¥è¿™ä¹ˆé—®ï¼Œä½ éœ€è¦ç†è§£ä»–æƒ³è¦äº†è§£çš„æ˜¯ä»€ä¹ˆã€‚ äº‹åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ éš”ç¦»æœºåˆ¶ï¼ŒMVCCï¼Œåˆå¼•å‡ºäº† undo logï¼Œå¹»è¯» è¡Œé”æ˜¯å¦‚ä½•å®žçŽ°çš„ I/O å¤šè·¯å¤ç”¨ æ®µé¡µå¼æœºåˆ¶ JMM å†…å­˜æ¨¡åž‹ ä»‹ç» Java ä¸­çš„é”ï¼Œè¯´äº† synchronized å’Œ Reentrantlock å†…éƒ¨å®žçŽ°å’ŒåŒºåˆ« ä»‹ç»é¡¹ç›® ç®—æ³•é¢˜ï¼šè¿‡æœŸé”®å€¼å¯¹çš„ LRU cacheï¼ˆå†™çš„ä¸ç†æƒ³ï¼Œç„¶åŽæ—¶é—´å·®ä¸å¤šäº†ï¼Œç»™äº†æˆ‘ä¸€æ¬¡æœºä¼šï¼‰ å¤§çº¦ååˆ†é’ŸåŽäºŒé¢ TCPã€UDP çš„åŒºåˆ« awk çš„ç”¨æ³•ï¼ˆé—®æˆ‘å¦‚ä½•è¯»å–æ—¥å¿—ä¸­çš„æŸä¸€è¡Œï¼Œå› ä¸ºæˆ‘ç®€åŽ†è¯´äº†ä¼šå†™ç®€å•çš„ shell è„šæœ¬ï¼‰ çº¿ç¨‹ä¸Žè¿›ç¨‹çš„åŒºåˆ«ï¼Œé¡ºä¾¿é—®äº†ä»–ä»¬å„è‡ªçš„é€šä¿¡æ–¹å¼ ä»‹ç»å¤§æ•°æ®é‡æ•°æ®åº“åº”è¯¥å¦‚ä½•ç»´æŠ¤ï¼ˆç®—æ˜¯ä¸ªåœºæ™¯é¢˜å§ï¼Ÿæˆ‘æœ‰ç‚¹å¿˜äº†æˆ‘æ˜¯æ€Žä¹ˆå›žç­”çš„äº†ï¼‰ æ•°æ®åº“æŸ¥è¯¢ä¸€è¡Œæ•°æ®çš„æ•´ä¸ªå†…éƒ¨è¿‡ç¨‹ æ ‘çš„å±‚æ¬¡éåŽ†ï¼ŒDFSã€BFS çš„ä½¿ç”¨åœºæ™¯ä¸ŽåŒºåˆ« é¡¹ç›®ä¸­æ˜¯å¦‚ä½•é‡æž„å¤§æŸ¥è¯¢çš„ ä»‹ç»è®ºæ–‡åšäº†ä»€ä¹ˆå·¥ä½œï¼ˆæ°´ï¼‰ ç®—æ³•é¢˜ï¼šåˆå¹¶åŒºé—´ ä¸‰é¢ï¼ˆåŽŸå®šäºŽ 3-30ï¼Œé¢è¯•å®˜æ”¹ä¸º 3-31ï¼Œ50 minï¼‰ è‡ªå·±å®žçŽ°ä¸€ä¸ª hashmap çš„æ€è·¯ï¼ˆè¯´äº† Java çš„ï¼‰ TCP ä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹ï¼Œlisten å‡½æ•°çš„å‚æ•°æ„ä¹‰ï¼ˆæ²¡ç­”å‡ºæ¥ï¼‰ ç”¨ä»€ä¹ˆ shellï¼ŒLinux ä¸€äº›å¸¸ç”¨å‘½ä»¤ redis ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿« GC ç®—æ³• ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨çš„å…¨è¿‡ç¨‹ï¼ˆè¯´äº†ä¸€äº›çš®æ¯›ï¼‰ åœ¨å­¦æ ¡å®žéªŒå®¤å¹²ä»€ä¹ˆï¼ˆå°±æ˜¯ä¸€ä¸ªæŠ€æœ¯ç¤¾å›¢ï¼‰ï¼Œå¯¹ C/C++ äº†è§£å—ï¼Ÿï¼ˆå†™è¿‡åžƒåœ¾è´ªåƒè›‡ï¼‰ å¹»è¯»ï¼Œmysql æ˜¯å¦‚ä½•è§£å†³å¹»è¯»çš„ï¼Ÿ git çš„ä½¿ç”¨ å•å…ƒæµ‹è¯•å†™è¿‡å—ï¼Ÿï¼ˆè¯´äº†ä¸€ä¸‹ SpringBoot é‡Œé¢çš„å•å…ƒæµ‹è¯•ï¼Œä½†æ„Ÿè§‰æ²¡æœ‰å›žç­”åˆ°ä»–æƒ³é—®çš„ï¼‰ é¡¹ç›®å’Œæ•°æ®åº“çŸ¥è¯†ï¼Œå“ªä¸ªæ¯”è¾ƒé‡è¦ï¼ˆé¬¼æ‰¯ï¼‰ selectã€pollã€epoll çš„åŒºåˆ« æ•°æ®æ˜¯å¦‚ä½•ä»Žå·±ç«¯ä¼ è¾“åˆ°å¯¹ç«¯ï¼ˆè¯´äº†ä¸€ä¸‹ SendFileï¼Œå››æ¬¡æ‹·è´ï¼Œä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨ç­‰å†…å®¹ï¼Œä½†æ˜¯è®°ä¸å¤ªæ¸…æ¥šäº†ï¼‰ äº†è§£ go çš„å¤šçº¿ç¨‹çŸ¥è¯†å—ï¼Ÿï¼ˆä¸äº†è§£ï¼ŒåªçŸ¥é“ go å¼€å‘é€Ÿåº¦ç­‰æ–¹é¢å…·æœ‰ä¼˜åŠ¿ï¼‰äº†è§£ MongoDB å—ï¼Ÿï¼ˆä¸äº†è§£ï¼Œå°±çŸ¥é“æ˜¯éžå…³ç³»åž‹æ•°æ®åº“ï¼‰ äº†è§£åˆ†å¸ƒå¼çš„çŸ¥è¯†å—ï¼Ÿï¼ˆè¯´äº†åˆ†å¸ƒå¼é”ï¼Œç„¶åŽä»–å°±çŸ¥é“æˆ‘ä¸äº†è§£ç›¸å…³çš„å†…å®¹äº†(ç¡®å®ž)ï¼‰ ç®—æ³•é¢˜ï¼šæœ€å¤§è¿žç»­å­æ•°ç»„å’Œã€‚åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œé¢è¯•å®˜ä¸€ç›´é—®æˆ‘å¦‚ä½•è°ƒè¯•é”™è¯¯çš„ã€‚å¯èƒ½è¿™ä¸€æ–¹é¢èƒ½åŠ›ä¹Ÿå¾ˆé‡è¦ï¼Œå†™å‡ºäº†å‰ç¼€å­å’Œçš„å®žçŽ°æ–¹å¼ï¼Œåˆè®©æˆ‘ç®€å•å†™äº†ä¸€ä¸‹ dp çš„è§£æ³•ï¼ˆæ²¡æœ‰è·‘æ•°æ®ï¼‰ å››é¢ï¼ˆ4-8 é‚£è¾¹è¯´å››é¢é¢è¯•å®˜è°ƒä¸å¼€æ—¶é—´ï¼ŒæŽ¨çš„æ¯”è¾ƒé åŽ 33minï¼‰æˆ‘çš„æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼Œå››é¢è¿˜æ˜¯æŠ€æœ¯é¢ï¼Œæ¥è‡ªä¸€ä¸ªå®žä¹ ç”Ÿçš„è¿·æƒ‘ï¼Œä¸ºä»€ä¹ˆæˆ‘æœ‰å››è½®æŠ€æœ¯é¢ï¼ŸåŽè¯æ˜¯æˆ‘ 4-12 ç›´æŽ¥å°±æ”¶åˆ° oc é‚£å¤©æ™šä¸Šæ”¶åˆ°é‚®ä»¶ï¼Œæ‰€ä»¥è·³è¿‡äº† hr é¢ï¼Ÿemmmmï¼Œæœ‰ç‚¹è¿·ã€‚ å¯¹ä»€ä¹ˆæ•°æ®åº“æ¯”è¾ƒäº†è§£ï¼Ÿmysql çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆæ¯ä¸€ä¸ªå¥½åƒéƒ½è¦é—®é—®ï¼‰ å†…éƒ¨çš„å®žçŽ°æ–¹å¼ï¼ŸåŽæ¥å…·ä½“åˆ° InnoDB å†…éƒ¨å¦‚ä½•å¤„ç†ï¼Œå¤„ç†æµç¨‹ï¼ˆæŠŠæœåŠ¡ç«¯å’Œå­˜å‚¨å¼•æ“Žå±‚è¯´äº†è¯´ï¼Œè¯´äº†ä¸€ä¸‹ 2pcï¼‰ å“ªäº›çŸ¥è¯†æŽŒæ¡æ¯”è¾ƒå¥½ï¼Ÿï¼ˆæ•°æ®åº“å’Œç½‘ç»œï¼‰ æ•°æ®åº“å­¦äº†é‚£äº›ä¸œè¥¿ï¼Ÿ ç½‘ç»œæœºåˆ¶ RDMA äº†è§£å—ï¼Ÿï¼ˆæ²¡å¬è¿‡è¿™ä¸ªåè¯ã€‚ã€‚ã€‚ã€‚ï¼‰é—®æˆ‘äº†è§£å“ªäº›ä¸œè¥¿ è¯´ä¸€ä¸‹ç½‘ç»œçš„æ‹¥å¡žæŽ§åˆ¶ æ“ä½œç³»ç»Ÿäº†è§£å—ï¼Ÿ ä¸ºä»€ä¹ˆæ¥å­—èŠ‚è·³åŠ¨å®žä¹ ï¼Ÿ åšäº†ä»€ä¹ˆå‡†å¤‡ï¼Ÿåˆ·é¢˜äº†å—ï¼Ÿï¼ˆå¤ªçœŸå®žäº†ï¼Œåˆ·é¢˜æ˜¯ä¸å¯èƒ½ä¸åˆ·çš„ï¼Œè¿™è¾ˆå­ä¸å¯èƒ½ä¸åˆ·çš„ï¼‰ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿ å‡†å¤‡è¿‡ç¨‹ä¸­é™¤äº†åŽ‹åŠ›å’Œå¿ƒæ€å¤–ï¼Œé‡åˆ°çš„æœ€å¤§é—®é¢˜ æœ€å¤§çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ å¯¹å·¥ä½œå†…å®¹æœ‰ä»€ä¹ˆè¯‰æ±‚å—ï¼Ÿæœ‰å€¾å‘å—ï¼Ÿ ç®—æ³•é¢˜ï¼šæ±‚äºŒå‰æ ‘çš„æœ€å°å…¬å…±ç¥–å…ˆèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ï¼ˆæŒ‡æ•°å€çš„æ ‘é«˜ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ å¦‚ä½•ä¼˜åŒ–æˆ‘çš„è¿™ä¸ªæ—¶é—´å¤æ‚åº¦ï¼Ÿï¼ˆæ²¡æ‰“å¼€æ€è·¯ï¼Œè½¬é—®æˆ‘ä¸€ä¸ªåœºæ™¯é¢˜ï¼‰æµ·é‡èŠ‚ç‚¹æ ‘çš„æŸ¥è¯¢ï¼ˆåäº¿ä¸ªèŠ‚ç‚¹ï¼‰éåŽ†ç„¶åŽåˆ†æ²»ï¼Œæœ€åŽç”¨ç©ºé—´ä¼˜åŒ–æ—¶é—´ï¼Œæˆ‘è¯´å½“æˆæ»¡äºŒå‰æ ‘ï¼Œåˆ©ç”¨æ•°å­¦å…³ç³»æ¥æŸ¥æ‰¾ã€‚ ç®—æ³•é¢˜ï¼šTop Kï¼ˆå›žç­”å †æˆ–å¿«æŽ’ï¼‰è®©æˆ‘å®žçŽ°äº†å †çš„ï¼Œæœ€å°åä¸ªæ•° æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„ï¼Ÿ å®žä¹ å®Œä¹‹åŽçš„è®¡åˆ’ï¼Ÿ ocï¼ˆ4-12 ä¸‹åˆoffer callï¼Œæ™šä¸Šé‚®ä»¶offer)é—®äº†ä¸€ä¸‹å…¥èŒæ—¶é—´ï¼Œè¯´äº†ä¸€ä¸‹ç¦åˆ©ç­‰ä¿¡æ¯ï¼Œå‡ åˆ†é’Ÿè§£å†³ã€‚ æ€»ç»“æˆ‘è‡ªæˆ‘ä»‹ç»è¯´äº†ä¸€ä¸‹æ•°æ®åº“äº†è§£å¤šä¸€äº›ï¼Œå¯èƒ½é—®æˆ‘è¿™æ–¹é¢å¤šä¸€äº›ï¼Œå››é¢çš„ leader é—®æˆ‘çš„æ¯”è¾ƒå®è§‚ï¼Œæ²¡é—®ä»€ä¹ˆæ¯”è¾ƒç»†çš„ï¼Œç®—æ³•é¢˜ä¹Ÿæ²¡è®©æˆ‘è·‘æ•°æ®ã€‚å…³äºŽå­—èŠ‚çš„é¢è¯•ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹å¯ä»¥è¯´ä¸€ä¸‹ï¼š æˆ‘é¢äº†å‡ å®¶å…¬å¸ï¼Œå­—èŠ‚æ¯”è¾ƒçœ‹ä¸­åŸºç¡€ï¼Œå…³äºŽ Java æ–¹é¢çš„çŸ¥è¯†åŸºæœ¬æ²¡æ€Žä¹ˆé—®æˆ‘ é¢è¯•å®˜éƒ½æ¯”è¾ƒäº²åˆ‡ï¼Œä¸ä¼šå¼ºäººæ‰€éš¾ï¼Œä¸è¿‡å°½é‡è¦ä¼šï¼Œå› ä¸ºä¸ä¼šå¾ˆæ‰£åˆ† å­—èŠ‚çš„é¢è¯•æ•ˆçŽ‡å’Œæ–¹å¼æˆ‘éƒ½è§‰å¾—æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—ä½“éªŒè¿˜ä¸é”™ï¼Œå°±ä¸€äºŒé¢ç‰¹åˆ«ç´§å¼ ï¼Œä¸‰å››é¢å°±å¥½å¾ˆå¤šäº† æœ€å¥½æœ‰ä¸€é¡¹æ‹¿å¾—å‡ºæ‰‹çš„ï¼Œä¸æ€•ä»–å¤ºå‘½è¿žçŽ¯é—®ï¼Œå¦å¤–ä¸ä¼šäº†ï¼Œä¹Ÿå¯ä»¥å¾€è‡ªå·±æ“…é•¿åœ°æ–¹é  ç®—æ³•é¢˜å¾ˆé‡è¦ï¼Œæˆ‘ç®—æ³•å‡†å¤‡ä¸æ€Žä¹ˆå……åˆ†ï¼Œåšäº†çš„å‡ é¢˜éƒ½æœ‰ç‚¹å°è±¡ï¼Œç®—æ˜¯è¿æ°”äº†]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Linux éœ€è®°]]></title>
    <url>%2F2019%2F12%2Fyuque%2Fpd4aum%2F</url>
    <content type="text"><![CDATA[Linux å¾ˆå°‘ä¸€éƒ¨åˆ†çŸ¥è¯† 1 Linuxçš„ä½“ç³»ç»“æž„ä¸»è®²è¿‡ç¨‹ Linuxçš„ä½“ç³»ç»“æž„ ä½“ç³»ç»“æž„ä¸»è¦åˆ†ä¸ºç”¨æˆ·æ€ï¼ˆç”¨æˆ·ä¸Šå±‚æ´»åŠ¨ï¼‰å’Œå†…æ ¸æ€ å†…æ ¸ï¼šæœ¬è´¨æ˜¯ä¸€æ®µç®¡ç†è®¡ç®—æœºç¡¬ä»¶è®¾å¤‡çš„ç¨‹åº ç³»ç»Ÿè°ƒç”¨ï¼šå†…æ ¸çš„è®¿é—®æŽ¥å£ï¼Œæ˜¯ä¸€ç§èƒ½å†ç®€åŒ–çš„æ“ä½œï¼ˆman 2 syscallsã€man 2 acctã€man 2æŒ‡æŸ¥çœ‹ç³»ç»Ÿè°ƒç”¨ï¼Œman 3æ˜¯æŒ‡æŸ¥çœ‹å…¬å…±åº“å‡½æ•°ï¼‰ å…¬å…±åº“å‡½æ•°ï¼šç³»ç»Ÿè°ƒç”¨çš„ç»„åˆæ‹³ï¼ˆä¸ºäº†ä½¿ç¨‹åºå‘˜ä»Žå…·ä½“çš„ç»†èŠ‚ä¸­è§£è„±å‡ºæ¥è€Œæå‡ºä¸€ç§æœ‰æ•ˆæ–¹æ³•ï¼Œå®ƒå®žçŽ°å¯¹ç³»ç»Ÿè°ƒç”¨çš„å°è£…ï¼Œå°†ç®€å•çš„ä¸šåŠ¡é€»è¾‘æŽ¥å£å‘ˆçŽ°ç»™ç”¨æˆ·ï¼Œè¿”å›žç»™ç”¨æˆ·è°ƒç”¨ï¼Œè¿™æ ·ä¸€ç§ç»„åˆæ–¹å¼ï¼Œæžå¤§å¢žå¼ºäº†ç¨‹åºè®¾è®¡çš„çµæ´»æ€§ã€‚å¯¹äºŽç®€å•çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥è°ƒç”¨ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®èµ„æºï¼Œè€Œå¯¹äºŽå¤æ‚çš„æ“ä½œï¼Œæˆ‘ä»¬å€ŸåŠ©äºŽåº“å‡½æ•°æ¥å®žçŽ°ã€‚åº“å‡½æ•°ä¾æ®ä¸åŒçš„æ ‡å‡†ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸åŒçš„å®žçŽ°ç‰ˆæœ¬ï¼‰ shellï¼šå‘½ä»¤è§£é‡Šå™¨ï¼Œå¯ç¼–ç¨‹ï¼ˆä»Žls -lrsæ¥è¯´ï¼Œæ¶‰åŠwhich lsçš„è·¯å¾„ï¼Œå°†å‚æ•°ä¼ ç»™å…·ä½“çš„è°ƒç”¨çš„è¿™ä¸ªè¿‡ç¨‹ï¼‰è¡¥å……ï¼šå¯ä»¥ç”¨ä¸€ä¸‹ cat /etc/shells æ¥çœ‹ä¸€ä¸‹æ”¯æŒçš„shellï¼Œä½¿ç”¨chsh -s + shellçš„è·¯å¾„ æ¥è¿›è¡Œåˆ‡æ¢ã€‚ 2 æŸ¥æ‰¾ç‰¹å®šæ–‡ä»¶ä¸»è®²è¿‡ç¨‹ find find path [option] paramsä½œç”¨ï¼šåœ¨æŒ‡å®šç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶å®žä¾‹ï¼šfind ~ -iname â€œtarget*â€ï¼Œä½¿ç”¨äº†é€šé…ç¬¦ï¼Œå¹¶ä¸”åŒ¹é…å¤§å°å†™ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç»œè®°å½•]]></title>
    <url>%2F2019%2F12%2Fyuque%2Fgilftp%2F</url>
    <content type="text"><![CDATA[ç½‘ç»œæ–¹é¢çš„çŸ¥è¯† ç¬¬6è®² | äº¤æ¢æœºä¸ŽVLANï¼šåŠžå…¬å®¤å¤ªå¤æ‚ï¼Œæˆ‘è¦å›žå­¦æ ¡è‡ªæˆ‘æ€»ç»“ æ‹“æ‰‘ç»“æž„æ˜¯æ€Žä¹ˆå½¢æˆçš„ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šäº¤æ¢æœºä¸€å¼€å§‹æ˜¯ä¸çŸ¥é“ä»»ä½•æ‹“æ‰‘ä¿¡æ¯çš„ï¼Œæ”¶åˆ°æŸä¸ªå¹¿æ’­åŽï¼Œå‡ºäº†å¹¿æ’­åŒ…æ¥çš„æ–¹å‘å¤–ï¼Œè¿˜è¦è½¬å‘ç»™å…¶ä»–æ‰€æœ‰çš„ç½‘å£ã€‚ä¾‹å¦‚åœ¨å‘é€è¿‡ç¨‹ä¸­ï¼ŒçŸ¥é“æœºå™¨1æ˜¯åœ¨å·¦è¾¹è¿™ä¸ªç½‘å£ï¼Œäº†è§£è¿™äº›ä¿¡æ¯ï¼Œå°±å¯ä»¥æœ‰é€‰æ‹©çš„ä¸å¹¿æ’­ç»™ä¸€äº›ä¸å¯èƒ½å‘é€ä¿¡æ¯çš„ä¸»æœºã€‚é‡æ¸©ï¼šè¿™ä¸ªæ—¶å€™äº¤æ¢æœº A å·²ç»çŸ¥é“æœºå™¨1æ˜¯ä¸å¯èƒ½åœ¨å³è¾¹çš„ç½‘å£äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå¹¿æ’­ä¿¡æ¯å°±ä¸ä¼šå¹¿æ’­åˆ°å±€åŸŸç½‘äºŒå’Œä¸‰ã€‚ï¼ˆäº¤æ¢æœºæœ‰ä¸€å®šçš„å­¦ä¹ èƒ½åŠ›ï¼‰ å¦‚ä½•è§£å†³å¸¸è§çš„çŽ¯è·¯é—®é¢˜ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šçŽ¯è·¯çš„å¼Šå¤„ï¼šä¸€å¼€å§‹ä¸çŸ¥é“äº¤æ¢æœºåœ¨å“ªé‡Œï¼Œå·¦è½¬åˆ°ä¸€ä¸ªå±€åŸŸç½‘ï¼Œè¿™ä¸ªå±€åŸŸç½‘å³è½¬åˆ°åŽŸå±€åŸŸç½‘ï¼ŒåŽŸå±€åŸŸç½‘ç»§ç»­å·¦è½¬ï¼Œä¸€ç›´è½¬ä¸‹åŽ»é‡æ¸©ï¼šæ¯ä¸ªæœºå™¨éƒ½ä¼šå¹¿æ’­åŒ…ï¼Œäº¤æ¢æœºè½¬å‘ä¹Ÿä¼šå¤åˆ¶å¹¿æ’­åŒ…ï¼Œå½“å¹¿æ’­åŒ…è¶Šæ¥è¶Šå¤šæ—¶ï¼ŒæŒ‰ç…§å…±äº«é“è·¯çš„ç®—æ³•ï¼Œè·¯ä¼šè¶Šæ¥è¶Šå µï¼Œæœ€åŽè°ä¹Ÿåˆ«æƒ³èµ°ï¼›çŽ¯è·¯é£Žæš´ã€‚ STPåè®®ä¸­éš¾ä»¥ç†è§£çš„æ¦‚å¿µ ç¬¬ä¸€å°è±¡ï¼šç”Ÿæˆæ ‘ç®—æ³•ã€‚Root Bridge æ ¹äº¤æ¢æœºã€Designated Bridges æŒ‡å®šäº¤æ¢æœºã€Bridge Protocol Data Units ï¼ˆBPDUï¼‰ ç½‘æ¡¥åè®®æ•°æ®å•å…ƒã€Priority Vector ä¼˜å…ˆçº§å‘é‡ [Root Bridge ID, Root Path Cost, Bridge ID, and Port ID]é‡æ¸©ï¼šæ˜¯å…¶å®žè¿™æ˜¯ä¸€åœºè¡€é›¨è…¥é£Žçš„æ­¦æž—æ¯”æ­¦æˆ–è€…åŽå±±è®ºå‰‘ï¼Œæœ€ç»ˆå†³å‡ºäº”å²³ç›Ÿä¸»çš„æ–¹å¼ã€‚ STPçš„å·¥ä½œè¿‡ç¨‹æ˜¯æ€Žæ ·çš„ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šæ ¹äº¤æ¢æœºæ˜¯æŽŒé—¨äººï¼ŒæŒ‡å®šäº¤æ¢æœºæ˜¯å°å¼Ÿï¼Œç½‘ç»œäº¤æ¢åè®®å•å…ƒï¼ˆbpduï¼‰åªèƒ½ç”±æŽŒé—¨æ¥å‘ï¼Œå°å¼Ÿè½¬å‘ï¼Œç”¨äºŽä¸åŒç½‘ç»œä¹‹é—´çš„æ¯”è¾ƒï¼Œä¼˜å…ˆçº§å‘é‡å¯ä»¥ç†è§£æˆè·ç¦»æ ¹äº¤æ¢æœºçš„è·ç¦»ï¼Œè¶Šå°è¶Šç‰›ðŸ‚ã€‚ç¬¬äºŒä¸ªå˜é‡å¯ä»¥ç”¨äºŽå†…éƒ¨æ¯”è¾ƒã€‚é‡æ¸©ï¼šæœ€ç»ˆï¼Œç”Ÿæˆä¸€æ£µæ ‘ï¼Œä½†æ˜¯åˆ†ä¹…å¿…åˆï¼Œåˆä¹…å¿…åˆ†ã€‚ä¸€å…±ä¸¾äº†å››ä¸ªä¾‹å­ã€‚ å¦‚ä½•è§£å†³å¹¿æ’­é—®é¢˜å’Œå®‰å…¨é—®é¢˜ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šç‰©ç†éš”ç¦»å’Œè™šæ‹Ÿéš”ç¦»ã€‚åŽè€…åˆå«vlanï¼›é€šè¿‡äºŒå±‚å¤´ä¸ŠåŠ ä¸€ä¸ªtagï¼Œå…¶ä¸­æœ‰vlan idï¼Œä¸€å…±æ˜¯12ä½ã€‚4096å¾ˆå¤§ç¨‹åº¦æ¥è¯´æ˜¯ä¸å¤Ÿçš„ã€‚é‡æ¸©ï¼šå¯¹äºŽæ”¯æŒVLANçš„äº¤æ¢æœºï¼Œæœ‰ä¸€ç§å£å«ä½œTrunkå£ã€‚å®ƒå¯ä»¥è½¬å‘å±žäºŽä»»ä½•VLANçš„å£ã€‚äº¤æ¢æœº ä¹‹é—´å¯ä»¥é€šè¿‡è¿™ç§å£ç›¸äº’è¿žæŽ¥ å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šSTP å¯¹äºŽè·¨åœ°åŸŸç”šè‡³è·¨å›½ç»„ç»‡çš„ç½‘ç»œæ”¯æŒï¼Œå°±å¾ˆéš¾åšäº†ï¼Œè®¡ç®—é‡æ‘†ç€å‘¢ã€‚ä¸€ä¸ªæ˜¯æŸä¸ªäº¤æ¢æœºçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ•´ä¸ªæ ‘éœ€è¦é‡æ–°æž„å»ºï¼Œå¦ä¸€ä¸ªæ˜¯è¢«ç ´å¼€çš„çŽ¯çš„é“¾è·¯è¢«æµªè´¹äº†é‡æ¸©ï¼šäº¤æ¢æœºä¼šç¼“å­˜ MAC åœ°å€å’Œè½¬å‘ç«¯å£çš„å…³ç³»ã€‚ç¬¬ä¸€æ¬¡æ˜¯ä¸èƒ½å•æ’­ï¼Œç¬¬äºŒæ¬¡å°±å¯ä»¥å•æ’­äº†ã€‚ é¢å¤–çŸ¥è¯† ç¬¬7è®² | ICMPä¸Žpingï¼šæŠ•çŸ³é—®è·¯çš„ä¾¦å¯Ÿå…µè‡ªæˆ‘æ€»ç»“ ICMPåè®®çš„æ ¼å¼ ç¬¬ä¸€å°è±¡ï¼šäº’è”ç½‘æŽ§åˆ¶æŠ¥æ–‡åè®®ï¼ŒæŽ§åˆ¶ä½“çŽ°åœ¨é€šè¿‡ä¾¦å¯Ÿå…µã€å“¨æŽ¢æˆ–ä¼ ä»¤å…µæŽ§åˆ¶æ•´ä¸ªæˆ˜å±€ã€‚å°è£…åœ¨ipåŒ…é‡Œã€‚åˆ†ä¸ºæŸ¥è¯¢æŠ¥æ–‡ç±»åž‹ï¼Œå·®é”™æŠ¥æ–‡ç±»åž‹é‡æ¸©ï¼šæœ€å¸¸ç”¨çš„ç±»åž‹æ˜¯ä¸»åŠ¨è¯·æ±‚ä¸º 8ï¼Œä¸»åŠ¨è¯·æ±‚çš„åº”ç­”ä¸º 0 æŸ¥è¯¢æŠ¥æ–‡ç±»åž‹ ç¬¬ä¸€å°è±¡ï¼šping å‘½ä»¤å°±æ˜¯æŸ¥è¯¢æŠ¥æ–‡ï¼Œç¬¦åˆicmpæ ¼å¼ï¼Œä¸è¿‡åœ¨åŽé¢å¢žåŠ äº†è‡ªå·±çš„æ ¼å¼é‡æ¸©ï¼šæ¯”èµ·åŽŸç”Ÿçš„icmpï¼Œå¤šäº†æ ‡è¯†ç¬¦å’Œåºå· å·®é”™æŠ¥æ–‡ç±»åž‹ ç¬¬ä¸€å°è±¡ï¼šç»ˆç‚¹ä¸å¯è¾¾ä¸º 3ï¼ŒæºæŠ‘åˆ¶ä¸º 4ï¼Œè¶…æ—¶ä¸º 11ï¼Œé‡å®šå‘ä¸º 5ï¼Œå…·ä½“çš„åŽŸå› åœ¨ä»£ç ä¸­è¡¨ç¤ºå°±æ˜¯ï¼Œç½‘ç»œä¸å¯è¾¾ä»£ç ä¸º 0ï¼Œä¸»æœº ä¸å¯è¾¾ä»£ç ä¸º 1ï¼Œåè®®ä¸å¯è¾¾ä»£ç ä¸º 2ï¼Œç«¯å£ä¸å¯è¾¾ä»£ç ä¸º 3ï¼Œéœ€è¦è¿›è¡Œåˆ†ç‰‡ä½†è®¾ç½®äº†ä¸åˆ†ç‰‡ä½ä»£ç ä¸º 4ã€‚é‡æ¸©ï¼šè¿™ç±»ä¾¦æŸ¥å…µç‰¹åˆ«æªå°½èŒå®ˆï¼Œä¸ä½†è‡ªå·±è¿”å›žæ¥æŠ¥ä¿¡ï¼Œè¿˜æŠŠä¸€éƒ¨åˆ†é—ç‰©ä¹Ÿå¸¦å›žæ¥ pingï¼šæŸ¥è¯¢æŠ¥æ–‡ç±»åž‹çš„ä½¿ç”¨ ç¬¬ä¸€å°è±¡ï¼šæºä¸»æœºæž„å»ºä¸€ä»½icmpè¯·æ±‚æ•°æ®åŒ…ã€æ•°æ®éƒ¨åˆ†æ’å…¥å‘é€æ—¶é—´ã€åŠ å…¥macå¤´ã€ç›®çš„ä¸»æœºæž„å»ºä¸€ä¸ªicmpåº”ç­”åŒ…ï¼Œç±»åž‹å­—æ®µä¸º0ï¼Œé¡ºåºå·ä¸ºè¯·æ±‚æ•°æ®åŒ…ä¸­çš„é¡ºåºã€‚é‡æ¸©ï¼šä¸åœ¨å±€åŸŸç½‘å†…ï¼Œé€‰æ‹©è·¯ç”±çš„ä¸‹ä¸€è·³ï¼Œæ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨åˆ°è¾¾ä¸€ä¸ªæ–°çš„å±€åŸŸç½‘ï¼Œéœ€è¦æ¢ MAC å¤´é‡Œé¢çš„ MAC åœ°å€ï¼Œä½†æ˜¯ ping ä¸é€šä¸ ä»£è¡¨ç½‘ç»œä¸é€šã€‚è¿™ä¸ªæ—¶å€™å°±è¦ä½¿ç”¨ telnetï¼Œé€šè¿‡å…¶ä»–åè®®æ¥æµ‹è¯•ç½‘ç»œæ˜¯å¦é€š Tracerouteï¼šå·®é”™æŠ¥æ–‡ç±»åž‹çš„ä½¿ç”¨ ç¬¬ä¸€å°è±¡ï¼šTraceroute çš„å‚æ•°æŒ‡å‘æŸä¸ªç›®çš„ IP åœ°å€ï¼Œå®ƒä¼šå‘é€ä¸€ä¸ª UDP çš„æ•°æ®åŒ…ã€‚å°† TTL è®¾ç½®æˆ 1ï¼Œå¦‚æžœä¸­é—´çš„è·¯ç”±å™¨ä¸æ­¢ä¸€ä¸ªï¼Œå½“ç„¶ç¢°åˆ°ç¬¬ä¸€ä¸ªå°±â€œç‰ºç‰²â€ã€‚äºŽæ˜¯ï¼Œè¿”å›žä¸€ä¸ª ICMP åŒ…ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œå·®é”™åŒ…ï¼Œç±»åž‹æ˜¯æ—¶é—´è¶…æ—¶é‡æ¸©ï¼šï¼Œæœ‰çš„è·¯ç”±å™¨åŽ‹æ ¹ä¸ä¼šå›žè¿™ä¸ª ICMPï¼Œä½†å®ƒä¼š é€‰æ‹©ä¸€ä¸ªä¸å¯èƒ½çš„å€¼ä½œä¸º UDP ç«¯å£å·ï¼ˆå¤§äºŽ 30000ï¼‰ã€‚å½“è¯¥æ•°æ®æŠ¥åˆ°è¾¾æ—¶ï¼Œå°†ä½¿ç›®çš„ä¸»æœºçš„ UDP æ¨¡å— äº§ç”Ÿä¸€ä»½â€œç«¯å£ä¸å¯è¾¾ï¼ˆä¸»æœºï¼‰â€é”™è¯¯ ICMP æŠ¥æ–‡ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šTraceroute è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯æ•…æ„è®¾ç½®ä¸åˆ†ç‰‡ï¼Œä»Žè€Œç¡®å®šè·¯å¾„çš„ MTUã€‚è¿™æ˜¯äººå®¶æ•…æ„çš„å¥½ å§ï¼Œæ¯æ¬¡æ”¶åˆ° ICMPâ€œä¸èƒ½åˆ†ç‰‡â€å·®é”™æ—¶å°±å‡å°åˆ†ç»„çš„é•¿åº¦ï¼Œç›´åˆ°åˆ°è¾¾ç›®æ ‡ä¸»æœºã€‚é‡æ¸©ï¼šç¡®å®šmtuæ˜¯å¦å¯ä»¥ é¢å¤–çŸ¥è¯† 1 tcpdumptcpdump æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨å‘½ä»¤è¡Œä¸‹çš„å—…æŽ¢å·¥å…·ã€‚å®ƒå…è®¸ç”¨æˆ·æ‹¦æˆªå’Œæ˜¾ç¤ºå‘é€æˆ–æ”¶åˆ°è¿‡ç½‘ç»œè¿žæŽ¥åˆ°è¯¥è®¡ç®—æœºçš„TCP/IPå’Œå…¶ä»–æ•°æ®åŒ…ã€‚tcpdump æ˜¯ä¸€ä¸ªåœ¨BSDè®¸å¯è¯ä¸‹å‘å¸ƒ[2]çš„è‡ªç”±è½¯ä»¶ã€‚tcpdump é€‚ç”¨äºŽå¤§å¤šæ•°çš„ç±»Unixç³»ç»Ÿ æ“ä½œç³»ç»Ÿï¼šåŒ…æ‹¬Linuxã€Solarisã€BSDã€Mac OS Xã€HP-UXå’ŒAIX ç­‰ç­‰ã€‚åœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œtcpdump éœ€è¦ä½¿ç”¨libpcapè¿™ä¸ªæ•æ‰æ•°æ®çš„åº“ã€‚å…¶åœ¨Windowsä¸‹çš„ç‰ˆæœ¬ç§°ä¸ºWinDumpï¼›å®ƒéœ€è¦WinPcapé©±åŠ¨ï¼Œç›¸å½“äºŽåœ¨Linuxå¹³å°ä¸‹çš„libpcap.https://www.iteye.com/blog/wezly-608177 windump å·¥å…·2 telnetTelnetæ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ï¼Œä½¿ç”¨äºŽç½‘é™…ç½‘è·¯åŠåŒºåŸŸç½‘ä¸­ï¼Œä½¿ç”¨è™šæ‹Ÿç»ˆç«¯æœºçš„å½¢å¼ï¼Œæä¾›åŒå‘ã€ä»¥æ–‡å­—å­—ä¸²ä¸ºä¸»çš„å‘½ä»¤åˆ—ä»‹é¢äº’åŠ¨åŠŸèƒ½ã€‚å±žäºŽTCP/IPåè®®æ—çš„å…¶ä¸­ä¹‹ä¸€ï¼Œæ˜¯Internetè¿œç«¯ç™»å½•æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ï¼Œå¸¸ç”¨äºŽä¼ºæœå™¨çš„è¿œç«¯æŽ§åˆ¶ï¼Œå¯ä¾›ä½¿ç”¨è€…åœ¨æœ¬åœ°ä¸»æœºæ‰§è¡Œè¿œç«¯ä¸»æœºä¸Šçš„å·¥ä½œã€‚Telnetåœ¨1969å¹´å¼€å‘å‡ºæ¥ï¼Œåœ¨ RFC 15 å®šä¹‰ï¼Œ RFC 854 å®šä¹‰äº†æ‰©å……åŠŸèƒ½ã€‚äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼ˆIETFï¼‰ï¼Œåœ¨STD 8ä¸­ï¼Œå°†å…¶åŠ ä»¥æ ‡å‡†åŒ–ï¼Œæ˜¯æœ€æ—©å½¢æˆçš„ç½‘é™…ç½‘è·¯åè®®ä¹‹ä¸€ã€‚ ç¬¬8è®² | ä¸–ç•Œè¿™ä¹ˆå¤§ï¼Œæˆ‘æƒ³å‡ºç½‘å…³ï¼šæ¬§æ´²åå›½æ¸¸ä¸ŽçŽ„å¥˜è¥¿è¡Œè‡ªæˆ‘æ€»ç»“ ä½ äº†è§£ MAC å¤´å’Œ IP å¤´çš„ç»†èŠ‚å—ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šç½‘å…³å¾€å¾€æ˜¯ä¸€ä¸ªè·¯ç”±å™¨çš„ä¸€éƒ¨åˆ†ï¼Œä¸‰å±‚è½¬å‘è®¾å¤‡ï¼šå°±æ˜¯æŠŠMACå¤´å’ŒIPå¤´éƒ½å–ä¸‹æ¥ï¼Œæ ¹æ®é‡Œé¢å†…å®¹è¿›è¡Œè½¬å‘çš„è®¾å¤‡ã€‚è·¯ç”±å™¨æ¯åªæ‰‹çš„IPåœ°å€éƒ½å’Œå±€åŸŸç½‘çš„IPåœ°å€æœ‰ç›¸åŒçš„ç½‘æ®µï¼Œæ¯åªæ‰‹éƒ½æ˜¯å®ƒæ¡ä½çš„é‚£ä¸ªå±€åŸŸç½‘çš„ç½‘å…³ã€‚é‡æ¸©ï¼šå¦‚ä½•å‘å¾€é»˜è®¤ç½‘å…³ï¼Œåœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œå°†æºåœ°å€å’Œç›®æ ‡IPæ”¾å…¥IPå¤´ä¸­ï¼Œé€šè¿‡ARPèŽ·å¾—ç½‘å…³çš„MACåœ°å€ï¼Œå°†æº MAC å’Œç½‘å…³ çš„ MAC æ”¾å…¥ MAC å¤´ä¸­ï¼Œå‘é€å‡ºåŽ»ï¼ˆè¿™ä¸ªåŠ¨ä½œæ˜¯åœ¨è·¯ç”±å™¨è¿˜æ˜¯ä¸»æœºä¸Šï¼‰ã€‚å¦‚ä½•åˆ¤æ–­åŒä¸€ä¸ªç½‘æ®µï¼Ÿé€šè¿‡CIDRå’Œå­ç½‘æŽ©ç ã€‚ é™æ€è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šé™æ€è·¯ç”±ï¼Œå…¶å®žå°±æ˜¯åœ¨è·¯ç”±å™¨ä¸Šï¼Œé…ç½®ä¸€æ¡ä¸€æ¡è§„åˆ™ã€‚é‡æ¸©ï¼š IP å¤´å’Œ MAC å¤´å“ªäº›å˜ã€å“ªäº›ä¸å˜ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šMACåœ°å€æ˜¯ä¸€ä¸ªå±€åŸŸç½‘å†…æœ‰æ•ˆçš„åœ°å€ï¼Œè¿‡äº†ç½‘å…³ï¼Œå°±å¿…å®šä¼šæ”¹å˜ï¼ˆç”±æ­¤å¯ä»¥æŽ¨æ–­ï¼Œè¿™ä¸ªä¸œè¥¿æ˜¯åœ¨è·¯ç”±å™¨ä¸Šè¿›è¡Œæ›´æ¢çš„ï¼‰é‡æ¸©ï¼šä¸æ”¹å˜IPåœ°å€çš„ç½‘å…³ï¼Œæˆ‘ä»¬ç§°ä¸ºè½¬å‘ç½‘å…³ï¼Œè¯¥ç™½ä½ ipåœ°å€çš„ç½‘å…³ï¼Œæˆ‘ä»¬ç§°ä¸ºNATç½‘å…³ â€œæ¬§æ´²åå›½æ¸¸â€åž‹ ç¬¬ä¸€å°è±¡ï¼šIPå¤´é‡Œé¢çš„åœ°å€æ˜¯ä¸å˜çš„ï¼ŒIPåœ°å€åœ¨ä¸‰ä¸ªå±€åŸŸç½‘é‡Œé¢éƒ½æ˜¯å¯è§çš„ã€‚é…ç½®é™æ€è·¯ç”±ï¼Œå®ƒçš„è§£æžæ˜¯ï¼šè¦æƒ³è®¿é—® x.x.x.x è¦ä»Žx.x.x.xè¿™ä¸ªå£å‡ºåŽ»ï¼Œä¸‹ä¸€æ¡æ˜¯ x.x.x.x ã€‚æ‰€è°“çš„ä¸‹ä¸€è·³æ˜¯ï¼ŒæŸä¸ªIPè¦å°†è¿™ä¸ªipåœ°å€è½¬æ¢ä¸ºmacæ”¾å…¥macå¤´é‡æ¸©ï¼šåœ¨ä¸‰ä¸ªç½‘æ®µä¹‹é—´ä¼ è¾“åŒ…ï¼ŒIP å¤´ä¸æ”¹å˜ã€‚è¿™å°± åƒåœ¨æ¬§æ´²å„å›½ä¹‹é—´æ—…æ¸¸ï¼Œä¸€ä¸ªç­¾è¯å°±èƒ½æžå®šã€‚ â€œçŽ„å¥˜è¥¿è¡Œâ€åž‹ ç¬¬ä¸€å°è±¡ï¼šä¸­å›½å’Œå°åº¦çš„ä¸€ä¸ªåœ°æ–¹ç½‘å€æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ—¶å€™è”ç³»å°±éœ€è¦NATè½¬æ¢ï¼Œå½“ç½‘ç»œåŒ…å‘é€åˆ°ä¸­é—´çš„å±€åŸŸç½‘çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ A ä¹Ÿéœ€è¦æœ‰ä¸ªå›½é™…èº«ä»½ï¼Œå› è€Œåœ¨å›½é™…ä¸Šï¼Œæº IP åœ°å€ä¹Ÿä¸èƒ½ ç”¨ 192.168.1.101ï¼Œéœ€è¦æ”¹æˆ 192.168.56.1ã€‚ï¼ˆçœ‹ä¸‹å›¾ï¼‰é‡æ¸©ï¼šè·¯ç”±å™¨ B æ˜¯ä¸€ä¸ª NAT ç½‘å…³ï¼Œå®ƒä¸Šé¢é…ç½®äº†ï¼Œè¦è®¿é—®å›½é™…èº«ä»½ 192.168.56.2 å¯¹åº”å›½å†…èº«ä»½ 192.168.1.101ï¼ŒäºŽæ˜¯æ”¹ä¸ºè®¿é—® 192.168.1.101ã€‚å½“æˆ‘ä»¬å®¶é‡Œå‘å‡ºåŽ»çš„æ—¶å€™ï¼Œéƒ½è¢«å®¶ç”¨è·¯ç”±å™¨NATæˆè¿è¥å•†çš„åœ°å€äº† æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šå¦‚æžœç¦»å¼€æœ¬å±€åŸŸç½‘ï¼Œå°±éœ€è¦ç»è¿‡ç½‘å…³ï¼Œç½‘å…³æ˜¯è·¯ç”±å™¨çš„ä¸€ä¸ªç½‘å£ï¼› è·¯ç”±å™¨æ˜¯ä¸€ä¸ªä¸‰å±‚è®¾å¤‡ï¼Œé‡Œé¢æœ‰å¦‚ä½•å¯»æ‰¾ä¸‹ä¸€è·³çš„è§„åˆ™ï¼›é‡æ¸©ï¼šç»è¿‡è·¯ç”±å™¨ä¹‹åŽ MAC å¤´è¦å˜ï¼Œå¦‚æžœ IP ä¸å˜ï¼Œç›¸å½“äºŽä¸æ¢æŠ¤ç…§çš„æ¬§æ´²æ—…æ¸¸ï¼Œå¦‚æžœ IP å˜ï¼Œç›¸å½“äºŽæ¢æŠ¤ ç…§çš„çŽ„å¥˜è¥¿è¡Œã€‚ ç¬¬9è®² | è·¯ç”±åè®®ï¼šè¥¿å‡ºç½‘å…³æ— æ•…äººï¼Œæ•¢é—®è·¯åœ¨ä½•æ–¹è‡ªæˆ‘æ€»ç»“ å¦‚ä½•é…ç½®è·¯ç”± ç¬¬ä¸€å°è±¡ï¼šæ ¹æ®ç›®çš„ipåœ°å€æ¥é…ç½®è·¯ç”±ï¼Œè¾ƒç®€å•çš„é™æ€è·¯ç”±é‡æ¸©ï¼šé€šè¿‡routeå‘½ä»¤å’Œip route å‘½ä»¤éƒ½å¯ä»¥è¿›è¡ŒæŸ¥è¯¢æˆ–è€…é…ç½® å¦‚ä½•é…ç½®ç­–ç•¥è·¯ç”± ç¬¬ä¸€å°è±¡ï¼šæ›´å¤æ‚ç‚¹çš„é™æ€è·¯ç”±ï¼Œæˆ¿ä¸œå¯ä»¥è®¾ç½®ä¸åŒçš„è·¯ç”±è¡¨æ¥è®©ç§Ÿå®¢äº«å—ä¸åŒçš„ç½‘é€Ÿï¼Œæ›´å¤æ‚å¯èƒ½è¦è®¾è®¡NATè·¯ç”±å™¨ï¼Œ ip route list table main å¯ä»¥è®¾ç½®ï¼Œè¿è¥å•†äºŒèµ°eth3ï¼Œè¿è¥å•†ä¸€èµ°eth2ï¼Œè®¿é—®å†…ç½‘èµ°eth1ã€‚é‡æ¸©ï¼šå¦‚æžœæ­¤æ—¶æœ‰ç”¨æˆ·æƒ³åæ‚”ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°çš„è¡¨ï¼Œç„¶åŽå°†è¡¨å†…å®¹å’Œeth3ï¼Œå’Œä»–çš„ipåœ°å€è”ç³»èµ·æ¥ï¼Œæœ€åŽ ip route flush cacheå°±å¥½äº† åŠ¨æ€è·¯ç”±ç®—æ³•ä¹‹è·ç¦»çŸ¢é‡è·¯ç”±ç®—æ³• and é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³• ç¬¬ä¸€å°è±¡ï¼šå‰è€…åŸºäºŽ Bellman-Ford ç®—æ³•ï¼Œripåˆ©ç”¨è¿™ä¸ªç®—æ³•ï¼Œåˆ°äº†ä¸€å®šé˜ˆå€¼ï¼Œæ‰èƒ½åˆ¤æ–­å®ƒæŒ‚äº†ï¼Œæ¯”å¦‚15è·³ã€‚é‡æ¸©ï¼šåŽè€…åŸºäºŽDijkstra ç®—æ³•ã€‚ï¼Œæ”¶åˆ°é‚»å±…çš„ä¿¡æ¯ï¼Œç„¶åŽç»„æˆå›¾ï¼Œé’ˆå¯¹å›¾æ¥ä½¿ç”¨ Dijkstra ç®—æ³•ï¼Œæ‰¾åˆ°ä¸¤ç‚¹é—´æœ€çŸ­è·¯å¾„ åŠ¨æ€è·¯ç”±åè®®ä¹‹åŸºäºŽé“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•çš„ OSPF and åŸºäºŽè·ç¦»çŸ¢é‡è·¯ç”±ç®—æ³•çš„ BGPï¼ˆåŸºäºŽè·ç¦»çš„åˆ†æ˜Žä¸å¥½ï¼ŒBGPä¸ºä½•ä¼šç”¨ï¼Œå› ä¸ºæ”¹è¿›äº†ï¼Œå±žäºŽå‡çº§ç‰ˆï¼‰ ç¬¬ä¸€å°è±¡ï¼šå¹¿æ³›åº”ç”¨åœ¨æ•°æ®ä¸­å¿ƒï¼Œç”¨äºŽè·¯ç”±å†³ç­–ï¼Œç§°ä¸ºå†…éƒ¨ç½‘å…³åè®®ã€‚å‘çŽ°å¤šä¸ªæœ€çŸ­è·¯å¾„ï¼Œå°±å¯ä»¥åœ¨å¤šä¸ªè·¯å¾„ä¸­è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå¸¸è¢«ç§°ä¸ºç­‰ä»·è·¯ç”±ã€‚é‡æ¸©ï¼šAS è‡ªæ²»ç³»ç»Ÿï¼Œä¸ºäº†ä¿è¯è¿‘ï¼Œä½†æ˜¯ä¸èƒ½éšä¾¿èµ°çš„é—®é¢˜ï¼Œæ¯ä¸ªè‡ªæ²»ç³»ç»Ÿéƒ½æœ‰è¾¹ç•Œè·¯ç”±å™¨ï¼Œé€šè¿‡å®ƒå’Œå¤–ç•Œè”ç³»ã€‚è¾¹ç•Œè·¯ç”±å™¨ä¹‹é—´ä½¿ç”¨ eBGP å¹¿æ’­è·¯ç”±ï¼Œè¿è¡Œ iBGPï¼Œä½¿å¾—å†…éƒ¨çš„è·¯ç”±å™¨èƒ½å¤Ÿæ‰¾åˆ°åˆ°è¾¾å¤–ç½‘ç›®çš„åœ°çš„æœ€å¥½çš„è¾¹ç•Œè·¯ç”±å™¨ï¼Œåœ¨BGPä¸­é™¤äº†ä¸‹ä¸€è·³ hop ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬è‡ªæ²»ç³»ç»Ÿ as è·¯å¾„ï¼Œé¿å…äº†æ¶ˆæ¯ä¼ å¾—æ…¢çš„é—®é¢˜ï¼Œbåˆ°cé€šè¿‡aï¼Œä½†æ˜¯aåˆ°ä¸äº†cäº†ï¼Œæ‰€ä»¥bä¹Ÿåˆ°ä¸äº†cã€‚ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šåŠ¨æ€è·¯ç”±ä¸»æµç®—æ³•æœ‰ä¸¤ç§ï¼Œè·ç¦»çŸ¢é‡ç®—æ³•å’Œé“¾è·¯çŠ¶æ€ç®—æ³•ã€‚åŸºäºŽä¸¤ç§ç®—æ³•äº§ç”Ÿä¸¤ç§åè®®ï¼ŒBGP åè®®å’Œ OSPF åè®®ã€‚é‡æ¸©ï¼šé™æ€è·¯ç”±å¯ä»¥é…ç½®å¤æ‚çš„ç­–ç•¥è·¯ç”±ï¼ŒæŽ§åˆ¶è½¬å‘ç­–ç•¥ï¼› é¢å¤–çŸ¥è¯† 1 TOS (æ ¹æ®æº IP åœ°å€ã€å…¥å£è®¾å¤‡ã€TOS ç­‰é€‰æ‹©è·¯ç”±è¡¨) bitçš„TOSåˆ†åˆ«ä»£è¡¨ï¼š æœ€å°æ—¶å»¶ã€æœ€å¤§åžåé‡ã€æœ€é«˜å¯é æ€§å’Œæœ€å°è´¹ç”¨ ã€‚4 bitä¸­åªèƒ½ç½®å…¶ä¸­1 bitã€‚å¦‚æžœæ‰€æœ‰4 bitå‡ä¸º0ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€æ˜¯ä¸€èˆ¬æœåŠ¡ã€‚ ç¬¬10è®² | UDPåè®®ï¼šå› æ€§å–„è€Œç®€å•ï¼Œéš¾å…ç¢°åˆ°â€œåŸŽä¼šçŽ©â€è‡ªæˆ‘æ€»ç»“ tcp ä¸Ž udp æœ‰å“ªäº›åŒºåˆ« ç¬¬ä¸€å°è±¡ï¼šé¢å‘è¿žæŽ¥ï¼Œéžé¢å‘è¿žæŽ¥ï¼Œudpç®€å•ï¼Œæ²¡æœ‰æ‹¥å¡žæŽ§åˆ¶ï¼Œudpæ˜¯é›†æˆipåŒ…çš„ç‰¹æ€§ï¼Œudpæ˜¯æ— çŠ¶æ€æœåŠ¡é‡æ¸©ï¼štcp æä¾›å¯é äº¤ä»˜ï¼Œæ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æŒ‰åºåˆ°è¾¾ã€‚tcp é¢å‘å­—èŠ‚æµï¼Œæ²¡å¤´æ²¡å°¾ã€æ‹¥å¡žæŽ§åˆ¶ï¼Œå‘é€å¿«æ…¢ä¸€å®šç¨‹åº¦ä¸Šå¯æŽ§åˆ¶ï¼Œæœ‰çŠ¶æ€çš„ï¼Œç²¾ç¡®è®°ä½å‘é€äº†æ²¡æœ‰ï¼ŒæŽ¥å—åˆ°æ²¡æœ‰ç­‰ç­‰ã€‚ udpåŒ…å¤´æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šudpåŒ…å–å‡ºmacåœ°å€ï¼Œäº¤ç»™å¤„ç†IPå±‚çš„ä»£ç ã€‚IPå¤´é‡Œæœ‰8ä¸ºä½åè®®ï¼Œå­˜æ”¾tcpè¿˜æ˜¯udoçš„æ•°æ®ã€‚é‡æ¸©ï¼šæ˜Žç™½udpçš„æ ¼å¼ï¼Œæ•°æ®è§£æžå‡ºæ¥ï¼Œäº¤ä»˜ç»™ç«¯å£å·å¯¹åº”çš„ç¨‹åºï¼ŒudpåŒ…å¤´çš„æ ¼å¼å’Œtcpæ¯”èµ·æ¥å¾ˆç®€å• udp ä¸‰å¤§ç‰¹ç‚¹ ç¬¬ä¸€å°è±¡ï¼šæ²Ÿé€šç®€å•ã€è½»ä¿¡ä»–äººã€æ„£å¤´é’ã€åšäº‹ä¸æ‡‚æƒå˜é‡æ¸©ï¼šé»˜è®¤æ˜¯å¾ˆå®¹æ˜“åˆ°è¾¾ï¼Œä¸å®¹æ˜“è¢«ä¸¢å¼ƒçš„ã€è°éƒ½å¯ä»¥ä¼ ç»™ä»–æ•°æ®ï¼Œå®ƒä¹Ÿå¯ä»¥ä¼ ç»™ä»»ä½•äººæ•°æ®ã€ä¸ä¼šè¿›è¡Œæ‹¥å¡žæŽ§åˆ¶ï¼Œè¯¥å¦‚ä½•ä»æ—§å¦‚ä½• udpçš„ä¸‰å¤§ä½¿ç”¨åœºæ™¯ ç¬¬ä¸€å°è±¡ï¼šéœ€è¦èµ„æºå°‘ï¼Œåœ¨ç½‘ç»œæƒ…å†µæ¯”è¾ƒå¥½çš„å†…ç½‘ï¼Œæˆ–è€…å¯¹äºŽä¸¢åŒ…ä¸æ•æ„Ÿçš„åº”ç”¨ã€ä¸éœ€è¦ä¸€å¯¹ä¸€äº¤æµï¼Œå»ºç«‹è¿žæŽ¥ï¼Œè€Œæ˜¯å¯ä»¥å¹¿æ’­çš„åº”ç”¨ã€éœ€è¦å¤„ç†é€Ÿåº¦å¿«ï¼Œæ—¶å»¶ä½Žã€å¯ä»¥å®¹å¿å°‘æ•°ä¸¢åŒ…ï¼Œä¸æ”¯æŒæ‹¥å¡žæŽ§åˆ¶çš„é‡æ¸©ï¼šæ“ä½œç³»ç»Ÿé•œåƒä¸‹è½½ TFTPã€DHCP å¹¿æ’­ã€æœ¬æ¥çŽ¯å¢ƒå°±å·®çš„ï¼Œä¸èƒ½è‡ªæ–­è‡‚è†€ã€‚ åŸºäºŽ UDP çš„â€œåŸŽä¼šçŽ©â€çš„äº”ä¸ªä¾‹å­ ç¬¬ä¸€å°è±¡ï¼šç½‘é¡µæˆ–è€…appçš„è®¿é—®ã€æµåª’ä½“çš„åè®®ã€å®žæ—¶æ¸¸æˆã€IoTç‰©è”ç½‘ã€ç§»åŠ¨é€šä¿¡é¢†åŸŸé‡æ¸©ï¼šåº”ç”¨å±‚çš„ä»£è¡¨ï¼ŒQUICã€åŸºäºŽUDPå®žçŽ°è‡ªå·±çš„è§†é¢‘ä¼ è¾“åè®®ã€è‡ªå®šä¹‰å¯é udpåè®®ï¼Œé‡ä¼ ç­–ç•¥ï¼Œå‡å°‘ä¸¢åŒ…äº§ç”Ÿçš„å»¶è¿Ÿï¼Œå‡å°‘ç½‘ç»œé—®é¢˜å¯¹æ¸¸æˆä½“éªŒçš„å½±å“ã€åµŒå…¥å¼ç³»ç»Ÿï¼Œå®žæ—¶æ€§è¦æ±‚ä¹Ÿé«˜ã€ç§»åŠ¨ç½‘ç»œåè®®å·²ç»ç›¸å½“å¤æ‚ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šUDP è™½ç„¶ç®€å•ï¼Œä½†å®ƒæœ‰ç®€å•çš„ç”¨æ³•ã€‚å®ƒå¯ä»¥ç”¨åœ¨çŽ¯å¢ƒç®€å•ã€éœ€è¦å¤šæ’­ã€åº”ç”¨å±‚è‡ªå·±æŽ§åˆ¶ä¼ è¾“çš„åœ°æ–¹ã€‚ ä¾‹å¦‚ DHCPã€VXLANã€QUIC ç­‰ã€‚é‡æ¸©ï¼šå¦‚æžœå°† TCP æ¯”ä½œæˆç†Ÿçš„ç¤¾ä¼šäººï¼ŒUDP åˆ™æ˜¯å¤´è„‘ç®€å•çš„å°æœ‹å‹ã€‚TCP å¤æ‚ï¼ŒUDP ç®€å•ï¼›TCP ç»´æŠ¤è¿ž æŽ¥ï¼ŒUDP è°éƒ½ç›¸ä¿¡ï¼›TCP ä¼šåšæŒçŸ¥è¿›é€€ï¼›UDP æ„£å¤´é’ä¸€ä¸ªï¼Œå‹‡å¾€ç›´å‰ï¼› é¢å¤–çŸ¥è¯† 1 ç»„æ’­ https://zh.wikipedia.org/wiki/%E5%A4%9A%E6%92%ADå¤šæ’­ï¼ˆè‹±è¯­ï¼šmulticastï¼Œå°æ¹¾åˆè¯‘ä½œå¤šç‚¹å‘é€ã€å¤šç‚¹å¹¿æ’­æˆ–ç¾¤æ’­ï¼Œä¸­å›½å¤§é™†åˆè¯‘ä½œç»„æ’­ï¼‰æ˜¯æŒ‡æŠŠä¿¡æ¯åŒæ—¶ä¼ é€’ç»™ä¸€ç»„ç›®çš„åœ°å€ã€‚å®ƒä½¿ç”¨çš„ç­–ç•¥æ˜¯æœ€é«˜æ•ˆçš„ï¼Œå› ä¸ºæ¶ˆæ¯åœ¨æ¯æ¡ç½‘ç»œé“¾è·¯ä¸Šåªéœ€ä¼ é€’ä¸€æ¬¡ï¼Œä¸”åªæœ‰åœ¨é“¾è·¯åˆ†å‰çš„æ—¶å€™ï¼Œæ¶ˆæ¯æ‰ä¼šè¢«å¤åˆ¶ã€‚ä¸Žå¤šæ’­ç›¸æ¯”ï¼Œå¸¸è§„çš„ç‚¹åˆ°å•ç‚¹ä¼ é€’è¢«ç§°ä½œå•æ’­ã€‚å½“ä»¥å•æ’­çš„å½¢å¼æŠŠæ¶ˆæ¯ä¼ é€’ç»™å¤šä¸ªæŽ¥æ”¶æ–¹æ—¶ï¼Œå¿…é¡»å‘æ¯ä¸ªæŽ¥æ”¶è€…éƒ½å‘é€ä¸€ä»½æ•°æ®å‰¯æœ¬ã€‚ç”±æ­¤äº§ç”Ÿçš„å¤šä½™å‰¯æœ¬å°†å¯¼è‡´å‘é€æ–¹æ•ˆçŽ‡ä½Žä¸‹ï¼Œä¸”ç¼ºä¹å¯æ‰©å±•æ€§ã€‚ä¸è¿‡ï¼Œè®¸å¤šæµè¡Œçš„åè®®â€”â€”ä¾‹å¦‚XMPPï¼Œç”¨é™åˆ¶æŽ¥æ”¶è€…æ•°é‡çš„æ–¹æ³•å¼¥è¡¥äº†è¿™ä¸€ä¸è¶³ã€‚ 2 IGMP åŒ… ç½‘è·¯ç¾¤ç»„ç®¡ç†åè®®ï¼ˆInternet Group Management Protocolæˆ–ç®€å†™IGMP)æ˜¯ç”¨äºŽç®¡ç†ç½‘è·¯åè®®å¤šæ’­ç»„æˆå‘˜çš„ä¸€ç§é€šä¿¡åè®®ã€‚IPä¸»æœºå’Œç›¸é‚»çš„è·¯ç”±å™¨åˆ©ç”¨IGMPæ¥åˆ›å»ºå¤šæ’­ç»„çš„ç»„æˆå‘˜ã€‚åƒICMPç”¨äºŽå•æ’­è¿žæŽ¥ä¸€æ ·ï¼ŒIGMPä¹Ÿæ˜¯IPå¤šæ’­è¯´æ˜Žçš„ä¸€ä¸ªå®Œæ•´éƒ¨åˆ†ã€‚ IGMPä¸ºäº’è”ç½‘åè®®çš„ä¸€ç§ï¼Œå±žäºŽå¼€æ”¾ç³»ç»Ÿé“¾æŽ¥(OSI) æ¨¡å—çš„ç¬¬ä¸‰å±‚åè®®ï¼ŒIPä¸»æœºç”¨å®ƒå°†ä¸»æœºçš„å¤šç‚¹å‘é€æˆå‘˜äººæ•°æŠ¥å‘Šç»™ä¸´è¿‘çš„å¤šç‚¹å‘é€è·¯ç”±å™¨ã€‚ 3 RTMP åè®® https://mingyangshang.github.io/2016/03/06/RTMP%E5%8D%8F%E8%AE%AE/RTMPåè®®æ˜¯åº”ç”¨å±‚åè®®ï¼Œæ˜¯è¦é åº•å±‚å¯é çš„ä¼ è¾“å±‚åè®®ï¼ˆé€šå¸¸æ˜¯TCPï¼‰æ¥ä¿è¯ä¿¡æ¯ä¼ è¾“çš„å¯é æ€§çš„ã€‚åœ¨åŸºäºŽä¼ è¾“å±‚åè®®çš„é“¾æŽ¥å»ºç«‹å®ŒæˆåŽï¼ŒRTMPåè®®ä¹Ÿè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡â€œæ¡æ‰‹â€æ¥å»ºç«‹åŸºäºŽä¼ è¾“å±‚é“¾æŽ¥ä¹‹ä¸Šçš„RTMP Connectioné“¾æŽ¥ï¼Œåœ¨Connectioné“¾æŽ¥ä¸Šä¼šä¼ è¾“ä¸€äº›æŽ§åˆ¶ä¿¡æ¯ï¼Œå¦‚SetChunkSize,SetACKWindowSizeã€‚ ç¬¬13è®² | å¥—æŽ¥å­—Socketï¼šTalk is cheap, show me the codeè‡ªæˆ‘æ€»ç»“ å‰è¨€ Socket å‡½æ•°è¦æŒ‡å®šipv4 æˆ–è€… ipv6 å¯¹åº” AF_INET å’Œ AF_INET6ã€‚æŒ‡å®šæ•°æ®æµtcpè¿˜æ˜¯æ•°æ®æŠ¥udpï¼Œå¯¹åº” SOCK_STREAM å’Œ SOCK_DGRAMã€‚ åŸºäºŽ TCP åè®®çš„ Socket ç¨‹åºå‡½æ•°è°ƒç”¨è¿‡ç¨‹ ç¬¬ä¸€å°è±¡ï¼šç›‘å¬çš„ Socket å’ŒçœŸæ­£ç”¨æ¥ä¼ æ•°æ®çš„ Socket æ˜¯ä¸¤ä¸ªï¼Œä¸€ä¸ªå«ä½œç›‘å¬ Socketï¼Œä¸€ä¸ªå«ä½œå·²è¿žæŽ¥ Socketã€‚é‡æ¸©ï¼šSocket å¯¹åº”çš„ inode ä¸åƒçœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œä¿å­˜åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œè€Œæ˜¯åœ¨å†…å­˜ä¸­çš„ï¼ˆå…·ä½“è¿‡ç¨‹ä¸æ‡‚å°±çœ‹åŽŸæ–‡ï¼Œæ˜¯ä¸€ç³»åˆ—æŒ‡é’ˆè°ƒç”¨çš„è¿‡ç¨‹ï¼‰ã€‚ åŸºäºŽ UDP åè®®çš„ Socket ç¨‹åºå‡½æ•°è°ƒç”¨è¿‡ç¨‹ ç¬¬ä¸€å°è±¡ï¼šUDP æ˜¯æ²¡æœ‰ç»´æŠ¤è¿žæŽ¥çŠ¶æ€çš„ï¼Œå› è€Œä¸éœ€è¦æ¯å¯¹è¿žæŽ¥å»ºç«‹ä¸€ç»„ Socketï¼Œè€Œæ˜¯åªè¦æœ‰ä¸€ä¸ª Socketï¼Œå°±èƒ½å¤Ÿå’Œå¤šä¸ªå®¢æˆ·ç«¯é€šä¿¡ã€‚æ­£æ˜¯å› ä¸ºæ²¡æœ‰è¿žæŽ¥çŠ¶æ€ï¼Œæ¯æ¬¡é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è°ƒç”¨ sendto å’Œ recvfromï¼Œéƒ½å¯ä»¥ä¼ å…¥ IP åœ°å€å’Œç«¯å£ã€‚é‡æ¸©ï¼šåŸºäºŽudpçš„socketç¼–ç¨‹å¥½åƒæ˜¯æ²¡æœ‰ç”¨è¿‡ï¼Œç›¸å¯¹äºŽåŸºäºŽtcpï¼Œç¡®å®žä¹Ÿæ¯”è¾ƒç®€å•ã€‚ æœåŠ¡å™¨å¦‚ä½•æŽ¥æ›´å¤šçš„é¡¹ç›®ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šæœåŠ¡ç«¯æœ€å¤§å¹¶å‘ TCP è¿žæŽ¥æ•°è¿œä¸èƒ½è¾¾åˆ°ç†è®ºä¸Šé™ã€‚é¦–å…ˆä¸»è¦æ˜¯æ–‡ä»¶æè¿°ç¬¦é™åˆ¶ï¼›å¦ä¸€ä¸ªé™åˆ¶æ˜¯å†…å­˜ï¼ŒæŒ‰ä¸Šé¢çš„æ•°æ®ç»“æž„ï¼Œæ¯ä¸ª TCP è¿žæŽ¥éƒ½è¦å ç”¨ä¸€å®šå†…å­˜ï¼Œæ“ä½œç³»ç»Ÿæ˜¯æœ‰é™çš„ã€‚é‡æ¸©ï¼šåœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œè¦æƒ³æŽ¥æ›´å¤šçš„é¡¹ç›®ï¼Œå°±éœ€è¦é™ä½Žæ¯ä¸ªé¡¹ç›®æ¶ˆè€—çš„èµ„æºæ•°ç›®ã€‚ æ–¹å¼ä¸€ï¼šå°†é¡¹ç›®å¤–åŒ…ç»™å…¶ä»–å…¬å¸ï¼ˆå¤šè¿›ç¨‹æ–¹å¼ï¼‰ ç¬¬ä¸€å°è±¡ï¼šä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œç„¶åŽå°†åŸºäºŽå·²è¿žæŽ¥ Socket çš„äº¤äº’äº¤ç»™è¿™ä¸ªæ–°çš„å­è¿›ç¨‹æ¥åšã€‚å¦‚ä½•åˆ›å»ºå­å…¬å¸ï¼Œå¹¶å¦‚ä½•å°†é¡¹ç›®ç§»äº¤ç»™å­å…¬å¸å‘¢ï¼Ÿé‡æ¸©ï¼šåœ¨ Linux ä¸‹ï¼Œåˆ›å»ºå­è¿›ç¨‹ä½¿ç”¨ fork å‡½æ•°ã€‚é€šè¿‡åå­—å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯åœ¨çˆ¶è¿›ç¨‹çš„åŸºç¡€ä¸Šå®Œå…¨æ‹·è´ä¸€ä¸ªå­è¿› ç¨‹ã€‚åœ¨ Linux å†…æ ¸ä¸­ï¼Œä¼šå¤åˆ¶æ–‡ä»¶æè¿°ç¬¦çš„åˆ—è¡¨ï¼Œä¹Ÿä¼šå¤åˆ¶å†…å­˜ç©ºé—´ï¼Œè¿˜ä¼šå¤åˆ¶ä¸€æ¡è®°å½•å½“å‰æ‰§è¡Œåˆ°äº† å“ªä¸€è¡Œç¨‹åºçš„è¿›ç¨‹ã€‚å¤åˆ¶çš„æ—¶å€™åœ¨è°ƒç”¨ forkï¼Œå¤åˆ¶å®Œæ¯•ä¹‹åŽï¼Œçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹éƒ½ä¼šè®°å½•å½“å‰åˆšåˆš æ‰§è¡Œå®Œ forkã€‚è¿™ä¸¤ä¸ªè¿›ç¨‹åˆšå¤åˆ¶å®Œçš„æ—¶å€™ï¼Œå‡ ä¹Žä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯æ ¹æ® fork çš„è¿”å›žå€¼æ¥åŒºåˆ†åˆ°åº•æ˜¯çˆ¶è¿› ç¨‹ï¼Œè¿˜æ˜¯å­è¿›ç¨‹ã€‚å¦‚æžœè¿”å›žå€¼æ˜¯ 0ï¼Œåˆ™æ˜¯å­è¿›ç¨‹ï¼›å¦‚æžœè¿”å›žå€¼æ˜¯å…¶ä»–çš„æ•´æ•°ï¼Œå°±æ˜¯çˆ¶è¿›ç¨‹ã€‚å› ä¸ºå¤åˆ¶äº†æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ï¼Œè€Œæ–‡ä»¶æè¿°ç¬¦éƒ½æ˜¯æŒ‡å‘æ•´ä¸ªå†…æ ¸ç»Ÿä¸€çš„æ‰“å¼€æ–‡ä»¶åˆ—è¡¨çš„ï¼Œå› è€Œçˆ¶è¿›ç¨‹åˆšæ‰ å› ä¸º accept åˆ›å»ºçš„å·²è¿žæŽ¥ Socket ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ŒåŒæ ·ä¹Ÿä¼šè¢«å­è¿›ç¨‹èŽ·å¾—ã€‚ æ–¹å¼äºŒï¼šå°†é¡¹ç›®è½¬åŒ…ç»™ç‹¬ç«‹çš„é¡¹ç›®ç»„ï¼ˆå¤šçº¿ç¨‹æ–¹å¼ï¼‰ ç¬¬ä¸€å°è±¡ï¼šå¦‚æžœåˆ›å»ºè¿›ç¨‹ç›¸å½“äºŽæˆ ç«‹æ–°å…¬å¸ï¼Œè´­ä¹°æ–°åŠžå…¬å®¶å…·ï¼Œè€Œåˆ›å»ºçº¿ç¨‹ï¼Œå°±ç›¸å½“äºŽåœ¨åŒä¸€ä¸ªå…¬å¸æˆç«‹é¡¹ç›®ç»„ã€‚ä¸€ä¸ªé¡¹ç›®åšå®Œäº†ï¼Œé‚£è¿™ ä¸ªé¡¹ç›®ç»„å°±å¯ä»¥è§£æ•£ï¼Œç»„æˆå¦å¤–çš„é¡¹ç›®ç»„ï¼ŒåŠžå…¬å®¶å…·å¯ä»¥å…±ç”¨ã€‚é‡æ¸©ï¼šåœ¨ Linux ä¸‹ï¼Œé€šè¿‡ pthread_create åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿæ˜¯è°ƒç”¨ do_forkã€‚ä¸åŒçš„æ˜¯ï¼Œè™½ç„¶æ–°çš„çº¿ç¨‹åœ¨ task åˆ—è¡¨ä¼šæ–°åˆ›å»ºä¸€é¡¹ï¼Œä½†æ˜¯å¾ˆå¤šèµ„æºï¼Œä¾‹å¦‚æ–‡ä»¶æè¿°ç¬¦åˆ—è¡¨ã€è¿›ç¨‹ç©ºé—´ï¼Œè¿˜æ˜¯å…±äº«çš„ï¼Œåªä¸è¿‡å¤šäº†ä¸€ ä¸ªå¼•ç”¨è€Œå·²ã€‚ä¸Šé¢åŸºäºŽè¿›ç¨‹æˆ–è€…çº¿ç¨‹æ¨¡åž‹çš„ï¼Œå…¶å®žè¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚æ–°åˆ°æ¥ä¸€ä¸ª TCP è¿žæŽ¥ï¼Œå°±éœ€è¦åˆ†é…ä¸€ä¸ªè¿›ç¨‹æˆ–è€…çº¿ ç¨‹ã€‚ä¸€å°æœºå™¨æ— æ³•åˆ›å»ºå¾ˆå¤šè¿›ç¨‹æˆ–è€…çº¿ç¨‹ã€‚æœ‰ä¸ªC10Kï¼Œå®ƒçš„æ„æ€æ˜¯ä¸€å°æœºå™¨è¦ç»´æŠ¤ 1 ä¸‡ä¸ªè¿žæŽ¥ï¼Œå°±è¦åˆ› å»º 1 ä¸‡ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿæ˜¯æ— æ³•æ‰¿å—çš„ã€‚å¦‚æžœç»´æŒ 1 äº¿ç”¨æˆ·åœ¨çº¿éœ€è¦ 10 ä¸‡å°æœåŠ¡å™¨ï¼Œæˆ æœ¬ä¹Ÿå¤ªé«˜äº†ã€‚ æ–¹å¼ä¸‰ï¼šä¸€ä¸ªé¡¹ç›®ç»„æ”¯æ’‘å¤šä¸ªé¡¹ç›®ï¼ˆIO å¤šè·¯å¤ç”¨ï¼Œä¸€ä¸ªçº¿ç¨‹ç»´æŠ¤å¤šä¸ª Socketï¼‰ ç¬¬ä¸€å°è±¡ï¼šç”±äºŽ Socket æ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼Œå› è€ŒæŸä¸ªçº¿ç¨‹ç›¯çš„æ‰€æœ‰çš„ Socketï¼Œéƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦é›†åˆ fd_set ä¸­ï¼Œ è¿™å°±æ˜¯é¡¹ç›®è¿›åº¦å¢™ï¼Œç„¶åŽè°ƒç”¨ select å‡½æ•°æ¥ç›‘å¬æ–‡ä»¶æè¿°ç¬¦é›†åˆæ˜¯å¦æœ‰å˜åŒ–ã€‚ä¸€æ—¦æœ‰å˜åŒ–ï¼Œå°±ä¼šä¾æ¬¡æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚é‚£äº›å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶æè¿°ç¬¦åœ¨ fd_set å¯¹åº”çš„ä½éƒ½è®¾ä¸º 1ï¼Œè¡¨ç¤º Socket å¯è¯»æˆ–è€…å¯ å†™ï¼Œä»Žè€Œå¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œï¼Œç„¶åŽå†è°ƒç”¨ selectï¼ŒæŽ¥ç€ç›¯ç€ä¸‹ä¸€è½®çš„å˜åŒ–ã€‚é‡æ¸©ï¼šä¸€æ—¦æŸä¸ªé¡¹ç›®æœ‰äº†è¿›å±•ï¼Œå°±æ´¾äººåŽ»ç›¯ä¸€ä¸‹ã€‚ æ–¹å¼å››ï¼šä¸€ä¸ªé¡¹ç›®ç»„æ”¯æ’‘å¤šä¸ªé¡¹ç›®ï¼ˆIO å¤šè·¯å¤ç”¨ï¼Œä»Žâ€œæ´¾äººç›¯ç€â€åˆ°â€œæœ‰äº‹é€šçŸ¥â€ï¼‰ ç¬¬ä¸€å°è±¡ï¼šä½¿ç”¨ selectï¼Œèƒ½å¤ŸåŒæ—¶ç›¯çš„é¡¹ç›®æ•°é‡ç”± FD_SETSIZE é™åˆ¶ã€‚é¡¹ç›®ç»„ä¸éœ€è¦é€šè¿‡è½®è¯¢æŒ¨ä¸ªç›¯ç€è¿™äº›é¡¹ç›®ï¼Œè€Œæ˜¯å½“é¡¹ç›®è¿› åº¦å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¸»åŠ¨é€šçŸ¥é¡¹ç›®ç»„ã€‚å‡½æ•°å« epollï¼Œå®ƒåœ¨å†…æ ¸ä¸­çš„å®žçŽ°ä¸æ˜¯é€šè¿‡è½®è¯¢çš„æ–¹å¼ï¼Œè€Œæ˜¯é€šè¿‡æ³¨å†Œ callback å‡½æ•° çš„æ–¹å¼ï¼Œå½“æŸä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€å˜åŒ–çš„æ—¶å€™ï¼Œå°±ä¼šä¸»åŠ¨é€šçŸ¥ã€‚ é‡æ¸©ï¼šå¦‚å›¾æ‰€ç¤ºï¼Œå‡è®¾è¿›ç¨‹æ‰“å¼€äº† Socket m, n, x ç­‰å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ŒçŽ°åœ¨éœ€è¦é€šè¿‡ epoll æ¥ç›‘å¬æ˜¯å¦è¿™äº› Socket éƒ½æœ‰äº‹ä»¶å‘ç”Ÿã€‚å…¶ä¸­ epoll_create åˆ›å»ºä¸€ä¸ª epoll å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯¹åº”ä¸€ä¸ªæ–‡ä»¶æè¿° ç¬¦ï¼ŒåŒæ ·ä¹Ÿå¯¹åº”ç€æ‰“å¼€æ–‡ä»¶åˆ—è¡¨ä¸­çš„ä¸€é¡¹ã€‚åœ¨è¿™é¡¹é‡Œé¢æœ‰ä¸€ä¸ªçº¢é»‘æ ‘ï¼Œåœ¨çº¢é»‘æ ‘é‡Œï¼Œè¦ä¿å­˜è¿™ä¸ª epoll è¦ç›‘å¬çš„æ‰€æœ‰ Socketã€‚ å½“ epoll_ctl æ·»åŠ ä¸€ä¸ª Socket çš„æ—¶å€™ï¼Œå…¶å®žæ˜¯åŠ å…¥è¿™ä¸ªçº¢é»‘æ ‘ï¼ŒåŒæ—¶çº¢é»‘æ ‘é‡Œé¢çš„èŠ‚ç‚¹æŒ‡å‘ä¸€ä¸ªç»“æž„ï¼Œ å°†è¿™ä¸ªç»“æž„æŒ‚åœ¨è¢«ç›‘å¬çš„ Socket çš„äº‹ä»¶åˆ—è¡¨ä¸­ã€‚å½“ä¸€ä¸ª Socket æ¥äº†ä¸€ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥ä»Žè¿™ä¸ªåˆ—è¡¨ ä¸­å¾—åˆ° epoll å¯¹è±¡ï¼Œå¹¶è°ƒç”¨ call back é€šçŸ¥å®ƒã€‚è¿™ç§é€šçŸ¥æ–¹å¼ä½¿å¾—ç›‘å¬çš„ Socket æ•°æ®å¢žåŠ çš„æ—¶å€™ï¼Œæ•ˆçŽ‡ä¸ä¼šå¤§å¹…åº¦é™ä½Žï¼Œèƒ½å¤ŸåŒæ—¶ç›‘å¬çš„ Socket çš„æ•° ç›®ä¹Ÿéžå¸¸çš„å¤šäº†ã€‚ä¸Šé™å°±ä¸ºç³»ç»Ÿå®šä¹‰çš„ã€è¿›ç¨‹æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦ä¸ªæ•°ã€‚å› è€Œï¼Œepoll è¢«ç§°ä¸ºè§£å†³ C10K é—®é¢˜çš„åˆ©å™¨ã€‚ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šä½ éœ€è¦è®°ä½ TCP å’Œ UDP çš„ Socket çš„ç¼–ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½éœ€è¦è°ƒç”¨å“ªäº›å‡½æ•°ï¼› å†™ä¸€ä¸ªèƒ½å¤Ÿæ”¯æ’‘å¤§é‡è¿žæŽ¥çš„é«˜å¹¶å‘çš„æœåŠ¡ç«¯ä¸å®¹æ˜“ï¼Œéœ€è¦å¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹ï¼Œè€Œ epoll æœºåˆ¶èƒ½è§£å†³ C10K é—®é¢˜ã€‚é‡æ¸©ï¼š1. epoll æ˜¯ Linux ä¸Šçš„å‡½æ•°ï¼Œé‚£ä½ çŸ¥é“ Windows ä¸Šå¯¹åº”çš„æœºåˆ¶æ˜¯ä»€ä¹ˆå—ï¼Ÿå¦‚æžœæƒ³å®žçŽ°ä¸€ä¸ªè·¨å¹³å°çš„ç¨‹åºï¼Œä½ çŸ¥é“åº”è¯¥æ€Žä¹ˆåŠžå—ï¼Ÿ 2. è‡ªå·±å†™ Socket è¿˜æ˜¯æŒºå¤æ‚çš„ï¼Œå†™ä¸ª HTTP çš„åº”ç”¨å¯èƒ½ç®€å•ä¸€äº›ã€‚é‚£ä½ çŸ¥é“ HTTP çš„å·¥ä½œæœºåˆ¶å—ï¼Ÿ ç¬¬14è®² | HTTPåè®®ï¼šçœ‹ä¸ªæ–°é—»åŽŸæ¥è¿™ä¹ˆéº»çƒ¦è‡ªæˆ‘æ€»ç»“ HTTP è¯·æ±‚çš„å‡†å¤‡ ç¬¬ä¸€å°è±¡ï¼šåœ¨ 1.1 çš„åè®®é‡Œé¢ï¼Œé»˜è®¤æ˜¯å¼€å¯äº† Keep-Alive çš„ï¼Œè¿™æ ·å»ºç«‹çš„ TCP è¿žæŽ¥ï¼Œå°±å¯ä»¥åœ¨å¤šæ¬¡è¯·æ±‚ä¸­å¤ç”¨ã€‚é‡æ¸©ï¼šTCP çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œè¿˜æ˜¯æŒºè´¹åŠ²çš„ã€‚å¥½ä¸å®¹æ˜“å»ºç«‹äº†è¿žæŽ¥ï¼Œç„¶åŽå°±åšäº†ä¸€ç‚¹å„¿äº‹æƒ…å°±ç»“æŸäº†ï¼Œæœ‰ç‚¹å„¿æµªè´¹äººåŠ›å’Œç‰©åŠ›ã€‚ HTTP è¯·æ±‚çš„æž„å»º ç¬¬ä¸€å°è±¡ï¼šè¿žæŽ¥ä»¥åŽï¼Œæµè§ˆå™¨å‘é€HTTP è¯·æ±‚ï¼Œè¯·æ±‚æ ¼å¼å¦‚ä¸‹ï¼šé‡æ¸©ï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯è¯·æ±‚è¡Œï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯è¯·æ±‚çš„é¦–éƒ¨ï¼Œç¬¬ä¸‰éƒ¨åˆ†æ‰æ˜¯è¯·æ±‚çš„æ­£æ–‡å®žä½“ã€‚ ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯·æ±‚è¡Œ ç¬¬ä¸€å°è±¡ï¼šç‰ˆæœ¬1.1ä¹‹ç±»çš„ï¼Œé‡è¦çš„æ˜¯æ–¹æ³•ï¼Œæœ‰GETã€POSTã€PUTã€DELETEé‡æ¸©ï¼šGET å°±æ˜¯åŽ»æœåŠ¡å™¨èŽ·å–ä¸€äº›èµ„æºï¼Œåˆ°åº•è¦è¿”å›žä»€ä¹ˆï¼Œæ˜¯ç”±æœåŠ¡å™¨ç«¯çš„å®žçŽ°å†³å®šçš„ï¼›POST éœ€è¦ä¸»åŠ¨å‘Šè¯‰æœåŠ¡ç«¯ä¸€äº›ä¿¡æ¯ï¼Œè€ŒéžèŽ·å–ã€‚è¦å‘Šè¯‰æœåŠ¡ç«¯ä»€ä¹ˆå‘¢ï¼Ÿä¸€èˆ¬ä¼šæ”¾ åœ¨æ­£æ–‡é‡Œé¢ã€‚æ­£æ–‡å¯ä»¥æœ‰å„ç§å„æ ·çš„æ ¼å¼ã€‚å¸¸è§çš„æ ¼å¼ä¹Ÿæ˜¯ JSONï¼›PUTï¼Œå°±æ˜¯å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ æœ€æ–°å†…å®¹ï¼Œ PUT å’Œ POST å°±éƒ½å˜æˆäº†è¦ä¼ ç»™æœåŠ¡å™¨ä¸œè¥¿çš„æ–¹æ³•ã€‚POST å¾€å¾€æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªèµ„æºçš„ï¼Œè€Œ PUT å¾€å¾€æ˜¯ç”¨æ¥ä¿®æ”¹ä¸€ä¸ªèµ„æºçš„ï¼›DELETEï¼Œ è¿™ä¸ªé¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥åˆ é™¤èµ„æºçš„ã€‚ ç¬¬äºŒéƒ¨åˆ†ï¼šé¦–éƒ¨å­—æ®µ ç¬¬ä¸€å°è±¡ï¼šé¦–éƒ¨æ˜¯ key valueï¼Œé€šè¿‡å†’å·åˆ†éš”ã€‚ä¿å­˜äº†ä¸€äº›éžå¸¸é‡è¦ çš„å­—æ®µã€‚ Accept-Charsetï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¯ä»¥æŽ¥å—çš„å­—ç¬¦é›†ã€‚Content-Typeæ˜¯æŒ‡æ­£æ–‡çš„æ ¼å¼ã€‚é‡ç‚¹è¯´ä¸€ä¸‹çš„å°±æ˜¯ç¼“å­˜ã€‚ç¼“å­˜ç”¨äºŽå°éƒ¨åˆ†å†…å®¹æ›´æ”¹éœ€è¦æ›´æ–°æ•´ä¸ªé¡µé¢ï¼Œå¯¹äºŽé«˜å¹¶å‘åœºæ™¯ä¸‹çš„ç³»ç»Ÿã€‚Nginx è¿™ä¸€å±‚å¦‚ä½•å¤„ç† HTTP åè®®å‘¢ï¼Ÿå¯¹äºŽé™æ€èµ„æºï¼Œæœ‰ Vanish ç¼“å­˜å±‚ã€‚å½“ç¼“å­˜è¿‡æœŸçš„æ—¶å€™ï¼Œæ‰ä¼šè®¿é—®çœŸæ­£çš„ Tomcat åº”ç”¨é›†ç¾¤ã€‚ Cache-controlæ˜¯ç”¨æ¥æŽ§åˆ¶ç¼“å­˜çš„ã€‚é‡æ¸©ï¼šIf-Modified-Sinceä¹Ÿæ˜¯ä¸€ä¸ªå…³äºŽç¼“å­˜çš„ã€‚æˆ‘ä»¬ä»…ä»…æ˜¯æ‹¼å‡‘èµ·äº† HTTP è¯·æ±‚çš„æŠ¥æ–‡æ ¼å¼ï¼ŒæŽ¥ä¸‹æ¥ï¼Œæµè§ˆå™¨ä¼šæŠŠå®ƒäº¤ç»™ä¸‹ä¸€å±‚ä¼ è¾“å±‚ã€‚ HTTP è¯·æ±‚çš„å‘é€ ç¬¬ä¸€å°è±¡ï¼šåˆ°äº† TCP å±‚ï¼Œå®ƒä¼šæŠŠäºŒè¿›åˆ¶æµå˜æˆä¸€ä¸ªçš„æŠ¥æ–‡æ®µå‘é€ç»™æœåŠ¡å™¨ã€‚ä¸»è¦æ˜¯ TCP åŸ‹å¤´è‹¦å¹²ï¼Œæ¶‰åŠMACã€IPã€ARP ç­‰ï¼Œè¿™æ ·è·¯ç”±å™¨ä¸€è·³ä¸€è·³ç»ˆäºŽåˆ°è¾¾ç›®æ ‡çš„å±€åŸŸç½‘ã€‚åœ¨è¿™ä¸ªå±€åŸŸç½‘ä¸Šå‘é€ ARPï¼ŒèŽ·å¾—è¿™ä¸ªç›®æ ‡åœ°å€çš„ MAC åœ°å€ï¼Œå°†åŒ… å‘å‡ºåŽ»ã€‚é‡æ¸©ï¼šç›®æ ‡çš„æœºå™¨å‘çŽ° MAC åœ°å€ç¬¦åˆï¼Œå°±å°†åŒ…æ”¶èµ·æ¥ï¼›å‘çŽ° IP åœ°å€ç¬¦åˆï¼Œæ ¹æ® IP å¤´ä¸­åè®®é¡¹ï¼ŒçŸ¥é“è‡ªå·±ä¸Š ä¸€å±‚æ˜¯ TCP åè®®ï¼ŒäºŽæ˜¯è§£æž TCP çš„å¤´ï¼Œé‡Œé¢æœ‰åºåˆ—å·ï¼Œéœ€è¦çœ‹ä¸€çœ‹è¿™ä¸ªåºåˆ—åŒ…æ˜¯ä¸æ˜¯æˆ‘è¦çš„ï¼Œå¦‚æžœæ˜¯ å°±æ”¾å…¥ç¼“å­˜ä¸­ç„¶åŽè¿”å›žä¸€ä¸ª ACKï¼Œå¦‚æžœä¸æ˜¯å°±ä¸¢å¼ƒã€‚TCP å¤´é‡Œé¢è¿˜æœ‰ç«¯å£å·ï¼ŒHTTP çš„æœåŠ¡å™¨æ­£åœ¨ç›‘å¬è¿™ä¸ªç«¯å£å·ã€‚äºŽæ˜¯ï¼Œç›®æ ‡æœºå™¨è‡ªç„¶çŸ¥é“æ˜¯ HTTP æœåŠ¡ å™¨è¿™ä¸ªè¿›ç¨‹æƒ³è¦è¿™ä¸ªåŒ…ï¼ŒäºŽæ˜¯å°†åŒ…å‘ç»™ HTTP æœåŠ¡å™¨ã€‚HTTP æœåŠ¡å™¨çš„è¿›ç¨‹çœ‹åˆ°ï¼ŒåŽŸæ¥è¿™ä¸ªè¯·æ±‚æ˜¯è¦è®¿ é—®ä¸€ä¸ªç½‘é¡µï¼ŒäºŽæ˜¯å°±æŠŠè¿™ä¸ªç½‘é¡µå‘ç»™å®¢æˆ·ç«¯ã€‚ HTTP è¿”å›žçš„æž„å»º ç¬¬ä¸€å°è±¡ï¼šçŠ¶æ€ç ä¼šååº” HTTP è¯·æ±‚çš„ç»“æžœã€‚çŸ­è¯­ä¼šå¤§æ¦‚è¯´ä¸€ä¸‹åŽŸå› ã€‚ è¿”å›žé¦–éƒ¨çš„key valueã€‚è¿™å‰åŽè¯´äº†å‘é€å’Œè¿”å›žçš„å®Œæ•´è¿‡ç¨‹ã€‚é‡æ¸©ï¼šRetry-Afterè¡¨ç¤ºï¼Œå‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥åœ¨å¤šé•¿æ—¶é—´ä»¥åŽå†æ¬¡å°è¯•ä¸€ä¸‹ã€‚Content-Typeï¼Œè¡¨ç¤ºè¿”å›žçš„æ˜¯ HTMLï¼Œè¿˜æ˜¯ JSONã€‚è¿˜æ˜¯äº¤ç»™ Socket åŽ»å‘é€ï¼Œè¿˜æ˜¯äº¤ç»™ TCP å±‚ï¼ŒTCP å±‚å°†è¿”å›žçš„ HTMLï¼Œä¹Ÿåˆ†æˆä¸€ä¸ªä¸ªå°çš„æ®µï¼Œå¹¶ä¸”ä¿è¯æ¯ä¸ªæ®µéƒ½å¯é åˆ°è¾¾ã€‚è¿™äº›æ®µåŠ ä¸Š TCP å¤´åŽä¼šäº¤ç»™ IP å±‚ï¼Œç„¶åŽæŠŠåˆšæ‰çš„å‘é€è¿‡ç¨‹åå‘èµ°ä¸€éã€‚ HTTP 2.0 ç¬¬ä¸€å°è±¡ï¼šHTTP 1.1 åœ¨åº”ç”¨å±‚ä»¥çº¯æ–‡æœ¬çš„å½¢å¼è¿›è¡Œé€šä¿¡ã€‚æ¯æ¬¡é€šä¿¡éƒ½è¦å¸¦å®Œæ•´çš„ HTTP çš„å¤´ï¼Œè€Œä¸”ä¸è€ƒè™‘ pipeline æ¨¡å¼çš„è¯ï¼Œæ¯æ¬¡çš„è¿‡ç¨‹æ€»æ˜¯åƒä¸Šé¢æè¿°çš„é‚£æ ·ä¸€åŽ»ä¸€å›žã€‚è¿™æ ·åœ¨å®žæ—¶æ€§ã€å¹¶å‘æ€§ä¸Šéƒ½å­˜åœ¨é—®é¢˜ã€‚ HTTP 2.0 ä¼šå¯¹ HTTP çš„å¤´è¿›è¡Œä¸€å®šçš„åŽ‹ç¼©ï¼Œå°†åŽŸæ¥æ¯æ¬¡éƒ½è¦æºå¸¦çš„å¤§é‡ key value åœ¨ä¸¤ç«¯å»ºç«‹ä¸€ä¸ªç´¢å¼•è¡¨ï¼Œå¯¹ç›¸åŒçš„å¤´åªå‘é€ç´¢å¼•è¡¨ä¸­çš„ç´¢å¼•ã€‚ HTTP 2.0 åè®®å°†ä¸€ä¸ª TCP çš„è¿žæŽ¥ä¸­ï¼Œåˆ‡åˆ†æˆå¤šä¸ªæµï¼Œæ¯ä¸ªæµéƒ½æœ‰è‡ªå·±çš„ IDï¼Œè€Œä¸”æµå¯ä»¥æ˜¯å®¢æˆ· ç«¯å‘å¾€æœåŠ¡ç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯æœåŠ¡ç«¯å‘å¾€å®¢æˆ·ç«¯ã€‚å®ƒå…¶å®žåªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„é€šé“ã€‚æµæ˜¯æœ‰ä¼˜å…ˆçº§çš„ã€‚ HTTP 2.0 è¿˜å°†æ‰€æœ‰çš„ä¼ è¾“ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ã€‚é‡æ¸©ï¼šé€šè¿‡è¿™ä¸¤ç§æœºåˆ¶ï¼ŒHTTP 2.0 çš„å®¢æˆ·ç«¯å¯ä»¥å°†å¤šä¸ªè¯·æ±‚åˆ†åˆ°ä¸åŒçš„æµä¸­ï¼Œç„¶åŽå°†è¯·æ±‚å†…å®¹æ‹†æˆå¸§ï¼Œè¿›è¡ŒäºŒ è¿›åˆ¶ä¼ è¾“ã€‚è¿™äº›å¸§å¯ä»¥æ‰“æ•£ä¹±åºå‘é€ï¼Œ ç„¶åŽæ ¹æ®æ¯ä¸ªå¸§é¦–éƒ¨çš„æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ä¼˜å…ˆ çº§ï¼Œå†³å®šä¼˜å…ˆå¤„ç†å“ªä¸ªæµçš„æ•°æ®ã€‚å‡è®¾æˆ‘ä»¬çš„ä¸€ä¸ªé¡µé¢è¦å‘é€ä¸‰ä¸ªç‹¬ç«‹çš„è¯·æ±‚ï¼Œä¸€ä¸ªèŽ·å– cssï¼Œä¸€ä¸ªèŽ·å– jsï¼Œä¸€ä¸ªèŽ·å–å›¾ç‰‡ jpgã€‚å¦‚æžœä½¿ç”¨ HTTP 1.1 å°±æ˜¯ä¸²è¡Œçš„ï¼Œä½†æ˜¯å¦‚æžœä½¿ç”¨ HTTP 2.0ï¼Œå°±å¯ä»¥åœ¨ä¸€ä¸ªè¿žæŽ¥é‡Œï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥åŒæ—¶å‘ é€å¤šä¸ªè¯·æ±‚æˆ–å›žåº”ï¼Œè€Œä¸”ä¸ç”¨æŒ‰ç…§é¡ºåºä¸€å¯¹ä¸€å¯¹åº”ã€‚HTTP 2.0 æˆåŠŸè§£å†³äº† HTTP 1.1 çš„é˜Ÿé¦–é˜»å¡žé—®é¢˜ï¼ŒåŒæ—¶ï¼Œä¹Ÿä¸éœ€è¦é€šè¿‡ HTTP 1.x çš„ pipeline æœºåˆ¶ç”¨å¤š æ¡ TCP è¿žæŽ¥æ¥å®žçŽ°å¹¶è¡Œè¯·æ±‚ä¸Žå“åº”ï¼›å‡å°‘äº† TCP è¿žæŽ¥æ•°å¯¹æœåŠ¡å™¨æ€§èƒ½çš„å½±å“ï¼ŒåŒæ—¶å°†é¡µé¢çš„å¤šä¸ªæ•°æ® cssã€jsã€ jpg ç­‰é€šè¿‡ä¸€ä¸ªæ•°æ®é“¾æŽ¥è¿›è¡Œä¼ è¾“ï¼Œèƒ½å¤ŸåŠ å¿«é¡µé¢ç»„ä»¶çš„ä¼ è¾“é€Ÿåº¦ã€‚ QUIC åè®®çš„â€œåŸŽä¼šçŽ©â€ ç¬¬ä¸€å°è±¡ï¼šHTTP 2.0 è™½ç„¶å¤§å¤§å¢žåŠ äº†å¹¶å‘æ€§ï¼Œä½†è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å› ä¸º HTTP 2.0 ä¹Ÿæ˜¯åŸºäºŽ TCP åè®®çš„ï¼ŒTCP åè®® åœ¨å¤„ç†åŒ…æ—¶æ˜¯æœ‰ä¸¥æ ¼é¡ºåºçš„ã€‚é‡æ¸©ï¼šæœºåˆ¶ä¸€ï¼šè‡ªå®šä¹‰è¿žæŽ¥æœºåˆ¶ï¼›æœºåˆ¶äºŒï¼šè‡ªå®šä¹‰é‡ä¼ æœºåˆ¶ï¼›æœºåˆ¶ä¸‰ï¼šæ— é˜»å¡žçš„å¤šè·¯å¤ç”¨ï¼›æœºåˆ¶å››ï¼šè‡ªå®šä¹‰æµé‡æŽ§åˆ¶ï¼ˆè¿™éƒ¨åˆ†è®²è§£è¿‡äºŽè¯¦ç»†ï¼Œæœ‰ç”¨å†çœ‹å§ï¼‰ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šHTTP åè®®è™½ç„¶å¾ˆå¸¸ç”¨ï¼Œä¹Ÿå¾ˆå¤æ‚ï¼Œé‡ç‚¹è®°ä½ GETã€POSTã€ PUTã€DELETE è¿™å‡ ä¸ªæ–¹æ³•ï¼Œä»¥åŠé‡è¦çš„é¦–éƒ¨å­—æ®µï¼›HTTP 2.0 é€šè¿‡å¤´åŽ‹ç¼©ã€åˆ†å¸§ã€äºŒè¿›åˆ¶ç¼–ç ã€å¤šè·¯å¤ç”¨ç­‰æŠ€æœ¯æå‡æ€§èƒ½ï¼›QUIC åè®®é€šè¿‡åŸºäºŽ UDP è‡ªå®šä¹‰çš„ç±»ä¼¼ TCP çš„è¿žæŽ¥ã€é‡è¯•ã€å¤šè·¯å¤ç”¨ã€æµé‡æŽ§åˆ¶æŠ€æœ¯ï¼Œè¿›ä¸€æ­¥æå‡ æ€§èƒ½ã€‚é‡æ¸©ï¼š]]></content>
      <categories>
        <category>network</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•è®°å½•]]></title>
    <url>%2F2019%2F12%2Fyuque%2Fqrw3ty%2F</url>
    <content type="text"><![CDATA[ç®—æ³•çš„é˜…è¯»å­¦ä¹  28|å †å’Œå †æŽ’åºï¼šä¸ºä»€ä¹ˆè¯´å †æŽ’åºæ²¡æœ‰å¿«é€ŸæŽ’åºå¿«ï¼Ÿè‡ªæˆ‘æ€»ç»“ å¦‚ä½•ç†è§£â€œå †â€ ç¬¬ä¸€å°è±¡ï¼šå †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œå †ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¿…é¡»å¤§äºŽç­‰äºŽï¼ˆæˆ–å°äºŽç­‰äºŽï¼‰å…¶å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼é‡æ¸©ï¼šå¦‚æ­¤åˆ†æˆäº†å¤§é¡¹å †å’Œå°é¡¹å † å¦‚ä½•å®žçŽ°ä¸€ä¸ªå †ï¼Ÿ 1.å¾€å †ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´  ç¬¬ä¸€å°è±¡ï¼šè°ƒæ•´çš„æ–¹æ³•ï¼šå †åŒ–ï¼Œä»Žä¸‹å¾€ä¸Šçš„æ–¹æ³•ï¼Œæ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä½¿ç”¨ä»Žä¸‹å¾€ä¸Šçš„æ–¹æ³•ï¼Œå¯¹æ¯”ç„¶åŽäº¤æ¢ã€‚é‡æ¸©ï¼šå †åŒ–ä»Žä¸Šå¾€ä¸‹çš„æ–¹æ³•ï¼šä¸€èˆ¬ç”¨äºŽåˆ é™¤å †é¡¶å…ƒç´ ï¼Œä¸ç”¨äºŽæ’å…¥ä¸€ä¸ªå…ƒç´  2.åˆ é™¤å †é¡¶å…ƒç´  ç¬¬ä¸€å°è±¡ï¼šåˆ é™¤å †é¡¶å…ƒç´ åŽï¼Œå¦‚æžœä¸å°†å°¾å…ƒç´ ä¸Šæï¼Œ å°±ä»Žä¸Šå¾€ä¸‹äº¤æ¢ï¼Œå¯èƒ½å †åŒ–å‡ºæ¥çš„å †å¹¶ä¸æ»¡è¶³å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨é‡æ¸©ï¼šæ‰€ä»¥åªèƒ½é‡‡ç”¨å †åŒ–ä»Žä¸Šå¾€ä¸‹çš„æ–¹æ³•ï¼šåˆ é™¤å †é¡¶å…ƒç´ ï¼Œå°†é¡¶éƒ¨å…ƒç´ åˆ é™¤ï¼Œå°†æœ€åŽä¸€ä¸ªå…ƒç´ æä¸ŠåŽ»ï¼Œä»Žä¸Šå¾€ä¸‹å¯¹æ¯”äº¤æ¢ã€‚ å¦‚ä½•åŸºäºŽå †å®žçŽ°å †æŽ’åº 1.å»ºå † ç¬¬ä¸€å°è±¡ï¼šç¬¬ä¸€ç§æ–¹å¼ï¼šé‡‡ç”¨æ’å…¥çš„é‚£ç§æ–¹æ³•ï¼Œä»Žå‰å¾€åŽå¤„ç†æ•°ç»„æ•°æ®ï¼Œä»Žä¸‹å¾€ä¸Šå †åŒ–ã€‚ç¬¬äºŒç§å®žçŽ°æ€è·¯ï¼Œæ˜¯ä»ŽåŽå¾€å‰å¤„ç†æ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°æ®éƒ½æ˜¯ä»Žä¸Šå¾€ä¸‹å †åŒ–ï¼ˆæ³¨æ„ï¼Œæ²¡æœ‰æŽ’åºå°±ä¸æ˜¯ç»å¯¹æœ‰åºï¼Œåªæ˜¯ç›¸å¯¹æœ‰åºä¸€ç‚¹ï¼‰é‡æ¸©ï¼šå› ä¸ºå¶å­èŠ‚ç‚¹å¾€ä¸‹å †åŒ–åªèƒ½è‡ªå·±è·Ÿè‡ªå·±æ¯”è¾ƒï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æŽ¥ä»Žç¬¬ä¸€ä¸ªéžå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å †åŒ–å°±è¡Œäº†ã€‚å †æŽ’åºçš„å»ºå †è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼ˆé‡‡ç”¨é€’å½’æ ‘çš„æ–¹å¼æ¥ç†è§£ï¼‰ 2.æŽ’åº ç¬¬ä¸€å°è±¡ï¼šç±»ä¼¼ä¸Šé¢è®²çš„â€œåˆ é™¤å †é¡¶å…ƒç´ â€çš„æ“ä½œï¼Œå½“å †é¡¶å…ƒç´ ç§»é™¤ä¹‹åŽï¼Œæˆ‘ä»¬æŠŠä¸‹æ ‡ä¸ºnçš„å…ƒç´ æ”¾åˆ°å †é¡¶ï¼Œç„¶åŽå†é€šè¿‡å †åŒ–çš„æ–¹æ³•ï¼Œå°†å‰©ä¸‹çš„nâˆ’1ä¸ªå…ƒç´ é‡æ–°æž„å»ºæˆå †ï¼Œå †åŒ–å®Œæˆä¹‹åŽï¼Œæˆ‘ä»¬å†å–å †é¡¶çš„å…ƒç´ ï¼Œæ”¾åˆ°ä¸‹æ ‡æ˜¯nâˆ’1çš„ä½ç½®ï¼Œä¸€ç›´é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æœ€åŽå †ä¸­åªå‰©ä¸‹æ ‡ä¸º1çš„ä¸€ä¸ªå…ƒç´ ï¼ˆå¤§é¡¹å †ï¼Œæ•°ç»„ç»“æžœæ˜¯ä»Žå°åˆ°è¾¾æŽ’åˆ—ï¼‰é‡æ¸©ï¼šå»ºå †è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼ŒæŽ’åºè¿‡ç¨‹ çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlog n)ï¼Œæ‰€ä»¥ï¼Œå †æŽ’åºæ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlog n)ã€‚åŽŸåœ°æŽ’åºã€ä¸ç¨³å®šç®—æ³•ã€‚ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šç¬¬ä¸€ç‚¹ï¼Œå †æŽ’åºæ•°æ®è®¿é—®çš„æ–¹å¼æ²¡æœ‰å¿«é€ŸæŽ’åºå‹å¥½ã€‚ç¬¬äºŒç‚¹ï¼Œå¯¹äºŽåŒæ ·çš„æ•°æ®ï¼Œåœ¨æŽ’åºè¿‡ç¨‹ä¸­ï¼Œå †æŽ’åºç®—æ³•çš„æ•°æ®äº¤æ¢æ¬¡æ•°è¦å¤šäºŽå¿«é€ŸæŽ’åºã€‚é‡æ¸©ï¼šå †æŽ’åºæ¥è¯´ï¼Œæ•°æ®æ˜¯è·³ç€è®¿é—®çš„ï¼Œå¯¹CPUç¼“å­˜æ˜¯ä¸å‹å¥½çš„ã€å¿«é€ŸæŽ’åºæ•°æ®äº¤æ¢çš„æ¬¡æ•°ä¸ä¼šæ¯”é€†åºåº¦å¤šã€‚ ä½†æ˜¯å †æŽ’åºçš„ç¬¬ä¸€æ­¥æ˜¯å»ºå †ï¼Œå»ºå †çš„è¿‡ç¨‹ä¼šæ‰“ä¹±æ•°æ®åŽŸæœ‰çš„ç›¸å¯¹å…ˆåŽé¡ºåºï¼Œå¯¼è‡´åŽŸæ•°æ®çš„æœ‰åºåº¦é™ä½Žã€‚ é¢å¤–çŸ¥è¯† 1 ä¸‹æ ‡ä»Žn/2+1åˆ°nçš„éƒ½æ˜¯å¶å­èŠ‚ç‚¹ ä½¿ç”¨æ•°ç»„å­˜å‚¨è¡¨ç¤ºå®Œå…¨äºŒå‰æ ‘æ—¶ï¼Œä»Žæ•°ç»„ä¸‹æ ‡ä¸º1å¼€å§‹å­˜å‚¨æ•°æ®ï¼Œæ•°ç»„ä¸‹æ ‡ä¸ºiçš„èŠ‚ç‚¹ï¼Œå·¦å­èŠ‚ç‚¹ä¸º2i, å³å­èŠ‚ç‚¹ä¸º2i + 1. è¿™ä¸ªç»“è®ºå¾ˆé‡è¦ï¼ˆå¯ä»¥ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜Ž)ï¼Œå°†æ­¤ç»“è®ºè®°ä¸ºã€ŽåŽŸç†1ã€ï¼Œä»¥ä¸‹è¯æ˜Žä¼šç”¨åˆ°è¿™ä¸ªåŽŸç†ã€‚ä¸ºä»€ä¹ˆï¼Œå¯¹äºŽå®Œå…¨äºŒå‰æ ‘æ¥è¯´ï¼Œä¸‹æ ‡ä»Žn/2 + 1 åˆ° nçš„èŠ‚ç‚¹éƒ½æ˜¯å¶å­èŠ‚ç‚¹ï¼Ÿ ä½¿ç”¨åè¯æ³•è¯æ˜Žå³å¯ï¼šå¦‚æžœä¸‹æ ‡ä¸ºn/2 + 1çš„èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå³å®ƒå­˜åœ¨å­èŠ‚ç‚¹ï¼ŒæŒ‰ç…§ã€ŽåŽŸç†1ã€ï¼Œå®ƒçš„å·¦å­èŠ‚ç‚¹ä¸ºï¼š2(n/2 + 1) = n + 2ï¼Œå¤§å®¶æ˜Žæ˜¾å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ•°å­—å·²ç»å¤§äºŽn + 1ï¼Œè¶…å‡ºäº†å®žçŽ°å®Œå…¨äºŒå‰æ ‘æ‰€ç”¨æ•°ç»„çš„å¤§å°ï¼ˆæ•°ç»„ä¸‹æ ‡ä»Ž1å¼€å§‹è®°å½•æ•°æ®ï¼Œå¯¹äºŽnä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œæ•°ç»„å¤§å°æ˜¯n + 1ï¼‰ï¼Œå·¦å­èŠ‚ç‚¹éƒ½å·²ç»è¶…å‡ºäº†æ•°ç»„å®¹é‡ï¼Œæ›´ä½•å†µ å³å­èŠ‚ç‚¹ã€‚ä»¥æ­¤ç±»æŽ¨ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºï¼šä¸‹æ ‡å¤§äºŽn/2 + 1çš„èŠ‚ç‚¹è‚¯å®šéƒ½æ˜¯ä¹Ÿå¶å­èŠ‚ç‚¹äº†ï¼Œæ•…è€Œå¾—å‡ºç»“è®ºï¼šå¯¹äºŽå®Œå…¨äºŒå‰æ ‘æ¥è¯´ï¼Œä¸‹æ ‡ä»Žn/2 + 1 åˆ° nçš„èŠ‚ç‚¹éƒ½æ˜¯å¶ å­èŠ‚ç‚¹å¤‡æ³¨ä¸‹ï¼šç”¨æ•°ç»„å­˜å‚¨è¡¨ç¤ºå®Œå…¨äºŒå‰æ ‘æ—¶ï¼Œä¹Ÿå¯ä»¥ä»Žä¸‹æ ‡ä¸º0å¼€å§‹ï¼Œåªæ˜¯è¿™æ ·åšçš„è¯ï¼Œè®¡ç®—å·¦å­èŠ‚ç‚¹æ—¶ï¼Œä¼šå¤šä¸€æ¬¡åŠ æ³•è¿ç®— 2 å †ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å®ƒçš„å…¶ä»–åº”ç”¨1ï¼‰ä»Žå¤§æ•°é‡çº§æ•°æ®ä¸­ç­›é€‰å‡ºtop n æ¡æ•°æ®ï¼› æ¯”å¦‚ï¼šä»Žå‡ åäº¿æ¡è®¢å•æ—¥å¿—ä¸­ç­›é€‰å‡ºé‡‘é¢é å‰çš„1000æ¡æ•°æ® 2ï¼‰ åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œä¼šæ ¹æ®ä¸åŒä¼˜å…ˆçº§æ¥å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œæ­¤æ—¶ä¹Ÿå¯ä»¥ç”¨åˆ°ä¼˜å…ˆé˜Ÿåˆ—(ç”¨å †å®žçŽ°çš„æ•°æ®ç»“æž„)ï¼›æ¯”å¦‚ï¼šç½‘ç»œæ¡†æž¶Volleyå°±ç”¨äº†Javaä¸­PriorityBlocking Queueï¼Œå½“ç„¶å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ 3ï¼‰ å¯ä»¥ç”¨å †æ¥å®žçŽ°å¤šè·¯å½’å¹¶ï¼Œä»Žè€Œå®žçŽ°æœ‰åºï¼Œleetcodeä¸Šä¹Ÿæœ‰ç›¸å…³çš„ä¸€é¢˜ï¼šMerge K Sorted Listsã€‚ 29|å †çš„åº”ç”¨ï¼šå¦‚ä½•å¿«é€ŸèŽ·å–åˆ°Top10æœ€çƒ­é—¨çš„æœç´¢å…³é”®è¯ï¼Ÿè‡ªæˆ‘æ€»ç»“ å †çš„åº”ç”¨ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ— ç¬¬ä¸€å°è±¡ï¼šåˆå¹¶å°æ–‡ä»¶ï¼šå‡å¦‚æœ‰100ä¸ªå°æ–‡ä»¶ï¼Œåœ¨100çš„æ•°ç»„ä¸­éåŽ†å‡ºæœ€å°æ•°ï¼Œä¸å¦‚åœ¨100ä¸ªæ•°çš„å°é¡¹å †è¿›è¡Œåˆ é™¤ç„¶åŽæ·»åŠ æœ€å°æ–‡ä»¶ä¸­çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»Žä¸Šå‘ä¸‹è°ƒæ•´ã€‚é‡æ¸©ï¼šé«˜æ€§èƒ½è®¡æ—¶å™¨ï¼šè¶Šå°è¶Šç´§æ€¥ï¼Œæ¯ä¸€ç§’æ‰«æä¸€æ¬¡æˆ–è€…æ‰§è¡Œä»»åŠ¡åŽæ‰«ææ•°ç»„æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€å¾ˆå¤šæ—¶é—´æ˜¯ä¸ç”¨æ‰«æçš„ï¼ŒäºŒï¼Œæ—¶é—´å¤šå¤ªæµªè´¹æ—¶é—´ã€‚å®žè´¨ä¸Šå’Œåˆå¹¶å°æ–‡ä»¶ä¸€æ ·ã€‚ä¸ä¸€æ ·å°±æ˜¯åˆ é™¤åŽï¼Œè¦ç”¨å°¾å…ƒç´ è¡¥ä¸Šå †é¡¶å…ƒç´ ï¼Œç„¶åŽæŽ’åºã€‚ å †çš„åº”ç”¨äºŒï¼šåˆ©ç”¨å †æ±‚Top K ç¬¬ä¸€å°è±¡ï¼šé™æ€é›†åˆï¼šç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º K çš„å †ï¼Œç„¶åŽå­˜å‚¨åŽï¼Œé‡‡ç”¨å †æŽ’åºçš„æ–¹æ³•ï¼ŒæŽ’åºåˆ°æ•°ç»„ä¸­ï¼Œå°±æ˜¯æŒ‰é¡ºåºçš„Top Kï¼Œnä¸ªå…ƒç´ éƒ½å…¥å †ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦å°±æ˜¯ O(nlogK)ã€‚é‡æ¸©ï¼šåŠ¨æ€é›†åˆï¼šæ­¤æ—¶æ›´èƒ½ä½“çŽ°å †çš„å¥½å¤„ï¼Œå¦‚æžœæ¯æ¬¡èŽ·å–Top Kéƒ½ç”¨é™æ€çš„æ–¹æ³•ï¼Œå®žé™…ä¸Šæ˜¯ O(nlogk)ï¼Œä½†æ˜¯æˆ‘ä»¬å®žé™…åªéœ€è¦å°†æ–°æ’å…¥çš„å…ƒç´ å’Œå †é¡¶è¿›è¡Œæ¯”è¾ƒå³å¯ï¼Œåˆæ¬¡æ˜¯O(nlogk)ï¼ŒåŽé¢æ˜¯O(1)æˆ–O(logk) å †çš„åº”ç”¨ä¸‰ï¼šåˆ©ç”¨å †æ±‚ä¸­ä½æ•° ç¬¬ä¸€å°è±¡ï¼šä¸­ä½æ•°ï¼šå¶æ•°ï¼šå‰n/2æ˜¯å¤§é¡¹å †ï¼ŒåŽn/2æ˜¯å°é¡¹å †ï¼Œå¥‡æ•°ï¼šå‰n/2+1æ˜¯å¤§é¡¹å †ï¼ŒåŽn/2æ˜¯å°é¡¹å †ã€‚æ’å…¥æ•°æ®ï¼šå°äºŽç­‰äºŽå¤§é¡¹å †é¡¶æ”¾åœ¨å¤§é¡¹å †ï¼Œå¤§äºŽç­‰äºŽå°é¡¹å †é¡¶æ”¾åœ¨å°é¡¹å †ã€‚æ•°æ®ä¸ä¸€è‡´æ˜¯è¦è°ƒæ•´ã€‚ç»´æŠ¤è¦O(logk)ï¼ŒæŸ¥è¯¢è¦O(1)é‡æ¸©ï¼šç±»ä¸­ä½æ•°ï¼šå¦‚ä½•å¿«é€Ÿæ±‚æŽ¥å£çš„99%å“åº”æ—¶é—´ï¼Ÿè¦ç‚¹ï¼šæ³¨æ„ä¿æŒ 99:1 çš„å…³ç³»ã€‚ä¸ç®¡æ˜¯ç»´æŠ¤è¿˜æ˜¯åŒºåˆ†è¦ä¿æŒåŸºæœ¬çš„ä¸­ä½æ•°ç»´æŠ¤æ–¹å¼ï¼Œæ•°æ®ä¸ä¸€è‡´è¦è°ƒæ•´ï¼Œç»´æŠ¤å’ŒæŸ¥è¯¢ä¸€æ ·ã€‚ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šé«˜çº§æ–¹æ³•ï¼šMapReduceç­‰ï¼Œé™åˆ¶å•æœºå’Œå†…å­˜ä¸º1Gï¼›è€ƒè™‘é‡å¤ï¼Œä½¿ç”¨æ•£åˆ—è¡¨ã€å¹³è¡¡äºŒå‰æ ‘æˆ–è€…ä¸€äº›å…¶ä»–æ”¯æŒå¿«é€ŸæŸ¥æ‰¾ã€æ’å…¥çš„æ•°æ®ç»“æž„ï¼Œå‰è€…å°†æ•£åˆ—è¡¨å‰10å–å‡ºå¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯è€ƒè™‘å†…å­˜ï¼Œè€ƒè™‘å°†æ–‡ä»¶åˆ©ç”¨å“ˆå¸Œç®—æ³•åˆ†æˆ10ç­‰åˆ†ï¼Œå°±æ˜¯å“ˆå¸Œå€¼å¯¹10å–æ¨¡ï¼Œç„¶åŽå¾—åˆ°å¯¹åº”çš„æ–‡ä»¶ç¼–å·ã€‚é‡æ¸©ï¼šæœ‰ä¸€ä¸ªè®¿é—®é‡éžå¸¸å¤§çš„æ–°é—»ç½‘ç«™ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ç‚¹å‡»é‡æŽ’åTop 10çš„æ–°é—»æ‘˜è¦ï¼Œæ»šåŠ¨æ˜¾ç¤ºåœ¨ç½‘ç«™é¦–é¡µbannerä¸Šï¼Œå¹¶ä¸”æ¯éš”1å°æ—¶æ›´æ–°ä¸€æ¬¡ã€‚å¦‚æžœä½ æ˜¯è´Ÿè´£å¼€å‘è¿™ä¸ªåŠŸ èƒ½çš„å·¥ç¨‹å¸ˆï¼Œä½ ä¼šå¦‚ä½•æ¥å®žçŽ°å‘¢ï¼Ÿ é¢å¤–çŸ¥è¯† 30|å›¾çš„è¡¨ç¤ºï¼šå¦‚ä½•å­˜å‚¨å¾®åšã€å¾®ä¿¡ç­‰ç¤¾äº¤ç½‘ç»œä¸­çš„å¥½å‹å…³ç³»ï¼Ÿè‡ªæˆ‘æ€»ç»“ å¦‚ä½•ç†è§£å›¾ï¼Ÿ å¾®ä¿¡ï¼šæ— å‘å›¾ï¼Œå¼•å‡ºé¡¶ç‚¹å’Œè¾¹ï¼›å¾®åšï¼šæœ‰å‘å›¾ï¼Œå¼•å‡ºå‡ºåº¦å’Œå…¥åº¦ï¼›QQï¼šäº²å¯†åº¦ï¼Œå¼•å‡ºå¸¦æƒå›¾å’Œæƒé‡ é‚»æŽ¥çŸ©é˜µçš„å­˜å‚¨æ–¹æ³• ç¬¬ä¸€å°è±¡ï¼šæµªè´¹å­˜å‚¨ç©ºé—´ï¼Œå°¤å…¶æ˜¯ç¨€ç–çŸ©é˜µï¼›ä½†æ˜¯æœ‰åˆ©äºŽæ•°å­¦è¿ç®—ï¼Œæ–¹ä¾¿å­˜å‚¨ç®¡ç†é‡æ¸©ï¼šåªæœ‰0å’Œ1ï¼Œæ— å‘å›¾å¯¹è§’çº¿çš„å¦ä¸€åŠæ˜¯æ— ç”¨çš„ï¼Œå¾®ä¿¡å‡ ç™¾ä¸ªå¥½å‹ï¼Œä½†æ˜¯ç”¨æˆ·ä¸Šäº¿ï¼Œå°±åƒç¨€ç–çŸ©é˜µä¸€æ ·æµªè´¹ã€‚ é‚»æŽ¥è¡¨çš„å­˜å‚¨æ–¹æ³• ç¬¬ä¸€å°è±¡ï¼šè¡¨æŒ‡é“¾è¡¨ï¼ŒèŠ‚çœç©ºé—´ï¼Œé‡æ¸©ï¼šä¸€æŽ’ç„¶åŽå­˜å€¼ï¼Œæœ‰ç‚¹åƒæ•£åˆ—è¡¨ï¼ŒåŒºåˆ«å°±æ˜¯å›¾çš„åˆ†å¸ƒæ›´åˆç†ç‚¹ã€‚ç©ºé—´æ¢æ—¶é—´ï¼š2-4æœ‰æ— è¾¹ï¼Œé éåŽ†2å¯¹åº”çš„é“¾è¡¨ã€‚é“¾è¡¨å­˜å‚¨å¯¹ç¼“å­˜ä¸å‹å¥½ï¼Œé“¾è¡¨å¯ä»¥è½¬æ¢æˆå¹³è¡¡äºŒå‰æ ‘ï¼Œçº¢é»‘æ ‘ï¼Œæ–¹ä¾¿æŸ¥æ‰¾äº®ç‚¹æ˜¯å¦æœ‰è¾¹ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘è¿˜å¯ä»¥å˜æˆè·³è¡¨ï¼Œé“¾è¡¨å¯å˜ä¸ºæœ‰åºåŠ¨æ€æ•°ç»„ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ¥å¿«é€Ÿå®šä½ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦å­˜åœ¨å˜ã€‚ è§£ç­”å¼€ç¯‡ï¼šå¦‚ä½•å­˜å‚¨å¥½å‹å…³ç³» ç¬¬ä¸€å°è±¡ï¼šé€†é‚»æŽ¥è¡¨ï¼Œå“ˆå¸Œç®—æ³•ï¼Œå¤–éƒ¨å­˜å‚¨é‡æ¸©ï¼šå…ˆè€ƒè™‘å…³ç³»ï¼Œå†è€ƒè™‘ç²‰ä¸åˆ—è¡¨å’Œå…³æ³¨åˆ—è¡¨ã€‚æŒ‰é¦–å­—æ¯æŽ’åºï¼Œæ‰€ä»¥é€‰æ‹©è·³è¡¨ï¼Œå†…éƒ¨æœ‰åºï¼ŒæŽ’é™¤äº†çº¢é»‘æ ‘ï¼Œæœ‰åºåŠ¨æ€æ•°ç»„å’Œæ•£åˆ—è¡¨ã€‚å‡ åä¸‡ç”¨æˆ·å­˜åœ¨å†…å­˜è¿˜å¯ä»¥è€ƒè™‘ï¼Œæ•°æ®è§„æ¨¡å¤§ï¼Œè¦é€šè¿‡å“ˆå¸Œç®—æ³•åˆ†ç‰‡ï¼Œå…ˆå®šä½æœºå™¨ï¼Œå†åœ¨ç›¸åº”æœºå™¨ä¸ŠæŸ¥æ‰¾ã€‚åˆ©ç”¨å¤–éƒ¨å­˜å‚¨ï¼Œåˆ™ä½¿ç”¨æ•°æ®åº“æ¥æŒä¹…åŒ–å­˜å‚¨å…³ç³»æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸¤è¡Œç´¢å¼•ï¼Œè§£å†³é—®é¢˜ã€‚ é¢å¤–çŸ¥è¯† 1 Floyd-warshallç®—æ³• Floyd-Warshallç®—æ³•æ˜¯è§£å†³ä»»æ„ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ã€‚é€šå¸¸å¯ä»¥åœ¨ä»»ä½•å›¾ä¸­ä½¿ç”¨ï¼ŒåŒ…æ‹¬æœ‰å‘å›¾ã€å¸¦è´Ÿæƒè¾¹çš„å›¾ã€‚ å®ƒéœ€è¦ç”¨é‚»æŽ¥çŸ©é˜µæ¥å‚¨å­˜è¾¹ï¼Œè¿™ä¸ªç®—æ³•é€šè¿‡è€ƒè™‘æœ€ä½³å­è·¯å¾„æ¥å¾—åˆ°æœ€ä½³è·¯å¾„ã€‚ 2 31|æ·±åº¦å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼šå¦‚ä½•æ‰¾å‡ºç¤¾äº¤ç½‘ç»œä¸­çš„ä¸‰åº¦å¥½å‹å…³ç³»ï¼Ÿè‡ªæˆ‘æ€»ç»“ ä»€ä¹ˆæ˜¯â€œæœç´¢â€ç®—æ³•ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå¹¿åº¦å’Œæ·±åº¦éƒ½æ˜¯æš´åŠ›æ–¹æ³•ï¼Œè¦å……åˆ†ç†è§£é‚»æŽ¥è¡¨ï¼Œé’ˆå¯¹æ— å‘å›¾é‡æ¸©ï¼šè¦å…ˆå®žçŽ°æ— å‘å›¾ï¼Œå¹¶å¯ä»¥åˆå§‹åŒ–ï¼Œä¸æ˜¯ç®€å•åœ°å®šä¹‰å°±å¥½ï¼Œéœ€è¦æœ‰ä¸€ç³»åˆ—æ–¹æ³• å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ ç¬¬ä¸€å°è±¡ï¼švisitedï¼šå¸ƒå°”ç±»åž‹æ•°ç»„ï¼Œè®°å½•å·²ç»è¢«è®¿é—®çš„ç‚¹ï¼Œè€ƒè™‘é‚»æŽ¥è¡¨ä¸­çš„æƒ…å†µï¼›queueï¼šç”¨æ¥è®°å½•å·²ç»è¢«è®¿é—®å´æ²¡æœ‰ä»¥å®ƒå¼€å§‹è®¿é—®çš„ç‚¹ï¼Œæ˜¯æ•´åž‹æ•°ç»„ï¼›prevï¼šåå‘å­˜å‚¨è·¯å¾„ï¼Œæ˜¯æ•´åž‹æ•°ç»„é‡æ¸©ï¼šæ—¶é—´å¤æ‚åº¦O(V+E) &lt;O(2E)=O(E)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(V) æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-First-Searchï¼‰ ç¬¬ä¸€å°è±¡ï¼šè¿·å®«ã€é€’å½’ã€ç‰¹æ®Šå˜é‡foundã€å›žæº¯æ³•é‡æ¸©ï¼šæ¯æ¡è¾¹æœ€å¤šä¼šè¢«è®¿é—®ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯éåŽ†ï¼Œä¸€æ¬¡æ˜¯å›žé€€ã€‚æ‰€ä»¥ï¼Œå›¾ä¸Šçš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(E)ï¼›é€’å½’è°ƒç”¨æ ˆçš„æœ€å¤§æ·±åº¦ä¸ä¼šè¶…è¿‡é¡¶ç‚¹çš„ä¸ª æ•°ï¼Œæ‰€ä»¥æ€»çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯O(V) è§£ç­”å¼€ç¯‡ï¼šå¦‚ä½•æ‰¾å‡ºè¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰ä¸‰åº¦ï¼ˆå…¶ä¸­åŒ…å«ä¸€åº¦ã€äºŒåº¦å’Œä¸‰åº¦ï¼‰å¥½å‹å…³ç³»ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå¹¿åº¦ä¼˜å…ˆç®—æ³•é‡æ¸©ï¼šç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æ¯ä¸ªé¡¶ç‚¹ä¸Žèµ·å§‹é¡¶ç‚¹çš„è·ç¦»ï¼Œéžå¸¸å®¹æ˜“å°±å¯ä»¥æ‰¾å‡ºä¸‰åº¦å¥½å‹å…³ç³» é¢å¤–çŸ¥è¯† 2 è€ƒè™‘ä¸€ä¸‹é€’å½’æ—¶ï¼Œå…³é”®è¯­å¥åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Œæ¯”å¦‚è¯´dfsçš„ visited çš„ä½ç½® 3 4 æˆ‘æ„Ÿè§‰ç”¨æ·±åº¦ä¼˜å…ˆæŸ¥æ‰¾äººè„‰çš„ç®—æ³•å¯èƒ½ä¼šæŠŠå°äºŽè¿™ä¸ªåº¦æ•°çš„æ•°æ®æŸ¥æ‰¾å‡ºæ¥å§ï¼Œä¾‹å¦‚æŸ¥æ‰¾åº¦æ•°ä¸º3çš„é¡¶ç‚¹ï¼Œç”¨æ–‡ä¸­å¹¿åº¦ä¼˜å…ˆæœç´¢çš„é‚£ä¸ªæ•°æ®ï¼Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆçš„ ç®—æ³•ä¼šæŠŠ0ï¼Œ1ï¼Œ4ï¼Œ3ä¹Ÿç»™æŸ¥å‡ºæ¥ã€‚ã€‚ 32|å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆä¸Šï¼‰ï¼šå¦‚ä½•å€ŸåŠ©å“ˆå¸Œç®—æ³•å®žçŽ°é«˜æ•ˆå­—ç¬¦ä¸²åŒ¹é…ï¼Ÿè‡ªæˆ‘æ€»ç»“ BF ç®—æ³•ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šbrute force æš´åŠ›ç ´è§£çš„æ–¹æ³•ï¼Œå°±æ˜¯ n-m+1 ä¸ªå­ä¸²æ¯ä¸€ä¸ªéƒ½éåŽ†å­ä¸²çš„é•¿åº¦æ¥åŒ¹é…ï¼Œnmï¼Œé€‚åˆå°è§„æ¨¡çš„æ•°æ®é‡æ¸©ï¼šnm ï¼Œä¸­é€”é‡åˆ°ä¸èƒ½åŒ¹é…çš„å°±åœæ­¢äº†ï¼Œæ‰€ä»¥å®žé™…è¦æ¯”ç†è®ºå¿«ã€‚KISS åŽŸåˆ™ï¼šåœ¨æ»¡è¶³æ€§èƒ½è¦æ±‚çš„å‰æä¸‹ï¼Œç®€å•æ˜¯é¦–é€‰ã€‚ RK ç®—æ³• ç¬¬ä¸€å°è±¡ï¼šåˆ©ç”¨åˆ°äº†å“ˆå¸Œç®—æ³•ï¼Œåˆ©ç”¨æ•°å­¦å…³ç³»ï¼Œå¯ä»¥å°†ä¸¤ä¸ªç›¸é‚»çš„æ¨¡å¼ä¸²ç”¨1çš„æ—¶é—´å¤æ‚åº¦ç®—å‡ºï¼Œæ•´ä½“æ˜¯n-m+1ã€‚å¯ä»¥è½¬æ¢ä¸º26è¿›åˆ¶ï¼Œèƒ½ä¿éšœæ‰€æœ‰æ•°å­—ä¸é‡å¤ã€‚é‡æ¸©ï¼šæ¯ä¸ªæ¨¡å¼ä¸²å˜æˆä¸€ä¸ªæ•´åž‹ï¼Œæ¯”è¾ƒæ—¶æ•ˆçŽ‡æé«˜ï¼Œä½†æ˜¯å“ˆå¸Œç®—æ³•æ¶ˆè€—äº†æ—¶é—´ï¼Œå› ä¸ºå“ˆå¸Œç®—æ³•è¦éåŽ†æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè½¬æ¢æˆ26è¿›åˆ¶ï¼Œå°†26çš„æ¬¡æ–¹ä¿å­˜ï¼Œè®¡ç®—å“ˆå¸Œå€¼åˆ©ç”¨æŽ¨å¯¼å…¬å¼å°†n*mé™ä½Žåˆ°nã€‚è¿›åˆ¶è¡¨ç¤ºä¸ä¼šæœ‰æ•£åˆ—å†²çªã€‚ä½†æ˜¯è¦å­˜å‚¨çš„å€¼èŒƒå›´å¤ªå¤§ï¼Œå¯èƒ½ä¸åœ¨æ•´åž‹èŒƒå›´å†…ï¼Œå¯ä»¥æ¯ä¸ªå­—æ¯å¯¹ä¸€ä¸ªç´ æ•°ã€‚å¯ä»¥åˆ©ç”¨å“ˆå¤«æ›¼æ ‘ï¼Œç»™å¤§ç´ æ•°åˆ†é…å°å€¼ï¼Œç‰ºç‰²å†²çªï¼Œå®žçŽ°æ•´åž‹ï¼Œå†²çªå°‘ï¼Œç®€å•æ¯”è¾ƒä¸€ä¸‹ä¹Ÿæ˜¯å¯ä»¥æŽ¥å—çš„ã€‚ è§£ç­”å¼€ç¯‡ï¼šé‚£RKç®—æ³•æ˜¯å¦‚ä½•å€ŸåŠ©å“ˆå¸Œç®—æ³•æ¥å®žçŽ° é«˜æ•ˆå­—ç¬¦ä¸²åŒ¹é…çš„å‘¢ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šæ•°å­¦ã€ç©ºé—´ã€æ—¶é—´ç›¸ç»“åˆäº§ç”Ÿçš„å·§å¦™å“ˆå¸Œç®—æ³•ã€‚é—®é¢˜ä¸­åº”è¯¥é‡‡ç”¨äºŒå±‚å¾ªçŽ¯æ¥æ±‚å–å“ˆå¸Œå€¼åŒ¹é…ã€‚æ—¶é—´å¤æ‚åº¦ä¸º M-m+1 * N-n+1ã€‚å½“N å’Œ nç­‰äºŽä¸€æ˜¯å°±æ˜¯PKç®—æ³•ã€‚é‡æ¸©ï¼šç†æƒ³æƒ…å†µä¸‹æ˜¯nã€‚å­˜åœ¨å†²çªå¯èƒ½ä¼šé€€åŒ–ã€‚å¤§é‡å†²çªå¯èƒ½ä¼šå˜æˆ BF ã€‚æˆ‘è§‰å¾—é¢˜ç›®ä¸­çš„é—®é¢˜å€’è¿˜æŒºéš¾å®žçŽ° 33|å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆä¸­ï¼‰ï¼šå¦‚ä½•å®žçŽ°æ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„æŸ¥æ‰¾åŠŸèƒ½ï¼Ÿè‡ªæˆ‘æ€»ç»“ BMç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ ç¬¬ä¸€å°è±¡ï¼šä»ŽåŽå¾€å‰éåŽ†ï¼Œä¸åƒ BFã€Rkç®—æ³•ä¸€æ¬¡éåŽ†ä¸€ä¸ªï¼Œè€Œæ˜¯å°½é‡å¤šè·³è¿‡åŽ»ä¸å¯èƒ½çš„å­—ç¬¦ç§»åŠ¨é‡æ¸©ï¼šå®ƒçš„æ•ˆçŽ‡æ¥è‡ªäºŽè¿™æ ·çš„äº‹å®žï¼šå¯¹äºŽæ¯ä¸€æ¬¡å¤±è´¥çš„åŒ¹é…å°è¯•ï¼Œç®—æ³•éƒ½èƒ½å¤Ÿä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥æŽ’é™¤å°½å¯èƒ½å¤šçš„æ— æ³•åŒ¹é…çš„ä½ç½®ã€‚ BMç®—æ³•åŽŸç†åˆ†æž åå­—ç¬¦è§„åˆ™ ç¬¬ä¸€å°è±¡ï¼šä»ŽåŽå¾€å‰éåŽ†ï¼Œä½†æ˜¯å¯èƒ½ä¼šå‡ºçŽ°ç§»åŠ¨ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™åŠ ä¸ªåˆ¤æ–­è¯­å¥å¥½åƒæ˜¯å¯ä»¥çš„å“Žï¼Œsi-xiï¼Œè®°ä¸ºæœ€å…ˆï¼Œxè®°ä¸ºæœªçŸ¥ã€‚ç›¸å‡æ˜¯ä¸ºäº†äº§ç”Ÿç§»åŠ¨çš„æ•°å­— å¥½åŽç¼€è§„åˆ™ ç¬¬ä¸€å°è±¡ï¼šä¸€ã€å¥½åŽç¼€ä¸­æ¨¡å¼ä¸²é‡åˆ°åå­—ç¬¦ä¹‹åŽçš„åŽç¼€æ—¶ï¼Œå°†æ¨¡å¼ä¸²é åŽåŒ¹é…çš„ä¸€ä¸ªåŒ¹é…åŽç¼€ï¼Œç§»åŠ¨åˆ°ä¸»ä¸²åŒ¹é…å¤„ã€‚äºŒã€ä½†æ˜¯ä¼šå‡ºçŽ°ä¸»ä¸²åŽç¼€çš„åŽç¼€å’Œæ¨¡å¼ä¸²çš„å‰ç¼€ç›¸é‡åˆçš„ç‰¹ä¾‹ï¼Œæ­¤æ—¶ä¸èƒ½å› ä¸ºæ— åŒ¹é…ç›´æŽ¥ç§»åŠ¨ï¼Œéœ€è¦ä¸€ç‚¹ç‚¹æŸ¥çœ‹åŽç¼€çš„åŽç¼€å’Œæ¨¡å¼ä¸²çš„å‰ç¼€æ˜¯å¦é‡åˆé‡æ¸©ï¼šæˆ‘ä»¬å¯ä»¥åˆ†åˆ«è®¡ç®—å¥½åŽç¼€å’Œåå­—ç¬¦å¾€åŽæ»‘åŠ¨çš„ä½æ•°ï¼Œç„¶åŽå–ä¸¤ä¸ªæ•°ä¸­æœ€å¤§çš„ï¼Œä½œä¸ºæ¨¡å¼ä¸²å¾€åŽæ»‘åŠ¨çš„ä½æ•° BMç®—æ³•ä»£ç å®žçŽ°ä¹‹åå­—ç¬¦è§„åˆ™ ç¬¬ä¸€å°è±¡ï¼ši = i+(j-bc[(int)a[i+j]]); å®žè´¨ä¸Šæ˜¯å°†içš„å€¼æ›´æ–°ï¼Œæ˜¯æ¨¡å¼ä¸²å’Œä¸»ä¸²å¯¹é½çš„ä½ç½®å¾€å‰æŽ¨è¿›é‡æ¸©ï¼šå…ˆä¸è€ƒè™‘ si-xi ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå› ä¸ºè¦å’Œå¥½åŽç¼€åŽŸåˆ™å–æœ€å¤§å€¼ï¼Œè¿™é‡Œæ˜¯å·§ç”¨asciiç çš„æ–¹æ³•å¾ˆé‡è¦ï¼ŒåŸºæœ¬ä¸Šæ¶‰åŠå­—ç¬¦ä¸²ä¹Ÿæ²¡æœ‰è¯´ä¸æ¶‰åŠasciiç çš„åœ°æ–¹å§ BMç®—æ³•ä»£ç å®žçŽ°ä¹‹å¥½åŽç¼€è§„åˆ™ ç¬¬ä¸€å°è±¡ï¼šé€šè¿‡é•¿åº¦æˆ‘ä»¬å¯ä»¥ç¡®å®šä¸€ä¸ªå”¯ä¸€çš„åŽç¼€å­—ä¸²ï¼Œprefixå’Œsuffixçš„è®¡ç®—éžå¸¸å·§å¦™ï¼Œä¸€ä¸ªæ˜¯é•¿åº¦ç´¢å¼•å€¼å­˜æœ€é åŽä¸‹æ ‡ï¼Œä¸€ä¸ªæ˜¯å­˜å–çš„æ˜¯èƒ½å¦ä½¿åŽç¼€å­ä¸²å’Œå‰ç¼€å­ä¸²åŒ¹é…çš„å¸ƒå°”å€¼ã€‚æ¨¡å¼ä¸²å’Œå­ä¸²æ±‚å…¬å…±åŽç¼€å­ä¸²é•¿åº¦ä¸ºkï¼Œè‹¥æ±‚å¾—çš„èµ·å§‹å€¼æ˜¯0ï¼Œåˆ™ç›´æŽ¥è®°å½•prefix[k]=trueé‡æ¸©ï¼šå¥½åŽç¼€çš„åŽç¼€å­ä¸²b[r, m-1]ï¼ˆå…¶ä¸­ï¼Œrå–å€¼ä»Žj+2åˆ°m-1ï¼‰çš„é•¿åº¦k=m-rï¼Œè¿™é‡Œçš„rå–å€¼ j+2 æ˜¯å› ä¸ºæ˜¯å­ä¸²ã€‚å¦‚æžœåå­—ç¬¦ä¸Žå¥½åŽç¼€éƒ½ä¸åŒ¹é…ï¼Œåˆ™å¾€åŽç§»åŠ¨mä½ã€‚suffixæŸ¥æ‰¾è·Ÿå¥½åŽç¼€åŒ¹é…çš„å¦ä¸€ä¸ªå­ä¸²ï¼Œprefixè®°å½•æ¨¡å¼ä¸²çš„åŽç¼€å­ä¸²æ˜¯å¦èƒ½åŒ¹é…æ¨¡å¼ä¸²çš„å‰ç¼€å­ä¸² BMç®—æ³•çš„æ€§èƒ½åˆ†æžåŠä¼˜åŒ– ç¬¬ä¸€å°è±¡ï¼šå­—ç¬¦é›†å¾ˆå¤§ï¼Œåˆ™åå­—ç¬¦ç®—æ³•ä¼šæµªè´¹å†…å­˜ï¼Œå› ä¸ºå­—ç¬¦é›†å¯èƒ½å¤§äºŽ255è¿™ä¸ªæ•°å­—ï¼Œåªä½¿ç”¨å¥½åŽç¼€åŽŸåˆ™å¯ä»¥å‡å°‘bcæ•°ç»„å†…å­˜æ¶ˆè€—ï¼Œä½†æ˜¯æ•ˆçŽ‡ä¼šä¸‹é™ä¸€ç‚¹ã€‚è¿™è¿˜æ˜¯åˆçº§ç‰ˆæœ¬ã€‚ã€‚ã€‚ã€‚é‡æ¸©ï¼šæ¨¡å¼ä¸²æ˜¯aaaaaaaè¿™ç§åŒ…å«å¾ˆå¤šé‡å¤çš„å­—ç¬¦çš„æ¨¡å¼ä¸²ï¼Œé¢„å¤„ç†è®¡ç®—suffixæ•° ç»„ã€prefixæ•°ç»„çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(m^2)ã€‚è¿™ç§æƒ…å†µæ˜¾ç„¶å¯ä»¥ä¼˜åŒ–ï¼Œ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šä¸€äº›æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ¯”è¾ƒå¸¸ç”¨ï¼Œåå­—ç¬¦ä¸Žå¥½åŽç¼€è§„åˆ™é‡æ¸©ï¼šæ ¸å¿ƒæ€æƒ³ï¼Œåœ¨æ¨¡å¼ä¸²ä¸­æŸä¸ªå­—ç¬¦ä¸Žä¸»ä¸²ä¸èƒ½åŒ¹é…çš„æ—¶å€™ï¼Œå°†æ¨¡å¼ä¸²å¾€åŽå¤šæ»‘åŠ¨å‡ ä½ã€‚ é¢å¤–çŸ¥è¯† 1 BWT-FMç®—æ³• Burrowsâ€“Wheeler Transformï¼ˆç®€ç§°BWTï¼Œä¹Ÿç§°ä½œå—æŽ’åºåŽ‹ç¼©ï¼‰ï¼Œæ˜¯ä¸€ä¸ªè¢«åº”ç”¨åœ¨æ•°æ®åŽ‹ç¼©æŠ€æœ¯ï¼ˆå¦‚bzip2ï¼‰ä¸­çš„ç®—æ³•ã€‚è¯¥ç®—æ³•äºŽ1994å¹´è¢«Michael Burrowså’ŒDavid Wheeleråœ¨ä½äºŽåŠ åˆ©ç¦å°¼äºšå·žå¸•æ´›é˜¿å°”æ‰˜çš„DECç³»ç»Ÿç ”ç©¶ä¸­å¿ƒå‘æ˜Ž[1]ã€‚å®ƒçš„åŸºç¡€æ˜¯ä¹‹å‰Wheeleråœ¨1983å¹´å‘æ˜Žçš„ä¸€ç§æ²¡æœ‰å…¬å¼€çš„è½¬æ¢æ–¹æ³•ã€‚å½“ä¸€ä¸ªå­—ç¬¦ä¸²ç”¨è¯¥ç®—æ³•è½¬æ¢æ—¶ï¼Œç®—æ³•åªæ”¹å˜è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„é¡ºåºè€Œå¹¶ä¸æ”¹å˜å…¶å­—ç¬¦ã€‚å¦‚æžœåŽŸå­—ç¬¦ä¸²æœ‰å‡ ä¸ªå‡ºçŽ°å¤šæ¬¡çš„å­ä¸²ï¼Œé‚£ä¹ˆè½¬æ¢è¿‡çš„å­—ç¬¦ä¸²ä¸Šå°±ä¼šæœ‰ä¸€äº›è¿žç»­é‡å¤çš„å­—ç¬¦ï¼Œè¿™å¯¹åŽ‹ç¼©æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¯¥æ–¹æ³•èƒ½ä½¿å¾—åŸºäºŽå¤„ç†å­—ç¬¦ä¸²ä¸­è¿žç»­é‡å¤å­—ç¬¦çš„æŠ€æœ¯ï¼ˆå¦‚MTFå˜æ¢å’Œæ¸¸ç¨‹ç¼–ç ï¼‰çš„ç¼–ç æ›´å®¹æ˜“è¢«åŽ‹ç¼©ã€‚ä¸¾ä¸ªä¾‹å­ï¼š ç®—æ³•è¾“å…¥ SIX.MIXED.PIXIES.SIFT.SIXTY.PIXIE.DUST.BOXES ç®—æ³•è¾“å‡º TEXYDST.E.IXIXIXXSSMPPS.B..E.S.EUSFXDIIOIIIT è¯¥ç®—æ³•çš„è¾“å‡ºå› ä¸ºæœ‰æ›´å¤šçš„é‡å¤å­—ç¬¦è€Œæ›´å®¹æ˜“è¢«åŽ‹ç¼©äº†ã€‚ 34|å­—ç¬¦ä¸²åŒ¹é…åŸºç¡€ï¼ˆä¸‹ï¼‰ï¼šå¦‚ä½•å€ŸåŠ©BMç®—æ³•è½»æ¾ç†è§£KMPç®—æ³•ï¼Ÿè‡ªæˆ‘æ€»ç»“ KMPç®—æ³•çš„åŸºæœ¬åŽŸç† ç¬¬ä¸€å°è±¡ï¼šåœ¨æ¨¡å¼ä¸²å’Œä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°åå­—ç¬¦åŽï¼Œå¯¹äºŽå·²ç»æ¯”å¯¹è¿‡çš„å¥½å‰ç¼€ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ç§è§„å¾‹ï¼Œå°†æ¨¡å¼ä¸²ä¸€æ¬¡æ€§æ»‘åŠ¨å¾ˆå¤šä½ï¼Ÿé‡æ¸©ï¼šæœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²å¼•å‡ºå¤±æ•ˆå‡½æ•°æ•°ç»„ï¼ŒKMPç®—æ³•ä¸­å…¶å®žç›¸å½“äºŽåªæœ‰åå­—ç¬¦åŽŸåˆ™ å¤±æ•ˆå‡½æ•°è®¡ç®—æ–¹æ³• ç¬¬ä¸€å°è±¡ï¼šåˆ©ç”¨æ¬¡é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ï¼Œæ¥ä¸æ–­å¯»æ‰¾ä¸‹ä¸€ä¸ªå¯ä»¥å’Œb[i]ç›¸ç­‰çš„æ•°çš„ä¸‹è¡¨ï¼Œä¸€å±‚ä¸€å±‚ï¼ŒèŠ‚çº¦æ—¶é—´é‡æ¸©ï¼šå¦‚æžœæœ€é•¿åŒ¹é…å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å’Œb[i]ä¸ç­‰ï¼Œé‚£ä¹ˆè¦åˆ©ç”¨æ¬¡é•¿å¯åŒ¹é…å­ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ¥è¿›è¡ŒåŒ¹é…b[i]ï¼Œæœ€å¤§ç¨‹åº¦ä¸ŠèŠ‚çº¦æ—¶é—´ KMPç®—æ³•å¤æ‚åº¦åˆ†æž ç¬¬ä¸€å°è±¡ï¼šç©ºé—´ï¼šO(m)ï¼Œ æ—¶é—´ï¼šO(m+n)é‡æ¸©ï¼šæ—¶é—´å¤æ‚åº¦ä¸å¥½è®¡ç®—ï¼Œéœ€è¦åˆ©ç”¨å˜é‡æ¥æ€è€ƒï¼Œwhileå¾ªçŽ¯é‡Œé¢k=next[k]æ€»çš„æ‰§è¡Œæ¬¡æ•°ä¹Ÿä¸å¯èƒ½è¶…è¿‡mï¼Œè¿™å°±æœ‰ç‚¹éœ€è¦å¤´è„‘äº† è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šéƒ½æ˜¯æ‰¾è§„å¾‹å°½é‡å¾€åŽå¤šæ»‘åŠ¨å‡ ä½é‡æ¸©ï¼šå¹³å¸¸çš„å¼€å‘ä¸­ï¼Œå¾ˆå°‘ä¼šé‡è§è¿™ä¹ˆéš¾åˆ†æžçš„ä»£ç  é¢å¤–çŸ¥è¯† 1 k = next[k]æœ€éš¾ç†è§£çš„åœ°æ–¹æ˜¯ k = next[k] å› ä¸ºå‰ä¸€ä¸ªçš„æœ€é•¿ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸Žæœ€åŽä¸€ä¸ªç›¸ç­‰ï¼Œéœ€è¦æ‰¾å‰ä¸€ä¸ªçš„æ¬¡é•¿ä¸²ï¼Œé—®é¢˜å°±å˜æˆäº†æ±‚0åˆ°next(k)çš„æœ€é•¿ä¸²ï¼Œå¦‚æžœä¸‹ä¸ªå­—ç¬¦ä¸Žæœ€åŽä¸€ä¸ªä¸ç­‰ï¼Œç»§ç»­æ±‚æ¬¡é•¿ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªnext(k)ï¼Œç›´åˆ°æ‰¾åˆ°ï¼Œæˆ–è€…å®Œå…¨æ²¡æœ‰ã€‚ 35|Trieæ ‘ï¼šå¦‚ä½•å®žçŽ°æœç´¢å¼•æ“Žçš„æœç´¢å…³é”®è¯æç¤ºåŠŸèƒ½ï¼Ÿè‡ªæˆ‘æ€»ç»“ ä»€ä¹ˆæ˜¯â€œTrie æ ‘â€ ç¬¬ä¸€å°è±¡ï¼šå­—å…¸æ ‘ï¼Œæ ‘å½¢ç»“æž„ï¼Œæ ¹èŠ‚ç‚¹ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œå­—ç¬¦æ˜¯ä»Žå°åˆ°å¤§å­˜å‚¨ä»Žå·¦åˆ°å³å­˜å‚¨çš„ã€‚é‡æ¸©ï¼šå¦‚ heï¼Œæœ€åŽä¸€ä¸ªèŠ‚ç‚¹ä¸æ˜¯çº¢è‰²ï¼Œè¡¨æ˜Žä»–æ˜¯æŸä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€å­ä¸²ï¼Œä½†å¹¶ä¸èƒ½å®Œå…¨åŒ¹é…ä»»ä½•å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ˜¾ç„¶å¯ä»¥æœç´¢å‡ºæ¥ï¼Œæ‰€æœ‰çº¢è‰²èŠ‚ç‚¹ä¸ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹ï¼Œæœ‰ç‚¹ä¸ç†è§£ å¦‚ä½•å®žçŽ°ä¸€æ£µ Trie æ ‘ ç¬¬ä¸€å°è±¡ï¼šä¸€ä¸ªæ˜¯å°†å­—ç¬¦ä¸²é›†åˆæž„é€ æˆ trieæ ‘ï¼Œä¸€ä¸ªæ˜¯åœ¨trieæ ‘ä¸­æŸ¥è¯¢ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚trieæ ‘æ˜¾ç„¶æ˜¯ä¸€ä¸ªå¤šå‰æ ‘é‡æ¸©ï¼šæž„å»ºæ—¶ç”Ÿæˆä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šä¸æ–­åˆå§‹åŒ–ï¼Œä»”ç»†æ•²ä¸€éå°±ä¼šæ„Ÿåˆ°ç¥žå¥‡ã€‚Kçš„æ—¶é—´å¤æ‚åº¦ï¼Œæž„å»ºèµ·æ¥ä¸€ä¸ªTrieæ ‘ç¡®å®žæ—¶ä¸é”™çš„ã€‚ Trieæ ‘çœŸçš„å¾ˆè€—å†…å­˜å—ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå­—ç¬¦å¾ˆå°‘çš„æƒ…å†µä¸‹ï¼Œ26çš„æ•°ç»„æµªè´¹å†…å­˜ï¼Œé‡å¤å‰ç¼€å°‘çš„æƒ…å†µä¸‹ï¼Œæµªè´¹ç©ºé—´ã€‚é€šå¸¸ä¼šæœ‰åŽ‹ç¼©ï¼Œæ¯”å¦‚å¶å­èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªä¼šåˆå¹¶ï¼Œç­‰ç­‰æƒ…å†µé‡æ¸©ï¼šæˆ‘ä»¬å¯ä»¥ç¨å¾®ç‰ºç‰²ä¸€ç‚¹æŸ¥è¯¢çš„æ•ˆçŽ‡ï¼Œå°†æ¯ä¸ªèŠ‚ç‚¹ä¸­æ•°ç»„æ¢æˆå…¶ä»–æ•°æ®ç»“æž„ï¼Œæ¥å­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡é’ˆï¼Œæœ‰åºæ•°ç»„ã€è·³è¡¨ã€æ•£åˆ—è¡¨ç­‰ã€‚ï¼ˆè¦æ³¨æ„è¿™äº›æ•°æ®ç»“æž„æ˜¯å¦‚ä½•å­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æŒ‡é’ˆçš„ï¼‰ Trieæ ‘ä¸Žæ•£åˆ—è¡¨ã€çº¢é»‘æ ‘çš„æ¯”è¾ƒ ç¬¬ä¸€å°è±¡ï¼šå­—ç¬¦é›†ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™å­˜å‚¨ç©ºé—´æµªè´¹å¾ˆå¤šã€‚å‰ç¼€é‡åˆæœ€å¥½è¦å¤šï¼Œä»Žé›¶å¼€å§‹å®žçŽ°ä¸€ä¸ªTrieæ ‘ï¼Œä¿è¯æ²¡æœ‰bugï¼Œå…¶å®žä¸å¤ªå€¼å¾—ï¼Œ10ä¸‡è¡Œçš„å­—ç¬¦ä¸²ä¹Ÿé‡åœ¨æ¯”è¾ƒæ¶ˆè€—ï¼Œä¸åœ¨äºŽç¡¬ä»¶çš„ç¼“å†²äº†ã€‚é‡æ¸©ï¼šTrie æ ‘ä¸­ç”¨åˆ°äº†æŒ‡é’ˆï¼Œå¯¹ç¼“å­˜å¹¶ä¸å‹å¥½ï¼ŒJavaä»£ç ä¸­å¥½åƒæ²¡ä½“ä¼šåˆ°æŒ‡é’ˆçš„åœ°æ–¹ï¼ŒèŽ«ä¸æ˜¯è¯´å®ƒåº•éƒ¨çš„åžƒåœ¾å›žæ”¶ç­‰ä¼˜åŒ–ï¼Ÿï¼Ÿï¼Ÿ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šä¸é€‚åˆç²¾ç¡®åŒ¹é…ï¼Œè¿™é—®é¢˜è®¾æ•£åˆ—è¡¨æˆ–è€…çº¢é»‘æ ‘ æ¥è§£å†³ï¼Œé€‚åˆå¼€ç¯‡çš„æœç´¢å¼•æ“Žçš„é‚£ç§åœºæ™¯ã€‚å®ƒåœ¨è‡ªå·±çš„åœºæ™¯ä¸­ï¼Œè¿˜æ˜¯å¾ˆé«˜æ•ˆçš„ã€‚é‡æ¸©ï¼šå¹³å¸¸çš„å¼€å‘ä¸­ï¼ŒTrieæ ‘å¾ˆéš¾åº”ç”¨ï¼Œä¸­æ–‡ï¼Œå…³é”®æ¬¡å¾ˆå¤šï¼Œå¦‚ä½•å±•ç¤ºã€æ‹¼å†™é”™è¯¯ç­‰é—®é¢˜ï¼ŒIDE ä»£ç ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨ï¼Œåˆ©ç”¨çš„æ˜¯è¯­æ³•æ ‘ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—å…¸æ ‘ã€‚ é¢å¤–çŸ¥è¯† 36|ACè‡ªåŠ¨æœºï¼šå¦‚ä½•ç”¨å¤šæ¨¡å¼ä¸²åŒ¹é…å®žçŽ°æ•æ„Ÿè¯è¿‡æ»¤åŠŸèƒ½ï¼Ÿè‡ªæˆ‘æ€»ç»“ åŸºäºŽå•æ¨¡å¼ä¸²å’ŒTrieæ ‘å®žçŽ°çš„æ•æ„Ÿè¯è¿‡æ»¤ ç¬¬ä¸€å°è±¡ï¼šåŸºäºŽTrieæ ‘çš„å¤„ç†åŠžæ³•ï¼Œæœ‰ç‚¹ç±»ä¼¼å•æ¨¡å¼åŒ¹é…çš„BFç®—æ³•ã€‚ï¼ˆç”¨æˆ·è¾“å…¥çš„æ‰€æœ‰å­—ç¬¦å½¢æˆä¸»ä¸²ï¼Œå½“åŒ¹é…åˆ°Trieçš„å¶å­èŠ‚ç‚¹ï¼Œæˆ–è€…ä¸­é€”é‡åˆ°ä¸åŒ¹é…çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†ä¸»ä¸²çš„å¼€å§‹åŒ¹é…ä½ç½®åŽç§»ä¸€ä½ï¼‰é‡æ¸©ï¼šKMPç®—æ³•å¯¹BFç®—æ³•è¿›è¡Œæ”¹è¿›ï¼Œå¼•å…¥äº†nexæ•°ç»„ï¼ŒACè‡ªåŠ¨æœºç®—æ³•æ”¹è¿›çš„æ€è·¯ç±»ä¼¼ï¼Œå¼•å…¥äº†å¤±è´¥æŒ‡é’ˆçš„æ€æƒ³ã€‚ ç»å…¸çš„å¤šæ¨¡å¼ä¸²åŒ¹é…ç®—æ³•ï¼šACè‡ªåŠ¨æœº ç¬¬ä¸€å°è±¡ï¼šæž„å»ºåŒ…å«ä¸¤ä¸ªæ“ä½œï¼šä¸€ã€å°†å¤šä¸ªæ¨¡å¼ä¸²æž„å»ºæˆ Trie æ ‘ï¼›äºŒã€åœ¨Trie æ ‘ä¸Šæž„å»ºå¤±è´¥æŒ‡é’ˆï¼ˆè¿™ä¸ªæ˜¯é‡éš¾ç‚¹ï¼‰4ä¸ªæ¨¡å¼ä¸²ï¼Œåˆ†åˆ«æ˜¯cï¼Œbcï¼Œbcdï¼Œabcdï¼›ä¸»ä¸²æ˜¯abcdï¼Œpçš„å¤±è´¥æŒ‡é’ˆå°±æ˜¯ä»Žrootèµ°åˆ°ç´«è‰²èŠ‚ç‚¹å½¢æˆçš„å­—ç¬¦ä¸²abcï¼Œè·Ÿæ‰€æœ‰æ¨¡å¼ä¸²å‰ç¼€åŒ¹é…çš„æœ€é•¿å¯åŒ¹é…åŽç¼€å­ ä¸²ï¼Œå°±æ˜¯ç®­å¤´æŒ‡çš„bcæ¨¡å¼ä¸²ã€‚ å­—ç¬¦ä¸²abcçš„åŽç¼€å­ä¸²æœ‰ä¸¤ä¸ªbcï¼Œcï¼Œæˆ‘ä»¬æ‹¿å®ƒä»¬ä¸Žå…¶ä»–æ¨¡å¼ä¸²åŒ¹é…ï¼Œå¦‚æžœæŸä¸ªåŽç¼€å­ä¸²å¯ä»¥åŒ¹é…æŸä¸ªæ¨¡å¼ä¸²çš„å‰ ç¼€ï¼Œé‚£æˆ‘ä»¬å°±æŠŠè¿™ä¸ªåŽç¼€å­ä¸²å«ä½œå¯åŒ¹é…åŽç¼€å­ä¸²ã€‚æˆ‘ä»¬ä»Žå¯åŒ¹é…åŽç¼€å­ä¸²ä¸­ï¼Œæ‰¾å‡ºæœ€é•¿çš„ä¸€ä¸ªï¼Œå°±æ˜¯åˆšåˆšè®²åˆ°çš„æœ€é•¿å¯åŒ¹é…åŽç¼€å­ä¸²ã€‚å¦‚æžœæˆ‘ä»¬æŠŠæ ‘ä¸­ç›¸åŒæ·±åº¦çš„èŠ‚ç‚¹æ”¾åˆ°åŒä¸€å±‚ï¼Œé‚£ä¹ˆæŸä¸ªèŠ‚ç‚¹çš„å¤±è´¥æŒ‡é’ˆåªæœ‰å¯èƒ½å‡ºçŽ°åœ¨å®ƒæ‰€åœ¨å±‚çš„ä¸Š ä¸€å±‚ã€‚ï¼ˆè¿™é‡Œä¸ºä»€ä¹ˆä¸å¯èƒ½æ˜¯ä¸Šä¸¤å±‚å‘¢ï¼‰å½“æˆ‘ä»¬è¦æ±‚æŸä¸ªèŠ‚ç‚¹çš„å¤±è´¥æŒ‡é’ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡å·²ç»æ±‚å¾—çš„ã€æ·±åº¦æ›´å°çš„é‚£äº›èŠ‚ç‚¹çš„å¤±è´¥æŒ‡é’ˆæ¥æŽ¨å¯¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€å±‚ä¾ æ¬¡æ¥æ±‚è§£æ¯ä¸ªèŠ‚ç‚¹çš„å¤±è´¥æŒ‡é’ˆã€‚æ‰€ä»¥ï¼Œå¤±è´¥æŒ‡é’ˆçš„æž„å»ºè¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªæŒ‰å±‚éåŽ†æ ‘çš„è¿‡ç¨‹ã€‚ï¼ˆè¾ƒå®¹æ˜“ç†è§£çš„å€’æŽ¨è¿‡ç¨‹ï¼‰å¦‚æžœèŠ‚ç‚¹qä¸­æ²¡æœ‰å­èŠ‚ç‚¹çš„å­—ç¬¦ç­‰äºŽèŠ‚ç‚¹pcåŒ…å«çš„å­—ç¬¦ï¼Œåˆ™ä»¤q=q-&gt;failï¼ˆè¿™é‡Œæ˜¯è¾ƒéš¾ç†è§£çš„åœ°æ–¹ï¼Œç»“åˆä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œç±»ä¼¼äºŽKMPç®—æ³•ä¸­çš„å€’æŽ¨è¿‡ç¨‹ï¼Œæ‰¾åˆ°æ˜¯ä¸Šä¸€å±‚çš„ä¼˜åŒ–ç»“æžœï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸ªéåŽ†ï¼Œè¿™ä¹Ÿæ˜¯ä¼˜åŒ–çš„æ‰€åœ¨ï¼‰ï¼Œç»§ç»­ä¸Šé¢çš„æŸ¥æ‰¾ï¼Œç›´ åˆ°qæ˜¯rootä¸ºæ­¢ï¼Œå¦‚æžœè¿˜æ²¡æœ‰æ‰¾åˆ°ç›¸åŒå­—ç¬¦çš„å­èŠ‚ç‚¹ï¼Œå°±è®©èŠ‚ç‚¹pcçš„å¤±è´¥æŒ‡é’ˆæŒ‡å‘rootã€‚è¿‡ç¨‹ç®€è¿°ï¼š å¦‚æžœpæŒ‡å‘çš„èŠ‚ç‚¹æœ‰ä¸€ä¸ªç­‰äºŽb[i]çš„å­èŠ‚ç‚¹xï¼Œæˆ‘ä»¬å°±æ›´æ–°pæŒ‡å‘xï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é€šè¿‡å¤±è´¥æŒ‡é’ˆï¼Œæ£€æµ‹ä¸€ç³»åˆ—å¤±è´¥æŒ‡é’ˆä¸ºç»“å°¾çš„è·¯å¾„æ˜¯å¦æ˜¯æ¨¡å¼ä¸²ã€‚è¿™ä¸€ å¥ä¸å¥½ç†è§£ï¼Œä½ å¯ä»¥ç»“åˆä»£ç çœ‹ã€‚å¤„ç†å®Œä¹‹åŽï¼Œæˆ‘ä»¬å°†iåŠ ä¸€ï¼Œç»§ç»­è¿™ä¸¤ä¸ªè¿‡ç¨‹ï¼› å¦‚æžœpæŒ‡å‘çš„èŠ‚ç‚¹æ²¡æœ‰ç­‰äºŽb[i]çš„å­èŠ‚ç‚¹ï¼Œé‚£å¤±è´¥æŒ‡é’ˆå°±æ´¾ä¸Šç”¨åœºäº†ï¼Œæˆ‘ä»¬è®©p=p-&gt;failï¼Œç„¶åŽç»§ç»­è¿™ä¸¤ä¸ªè¿‡ç¨‹ã€‚ é‡æ¸©ï¼šä»£ç è¾ƒä¸ºéš¾ä»¥ç†è§£ï¼Œè¦å¤šçœ‹ä¸€ä¸‹ï¼Œå¤šå®žè·µä¸€ä¸‹ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šä½ åªéœ€è¦ç¨åŠ æ”¹é€ ï¼Œå†éåŽ†ä¸€éæ–‡æœ¬å†…å®¹ï¼ˆä¸»ä¸²ï¼‰ï¼Œå°±å¯ä»¥å°†æ–‡æœ¬ä¸­çš„æ‰€æœ‰æ•æ„Ÿè¯æ›¿æ¢æˆâ€œâ€ã€‚ï¼ˆè¿™é‡Œçš„æ¨¡å¼å’Œä¸»ä¸²çš„å…³ç³»å’ŒKMPä¸­çš„å¥½åƒæ­£å¥½ç›¸åï¼‰ï¼ŒTrieæ ‘æž„å»ºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(mlen)ï¼Œå…¶ä¸­lenè¡¨ç¤ºæ•æ„Ÿè¯çš„å¹³å‡é•¿åº¦ï¼Œmè¡¨ç¤ºæ•æ„Ÿè¯çš„ä¸ªæ•°ã€‚ï¼ˆæ•æ„Ÿè¯å°±æ˜¯æ–‡ä¸­çš„æ¨¡å¼ä¸²ï¼‰Trieæ ‘ä¸­æ€»çš„èŠ‚ç‚¹ä¸ªæ•°æ˜¯kï¼Œæ•´ä¸ªå¤±è´¥æŒ‡é’ˆçš„æž„å»ºè¿‡ç¨‹å°±æ˜¯O(klen)ï¼Œæ‰€ä»¥æ€»çš„ åŒ¹é…çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(nlen)ï¼Œå®žé™…æƒ…å†µä¸‹ï¼Œå¯èƒ½è¿‘ä¼¼äºŽO(n)ï¼Œæ‰€ä»¥ACè‡ªåŠ¨æœºåšæ•æ„Ÿ è¯è¿‡æ»¤ï¼Œæ€§èƒ½éžå¸¸é«˜ã€‚é‡æ¸©**ï¼šä»Žæ—¶é—´å¤æ‚åº¦ä¸Šçœ‹ï¼ŒACè‡ªåŠ¨æœºåŒ¹é…çš„æ•ˆçŽ‡è·ŸTrieæ ‘ä¸€æ ·å•Šã€‚å®žé™…ä¸Šï¼Œå› ä¸ºå¤±æ•ˆæŒ‡é’ˆå¯èƒ½å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æŒ‡å‘rootèŠ‚ç‚¹ï¼Œæ‰€ä»¥ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œ åœ¨ACè‡ªåŠ¨æœºä¸ŠåšåŒ¹é…çš„æ•ˆçŽ‡è¦è¿œé«˜äºŽåˆšåˆšè®¡ç®—å‡ºçš„æ¯”è¾ƒå®½æ³›çš„æ—¶é—´å¤æ‚åº¦ã€‚æ•´ä¸ªACè‡ªåŠ¨æœºç®—æ³•åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯å°†å¤šä¸ªæ¨¡å¼ä¸²æž„å»ºæˆACè‡ªåŠ¨æœºï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯åœ¨ACè‡ªåŠ¨æœºä¸­åŒ¹é…ä¸»ä¸²ã€‚ç¬¬ä¸€éƒ¨åˆ†åˆåˆ†ä¸ºä¸¤ä¸ªå°çš„æ­¥éª¤ï¼Œä¸€ä¸ªæ˜¯å°†æ¨¡ å¼ä¸²æž„å»ºæˆTrieæ ‘ï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨Trieæ ‘ä¸Šæž„å»ºå¤±è´¥æŒ‡é’ˆã€‚ï¼ˆæœ€èµ·ç è¦è¯´å‡ºè¿™ä¸ªè¿‡ç¨‹ï¼Œç»†èŠ‚ä¸”ä¸è®ºï¼‰ 37è´ªå¿ƒç®—æ³•ï¼šå¦‚ä½•ç”¨è´ªå¿ƒç®—æ³•å®žçŽ°HuffmanåŽ‹ç¼©ç¼–ç ï¼Ÿè‡ªæˆ‘æ€»ç»“ å¦‚ä½•ç†è§£è´ªå¿ƒç®—æ³• ç¬¬ä¸€å°è±¡ï¼šä¸»è¦æ˜¯ä¸¤ç‚¹ï¼šä¸€ã€åœ¨æœ€å¤§çš„é™åˆ¶å€¼ä¸­å–å¾—æœ€å¤§çš„æ•ˆç›Šï¼ˆå¯èƒ½å°±æ˜¯æ¯å•ä½å–æœ€å¤§åˆ©ç›Šçš„ä¼˜å…ˆè¿™ç§ï¼Œç®—ä¸ªé™¤æ³•å³å¯ï¼‰ã€‚äºŒã€æ‰¾å‡ ä¸ªä¾‹å­éªŒè¯ä¸€ä¸‹å³å¯ã€‚å› ä¸ºè´ªå¿ƒç®—æ³•éªŒè¯æ¯”è¾ƒå›°éš¾ã€‚é‡æ¸©ï¼šå‰é¢çš„é€‰æ‹©ä¼šå½±å“åŽé¢çš„é€‰æ‹©ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨è´ªå¿ƒï¼ŒåŠ¨æ€è§„åˆ’å¯èƒ½å¯ä»¥è§£å†³ã€‚ è´ªå¿ƒç®—æ³•å®žæˆ˜åˆ†æž ç¬¬ä¸€å°è±¡ï¼šåˆ†ç³–æžœï¼ˆä¸€å®šé‡çš„ç³–æžœï¼Œæ»¡è¶³æ›´å¤šå°å­©å¯¹ç³–çš„ç›¸åº”éœ€æ±‚ï¼Œéœ€æ±‚å°çš„ä¼˜å…ˆï¼‰ã€é’±å¸æ‰¾é›¶ï¼ˆæ»¡è¶³èŠ±æ›´å°‘çº¸å¸èŽ·å–ç‰©å“çš„éœ€æ±‚ï¼Œé¢å€¼å¤§çš„ä¼˜å…ˆï¼Œæœ‰ç‚¹åè¿‡æ¥çš„æ„Ÿè§‰ï¼‰ã€åŒºé—´è¦†ç›–ï¼ˆä¸€ä¸ªåŒºé—´å†…ï¼Œä¸ç›¸äº¤çš„å°åŒºé—´æ•°æ›´å¤šï¼Œå’Œåˆ†ç³–æžœæ€æƒ³ç±»ä¼¼ï¼Œç»†èŠ‚è¦å¤šç‚¹ï¼‰é‡æ¸©ï¼šåŒºé—´è¦†ç›–ï¼šæ•™å¸ˆæŽ’è¯¾ï¼Œä»»åŠ¡è°ƒåº¦ç­‰ï¼ˆä¸èƒ½æ»¡è¶³ä¼˜å…ˆçº§çš„è¦æ±‚ï¼‰ã€‚ç»†èŠ‚ï¼šå·¦ç«¯ç‚¹è·Ÿå‰é¢çš„å·²è¦†ç›–çš„ä¸é‡åˆï¼Œå³ç«¯ç‚¹å°½é‡å°çš„ã€‚ è§£ç­”å¼€ç¯‡ ç¬¬ä¸€å°è±¡ï¼šç­‰é•¿çš„åŽ‹ç¼©æ•ˆçŽ‡ä¸é«˜ï¼Œä¸ç­‰é•¿è¦è€ƒè™‘å¦‚ä½•è§£åŽ‹çš„é—®é¢˜ã€‚å¼•å‡ºå“ˆå¤«æ›¼æ ‘çš„è¦ç‚¹ï¼šä¸ºäº†é¿å…è§£åŽ‹ç¼©è¿‡ç¨‹ä¸­çš„æ­§ä¹‰ï¼Œä»»ä½•ä¸€ä¸ªå­—ç¬¦çš„ç¼–ç éƒ½ä¸æ˜¯å¦ä¸€ä¸ªçš„å‰ç¼€ã€‚è§£åŽ‹ç¼©æ—¶å°½å¯èƒ½è¯»ï¼Œä¸€èˆ¬è¯»åˆ°ç¬¬ä¸€ä¸ª1æ‰“ä½ã€‚æž„é€ ç”¨åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—å’ŒäºŒå‰æ ‘ã€‚æž„é€ å®Œæ¯•ï¼Œæœ€é å‰çš„åˆ†é…ç»™é¢‘çŽ‡æœ€é«˜çš„ï¼Œå·¦0å³1è¿™æ ·åˆ†é…å³å¯ã€‚é‡æ¸©ï¼šå…·ä½“ç†è§£ï¼š1000å­—ç¬¦ï¼ŒåŽŸæœ¬è¦8000bitï¼ŒåŠ å…¥åªæœ‰5ç§å­—æ¯ï¼Œ3ä½ç­‰é•¿äºŒè¿›åˆ¶å¯æè¿°ï¼Œ3000bitï¼Œæ ¹æ®å“ˆå¤«æ›¼å˜é•¿å­˜å‚¨ï¼Œä¾‹å­ç»™çš„ç»“æžœæ—¶2100bitã€‚ä»Žä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å–æœ€å°çš„ä¸¤ä¸ªå½¢æˆ3ä¸ªç»“ç‚¹ï¼Œç„¶åŽä»Žé˜Ÿåˆ—ä¸­ç»§ç»­å–æœ€å°çš„ä¸€ä¸ªç»§ç»­æž„é€ ã€‚ å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šä½¿ç”¨åœºæ™¯æœ‰é™ï¼Œæœ€å°ç”Ÿæˆæ ‘ï¼Œå•æºæœ€çŸ­è·¯å¾„ç®—æ³•ç”¨åˆ°äº†è´ªå¿ƒç®—æ³•ã€‚å¤šç»ƒä¹ æ‰æ˜¯æœ€é‡è¦çš„ï¼Œè´ªå¿ƒçš„éš¾ç‚¹åœ¨æž„é€ æ¨¡åž‹ï¼Œä»£ç ä¸€èˆ¬å¾ˆç®€å•ã€‚é‡æ¸©ï¼šéžè´Ÿæ•´æ•°aä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›ä»Žä¸­ç§»é™¤kä¸ªæ•°å­—ï¼Œè®©å‰©ä¸‹çš„æ•°å­—å€¼æœ€å°ï¼Œå¦‚ä½•é€‰æ‹©ç§»é™¤å“ªkä¸ªæ•°å­—å‘¢ï¼Ÿç”±æœ€é«˜ä½å¼€å§‹ï¼Œæ¯”è¾ƒä½Žä¸€ä½æ•°å­—ï¼Œå¦‚é«˜ä½å¤§ï¼Œç§»é™¤ï¼Œè‹¥é«˜ä½å°ï¼Œåˆ™å‘å³ç§»ä¸€ä½ç»§ç»­æ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›´åˆ°é«˜ä½å¤§äºŽä½Žä½åˆ™ç§»é™¤ï¼Œåˆ é™¤kæ¬¡ã€‚å¦‚æžœé«˜ä½åˆ°ä½Žä½ä¾æ¬¡å˜å¤§ï¼Œåˆ™ç§»é™¤å‰kä½ï¼ˆåœ¨å°½é‡é«˜çš„ä½ç½®ç§»é™¤å°½é‡å¤§çš„æ•°å­—ï¼Œæœ€åŽç§»é™¤kä½çš„ä½æ•°æ˜¯ä¸€å®šçš„ï¼Œå°½é‡é«˜ä½ï¼Œåˆ™è·Ÿå‰åŽæ¯”è¾ƒå³å¯ã€‚è¿™ä¸ªè´ªå¿ƒç®—æ³•æœ‰ç‚¹æ¨¡ç³Šï¼‰ 38åˆ†æ²»ç®—æ³•ï¼šè°ˆä¸€è°ˆå¤§è§„æ¨¡è®¡ç®—æ¡†æž¶MapReduceä¸­çš„åˆ†æ²»æ€æƒ³è‡ªæˆ‘æ€»ç»“ å¦‚ä½•ç†è§£åˆ†æ²»ç®—æ³• ç¬¬ä¸€å°è±¡ï¼šåˆ†è€Œæ²»ä¹‹ï¼Œå°†åŽŸé—®é¢˜åˆ’åˆ†æˆnä¸ªè§„æ¨¡è¾ƒå°ï¼Œå¹¶ä¸”ç»“æž„ä¸ŽåŽŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œé€’å½’åœ°è§£å†³è¿™äº› å­é—®é¢˜ï¼Œç„¶åŽå†åˆå¹¶å…¶ç»“æžœï¼Œå°±å¾—åˆ°åŽŸé—®é¢˜çš„è§£ã€‚åˆ†æ²»ç®—æ³•æ˜¯ä¸€ç§å¤„ç†é—®é¢˜çš„æ€æƒ³ï¼Œé€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€å·§ã€‚æ¯ä¸€å±‚é€’å½’éƒ½æ¶‰åŠï¼šåˆ†è§£ã€è§£å†³ã€åˆå¹¶ã€‚é‡æ¸©ï¼šå…¶èƒ½è§£å†³çš„é—®é¢˜ä¸€èˆ¬æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶ï¼šåŽŸé—®é¢˜ä¸Žåˆ†è§£æˆçš„å°é—®é¢˜å…·æœ‰ç›¸åŒçš„æ¨¡å¼ï¼›åŽŸé—®é¢˜åˆ†è§£æˆçš„å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£ï¼Œå­é—®é¢˜ä¹‹é—´æ²¡æœ‰ç›¸å…³æ€§ï¼›å…·æœ‰åˆ†è§£ç»ˆæ­¢æ¡ä»¶ï¼›å¯ä»¥å°†å­é—®é¢˜åˆå¹¶æˆåŽŸé—®é¢˜ï¼Œè€Œè¿™ä¸ªåˆå¹¶æ“ä½œçš„å¤æ‚åº¦ä¸èƒ½å¤ªé«˜ï¼Œå¦åˆ™å°±èµ·ä¸åˆ°å‡å°ç®—æ³•æ€»ä½“å¤æ‚åº¦çš„æ•ˆæžœã€‚ åˆ†æ²»ç®—æ³•åº”ç”¨ä¸¾ä¾‹åˆ†æž ç¬¬ä¸€å°è±¡ï¼šé€†åºå¯¹æ•°çš„æ±‚è§£ã€‚é‡æ¸©ï¼šè¿˜æœ‰ä¸¤é“æ¯”è¾ƒç»å…¸çš„é—®é¢˜ï¼Œä½ å¯ä»¥è‡ªå·±ç»ƒä¹ ä¸€ä¸‹ã€‚æš´åŠ›æ³•çš„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ã€‚æˆ‘ä»¬å¥—ç”¨åˆ†æ²»çš„æ€æƒ³æ¥æ±‚æ•°ç»„Açš„é€†åºå¯¹ä¸ªæ•°ã€‚æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„åˆ†æˆå‰åŽä¸¤åŠA1å’ŒA2ï¼Œåˆ†åˆ«è®¡ç®—A1å’ŒA2çš„é€†åºå¯¹ä¸ªæ•°K1å’ŒK2ï¼Œç„¶åŽå† è®¡ç®—A1ä¸ŽA2ä¹‹é—´çš„é€†åºå¯¹ä¸ªæ•°K3ã€‚é‚£æ•°ç»„Açš„é€†åºå¯¹ä¸ªæ•°å°±ç­‰äºŽK1+K2+K3ã€‚åœ¨è¿™ä¸ªåˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—è¿™ä¸¤ä¸ªå°æ•°ç»„çš„é€†åºå¯¹ä¸ªæ•°äº†ã€‚ äºŒç»´å¹³é¢ä¸Šæœ‰nä¸ªç‚¹ï¼Œå¦‚ä½•å¿«é€Ÿè®¡ç®—å‡ºä¸¤ä¸ªè·ç¦»æœ€è¿‘çš„ç‚¹å¯¹ï¼Ÿ ç¬¬ä¸€ä¸ªæ±‚æœ€è¿‘çš„ç‚¹å¯¹ åˆ†æˆä¸¤å— å•ç‹¬æ±‚å…¶ä¸­ä¸€å—ç‚¹å¯¹æœ€å°è·ç¦» ç„¶åŽæ±‚è¿™ä¸¤å—ä¹‹é—´ç‚¹å¯¹çš„æœ€å°è·ç¦» é€šè¿‡ä¸€äº›æŽ’åºå’Œåˆ é™¤ å¯ä»¥å‡å°‘åˆ°6ä¸ªç‚¹ä¹‹é—´æ¯”è¾ƒ å¾ˆç¥žå¥‡https://www.jianshu.com/p/8bc681afbaff ä¸­çš„åè¯æ³•å¯ä»¥çœ‹ä¸€ä¸‹ç†è§£ä¸€ä¸‹ï¼Œé¸½èˆåŽŸç†ä¹Ÿéœ€è¦äº†è§£ä¸€ä¸‹å•Šã€‚ æœ‰ä¸¤ä¸ªnnçš„çŸ©é˜µAï¼ŒBï¼Œå¦‚ä½•å¿«é€Ÿæ±‚è§£ä¸¤ä¸ªçŸ©é˜µçš„ä¹˜ç§¯C=ABï¼Ÿ ç¬¬äºŒä¸ªçŸ©é˜µè®¡ç®— v.æ–¯ç‰¹æ‹‰æ£®æå‡ºäº†2*2åˆ†å—çŸ©é˜µçš„è®¡ç®—å…¬å¼ ä»ŽåŽŸæ¥çš„8æ¬¡ä¹˜æ³• ç¼©å‡åˆ°äº†7æ¬¡ å½“nè§„æ¨¡å¾ˆå¤§çš„æ—¶å€™ ç¼©å‡æ•ˆæžœå°±å¾ˆæ˜Žæ˜¾ ï¼ˆ7/8ï¼‰^(logn)https://blog.csdn.net/qq_18738333/article/details/51769524 å¯ä»¥å‚è€ƒè¿™é‡Œè¯´çš„åŽŸç†ï¼Œåˆ†æ²»æ¥ç®—çŸ©é˜µç›¸ä¹˜çš„å¤æ‚åº¦æ²¡æœ‰ä»€ä¹ˆä¼˜åŒ–ï¼Œè€Œä¸”è¦æ±‚æ˜¯2çš„å¹‚ã€‚ä½†æ˜¯ç¡®å®žå‡å°‘äº†ä¹˜æ³•å’ŒåŠ æ³•çš„è¿è¡Œã€‚ åˆ†æ²»æ€æƒ³åœ¨æµ·é‡æ•°æ®å¤„ç†ä¸­çš„åº”ç”¨ ç¬¬ä¸€å°è±¡ï¼šè§£å†³è¿™ç§æ•°æ®é‡å¤§åˆ°å†…å­˜è£…ä¸ä¸‹çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨åˆ†æ²»çš„æ€æƒ³ã€‚å°†æµ·é‡çš„æ•°æ®é›†åˆæ ¹æ®æŸç§æ–¹æ³•ï¼Œåˆ’åˆ†ä¸ºå‡ ä¸ªå°çš„æ•°æ®é›†åˆï¼Œæ¯ä¸ªå°çš„æ•°æ®é›† åˆå•ç‹¬åŠ è½½åˆ°å†…å­˜æ¥è§£å†³ï¼Œç„¶åŽå†å°†å°æ•°æ®é›†åˆåˆå¹¶æˆå¤§æ•°æ®é›†åˆã€‚å®žé™…ä¸Šï¼Œåˆ©ç”¨è¿™ç§åˆ†æ²»çš„å¤„ç†æ€è·¯ï¼Œä¸ä»…ä»…èƒ½å…‹æœå†…å­˜çš„é™åˆ¶ï¼Œè¿˜èƒ½åˆ©ç”¨å¤šçº¿ç¨‹æˆ–è€…å¤šæœºå¤„ç†ï¼ŒåŠ å¿«å¤„ç†çš„é€Ÿåº¦ã€‚é‡æ¸©ï¼šå¦‚æžœè®¢å•æ•°æ®å­˜å‚¨åœ¨ç±»ä¼¼GFSè¿™æ ·çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼Œå½“10GBçš„è®¢å•è¢«åˆ’åˆ†æˆå¤šä¸ªå°æ–‡ä»¶çš„æ—¶å€™ï¼Œæ¯ä¸ªæ–‡ä»¶å¯ä»¥å¹¶è¡ŒåŠ è½½åˆ°å¤šå°æœºå™¨ä¸Šå¤„ç†ï¼Œæœ€åŽå†å°†ç»“æžœåˆå¹¶åœ¨ ä¸€èµ·ï¼Œè¿™æ ·å¹¶è¡Œå¤„ç†çš„é€Ÿåº¦ä¹ŸåŠ å¿«äº†å¾ˆå¤šã€‚ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šå¯¹äºŽè°·æ­Œæœç´¢å¼•æ“Žæ¥è¯´ï¼Œç½‘é¡µçˆ¬å–ã€æ¸…æ´—ã€åˆ†æžã€åˆ†è¯ã€è®¡ç®—æƒé‡ã€å€’æŽ’ç´¢å¼•ç­‰ç­‰å„ä¸ªçŽ¯èŠ‚ä¸­ï¼Œéƒ½ä¼šé¢å¯¹å¦‚æ­¤æµ·é‡çš„æ•°æ®ï¼ˆæ¯”å¦‚ç½‘é¡µï¼‰ã€‚æ‰€ä»¥ï¼Œåˆ©ç”¨ é›†ç¾¤å¹¶è¡Œå¤„ç†æ˜¾ç„¶æ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚é‡æ¸©ï¼šä¸¤ç§åˆ†æ²»ç®—æ³•çš„å…¸åž‹çš„åº”ç”¨åœºæ™¯ï¼Œä¸€ä¸ªæ˜¯ç”¨æ¥æŒ‡å¯¼ç¼–ç ï¼Œé™ä½Žé—®é¢˜æ±‚è§£çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¦ä¸€ä¸ªæ˜¯è§£å†³æµ·é‡æ•°æ®å¤„ç†é—®é¢˜ã€‚æ¯”å¦‚MapReduceæœ¬è´¨ä¸Šå°±æ˜¯ åˆ©ç”¨äº†åˆ†æ²»æ€æƒ³ã€‚ 39å›žæº¯ç®—æ³•ï¼šä»Žç”µå½±ã€Šè´è¶æ•ˆåº”ã€‹ä¸­å­¦ä¹ å›žæº¯ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³è‡ªæˆ‘æ€»ç»“ å¦‚ä½•ç†è§£å›žæº¯ç®—æ³• ç¬¬ä¸€å°è±¡ï¼šæœ‰ç‚¹ç±»ä¼¼æžšä¸¾æœç´¢ã€‚æˆ‘ä»¬æžšä¸¾æ‰€æœ‰çš„è§£ï¼Œæ‰¾åˆ°æ»¡è¶³æœŸæœ›çš„è§£ã€‚ä¸ºäº†æœ‰è§„å¾‹åœ°æžšä¸¾æ‰€æœ‰å¯èƒ½çš„è§£ï¼Œé¿å…é—æ¼å’Œé‡å¤ï¼Œæˆ‘ä»¬æŠŠé—®é¢˜æ±‚è§£çš„è¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªé˜¶æ®µã€‚é‡æ¸©ï¼šå›žæº¯ç®—æ³•éžå¸¸é€‚åˆç”¨é€’å½’ä»£ç å®žçŽ°ã€‚å…«çš‡åŽä¸­çš„8^8æ¬¡æ–¹ï¼Œé€’å½’çš„æ–¹å¼å€¼å¾—å­¦ä¹ ä¸€ä¸‹ ç»å…¸åº”ç”¨ä¹‹0-1èƒŒåŒ… ç¬¬ä¸€å°è±¡ï¼šç‰©å“æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œè¦ä¹ˆè£…è¦ä¹ˆä¸è£…ï¼Œæ‰€ä»¥å«0-1èƒŒåŒ…é—®é¢˜ã€‚å¯¹äºŽnä¸ªç‰©å“æ¥è¯´ï¼Œæ€»çš„è£…æ³•å°±æœ‰2^nç§ï¼ŒåŽ»æŽ‰æ€»é‡é‡è¶…è¿‡Wkgçš„ï¼Œä»Žå‰©ä¸‹çš„è£…æ³•ä¸­é€‰æ‹©æ€»é‡é‡æœ€ æŽ¥è¿‘Wkgçš„ã€‚é‡æ¸©ï¼šè¿™é‡Œè¿˜ç¨å¾®ç”¨åˆ°äº†ä¸€ç‚¹æœç´¢å‰ªæžçš„æŠ€å·§ï¼Œå°±æ˜¯å½“å‘çŽ°å·²ç»é€‰æ‹©çš„ç‰©å“çš„é‡é‡è¶…è¿‡Wkgä¹‹åŽï¼Œæˆ‘ä»¬å°±åœæ­¢ç»§ç»­æŽ¢æµ‹å‰©ä¸‹çš„ç‰©å“ã€‚ ç»å…¸åº”ç”¨ä¹‹æ­£åˆ™è¡¨è¾¾å¼ ç¬¬ä¸€å°è±¡ï¼šå‡è®¾æ­£è¡¨è¾¾å¼ä¸­åªåŒ…å«â€œâ€å’Œâ€œ?â€è¿™ä¸¤ç§é€šé…ç¬¦ï¼Œå¹¶ä¸”å¯¹è¿™ ä¸¤ä¸ªé€šé…ç¬¦çš„è¯­ä¹‰ç¨å¾®åšäº›æ”¹å˜ï¼Œå…¶ä¸­ï¼Œâ€œâ€åŒ¹é…ä»»æ„å¤šä¸ªï¼ˆå¤§äºŽç­‰äºŽ0ä¸ªï¼‰ä»»æ„å­—ç¬¦ï¼Œâ€œ?â€åŒ¹é…é›¶ä¸ªæˆ–è€…ä¸€ä¸ªä»»æ„å­—ç¬¦ã€‚é‡æ¸©ï¼šä»£ç ä¸»è¦å†…å®¹å°±æ˜¯å¯¹è¿™ä¸¤ä¸ªé€šé…ç¬¦è¿›è¡Œå›žæº¯ï¼Œæ¯”å¦‚â€œ*â€æœ‰å¤šç§åŒ¹é…æ–¹æ¡ˆï¼Œå¯ä»¥åŒ¹é…ä»»æ„ä¸ªæ–‡æœ¬ä¸²ä¸­çš„å­—ç¬¦ï¼Œæˆ‘ä»¬å°±å…ˆéšæ„çš„é€‰æ‹©ä¸€ ç§åŒ¹é…æ–¹æ¡ˆï¼Œç„¶åŽç»§ç»­è€ƒå¯Ÿå‰©ä¸‹çš„å­—ç¬¦ã€‚å¦‚æžœä¸­é€”å‘çŽ°æ— æ³•ç»§ç»­åŒ¹é…ä¸‹åŽ»äº†ï¼Œæˆ‘ä»¬å°±å›žåˆ°è¿™ä¸ªå²”è·¯å£ï¼Œé‡æ–°é€‰æ‹©ä¸€ç§åŒ¹é…æ–¹æ¡ˆï¼Œç„¶åŽå†ç»§ç»­åŒ¹é…å‰©ä¸‹çš„å­—ç¬¦ã€‚ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šåœ¨å®žçŽ°çš„è¿‡ç¨‹ä¸­ï¼Œå‰ªæžæ“ä½œæ˜¯æé«˜å›žæº¯æ•ˆçŽ‡çš„ä¸€ç§æŠ€å·§ã€‚åˆ©ç”¨å‰ªæžï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ç©·ä¸¾æœç´¢æ‰€æœ‰çš„æƒ…å†µï¼Œä»Žè€Œæé«˜æœç´¢æ•ˆçŽ‡ã€‚é‡æ¸©ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ã€å…«çš‡åŽã€0-1èƒŒåŒ…é—®é¢˜ã€å›¾çš„ç€è‰²ã€æ—…è¡Œå•†é—®é¢˜ã€æ•°ç‹¬ã€å…¨æŽ’åˆ—ã€ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç­‰ç­‰ï¼Œä½ å¯ä»¥è‡ªå·±æœç´¢ç ”ç©¶ä¸€ä¸‹ï¼Œæœ€å¥½è¿˜èƒ½ç”¨ä»£ç å®žçŽ°ä¸€ä¸‹ã€‚ 40åˆè¯†åŠ¨æ€è§„åˆ’ï¼šå¦‚ä½•å·§å¦™è§£å†³â€œåŒåä¸€â€è´­ç‰©æ—¶çš„å‡‘å•é—®é¢˜ï¼Ÿè‡ªæˆ‘æ€»ç»“æ·˜å®çš„â€œåŒåä¸€â€è´­ç‰©èŠ‚æœ‰å„ç§ä¿ƒé”€æ´»åŠ¨ï¼Œæ¯”å¦‚â€œæ»¡200å…ƒå‡50å…ƒâ€ã€‚å‡è®¾ä½ å¥³æœ‹å‹çš„è´­ç‰©è½¦ä¸­æœ‰nä¸ªï¼ˆn&gt;100ï¼‰æƒ³ä¹°çš„å•†å“ï¼Œå¥¹å¸Œæœ›ä»Žé‡Œé¢é€‰å‡ ä¸ªï¼Œåœ¨å‡‘å¤Ÿæ»¡å‡æ¡ä»¶çš„ å‰æä¸‹ï¼Œè®©é€‰å‡ºæ¥çš„å•†å“ä»·æ ¼æ€»å’Œæœ€å¤§ç¨‹åº¦åœ°æŽ¥è¿‘æ»¡å‡æ¡ä»¶ï¼ˆ200å…ƒï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥æžå¤§é™åº¦åœ°â€œè–…ç¾Šæ¯›â€ åŠ¨æ€è§„åˆ’å­¦ä¹ è·¯çº¿ ç¬¬ä¸€å°è±¡ï¼šæ±‚è§£é—®é¢˜çš„è¿‡ç¨‹ä¸å¤ªç¬¦åˆäººç±»å¸¸è§„çš„æ€ç»´æ–¹å¼ã€‚å…¥é—¨ç¡®å®žæœ‰ç‚¹éš¾åº¦ï¼Œä½†æ˜¯éš¾äº†ä¸ä¼šï¼Œä¼šäº†ä¸éš¾ã€‚è¿™ä¸‰èŠ‚åˆ†åˆ«æ˜¯ï¼Œåˆè¯†åŠ¨æ€è§„åˆ’ã€åŠ¨æ€è§„åˆ’ç†è®ºã€åŠ¨æ€è§„åˆ’å®žæˆ˜ã€‚é‡æ¸©ï¼šç¬¬ä¸€èŠ‚ï¼Œæˆ‘ä¼šé€šè¿‡ä¸¤ä¸ªéžå¸¸ç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜æ¨¡åž‹ï¼Œå‘ä½ å±•ç¤ºæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€è§„åˆ’ï¼Œä»¥åŠåŠ¨æ€è§„åˆ’è§£é¢˜æ–¹æ³•æ˜¯å¦‚ä½•æ¼”åŒ–å‡ºæ¥çš„ï¼›ç¬¬äºŒèŠ‚ï¼Œæˆ‘ä¼šæ€»ç»“åŠ¨æ€è§„åˆ’é€‚åˆè§£å†³çš„é—®é¢˜çš„ç‰¹å¾ï¼Œä»¥åŠåŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯ï¼›ç¬¬ä¸‰èŠ‚ï¼Œæˆ‘ä¼šæ•™ä½ åº”ç”¨ç¬¬äºŒèŠ‚è®²çš„åŠ¨æ€è§„åˆ’ç†è®ºçŸ¥è¯†ï¼Œå®žæˆ˜è§£å†³ä¸‰ä¸ªéžå¸¸ç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼ŒåŠ æ·±ä½ å¯¹ç†è®ºçš„ç†è§£ã€‚å¼„æ‡‚äº†è¿™ä¸‰èŠ‚ä¸­çš„ä¾‹å­ï¼Œå¯¹äºŽåŠ¨æ€è§„åˆ’è¿™ ä¸ªçŸ¥è¯†ç‚¹ï¼Œä½ å°±ç®—æ˜¯å…¥é—¨äº†ã€‚ 0-1èƒŒåŒ…é—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šä»Žå›žæº¯æ³•å±•ç¤ºé€’å½’æ ‘ï¼Œé‡å¤çš„è®¡ç®—é€šè¿‡â€œå¤‡å¿˜å½•â€æ¥æ ‡è®°ï¼Œç„¶åŽå¼•å…¥åŠ¨æ€è§„åˆ’ã€‚æˆ‘ä»¬æŠŠæ¯ä¸€å±‚é‡å¤çš„çŠ¶æ€ï¼ˆèŠ‚ç‚¹ï¼‰åˆå¹¶ï¼Œåªè®°å½•ä¸åŒçš„çŠ¶æ€ï¼Œç„¶åŽåŸºäºŽä¸Šä¸€å±‚çš„çŠ¶æ€é›†åˆï¼Œæ¥æŽ¨å¯¼ä¸‹ä¸€å±‚çš„çŠ¶æ€é›†åˆã€‚é‡æ¸©ï¼šæˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„states[n][w+1]ï¼Œæ¥è®°å½•æ¯å±‚å¯ä»¥è¾¾åˆ°çš„ä¸åŒçŠ¶æ€ã€‚ æˆ‘ä»¬æŠŠé—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸€ä¸ªå†³ç­–ã€‚æˆ‘ä»¬è®°å½•æ¯ä¸€ä¸ªé˜¶æ®µå¯è¾¾çš„çŠ¶æ€é›†åˆï¼ˆåŽ»æŽ‰é‡å¤çš„ï¼‰ï¼Œ ç„¶åŽé€šè¿‡å½“å‰é˜¶æ®µçš„çŠ¶æ€é›†åˆï¼Œæ¥æŽ¨å¯¼ä¸‹ä¸€ä¸ªé˜¶æ®µçš„çŠ¶æ€é›†åˆï¼ŒåŠ¨æ€åœ°å¾€å‰æŽ¨è¿›ã€‚è¿™ä¹Ÿæ˜¯åŠ¨æ€è§„åˆ’è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œä½ å¯ä»¥è‡ªå·±ä½“ä¼šä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯è¿˜æŒºå½¢è±¡çš„ï¼Ÿ åŠ¨æ€è§„åˆ’çŠ¶æ€è½¬ç§»çš„è¿‡ç¨‹ï¼Œéƒ½å¯ä»¥åŸºäºŽè¿™ä¸ªä¸€ç»´æ•°ç»„æ¥æ“ä½œ 0-1èƒŒåŒ…é—®é¢˜å‡çº§ç‰ˆ ç¬¬ä¸€å°è±¡ï¼šæˆ‘ä»¬çŽ°åœ¨å¼•å…¥ç‰©å“ä»·å€¼è¿™ä¸€å˜é‡ã€‚å¯¹äºŽä¸€ç»„ä¸åŒé‡é‡ã€ä¸åŒä»·å€¼ã€ä¸å¯åˆ†å‰²çš„ç‰©å“ï¼Œæˆ‘ä»¬é€‰æ‹©å°†æŸäº›ç‰©å“ è£…å…¥èƒŒåŒ…ï¼Œåœ¨æ»¡è¶³èƒŒåŒ…æœ€å¤§é‡é‡é™åˆ¶çš„å‰æä¸‹ï¼ŒèƒŒåŒ…ä¸­å¯è£…å…¥ç‰©å“çš„æ€»ä»·å€¼æœ€å¤§æ˜¯å¤šå°‘å‘¢ï¼Ÿé‡æ¸©ï¼šåŒæ ·æ˜¯å›žæº¯æ³•å±•ç¤ºé€’å½’æ ‘ï¼Œä½†æ˜¯æ²¡æ³•ä½¿ç”¨å¤‡å¿˜å½•äº†ï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å­˜å‚¨æ•°ç»„ä¸æ˜¯booleanç±»åž‹çš„äº†ï¼Œè€Œæ˜¯å½“å‰çŠ¶æ€å¯¹åº”çš„æœ€å¤§æ€»ä»·å€¼ã€‚ è§£ç­”å¼€ç¯‡&amp;å†…å®¹å°ç»“ ç¬¬ä¸€å°è±¡ï¼šå®ƒè·Ÿç¬¬ä¸€ä¸ªä¾‹å­ä¸­è®²çš„0-1èƒŒåŒ…é—®é¢˜å¾ˆåƒï¼Œåªä¸è¿‡æ˜¯æŠŠâ€œé‡é‡â€æ¢æˆäº†â€œä»·æ ¼â€è€Œå·²ã€‚è´­ç‰©è½¦ä¸­æœ‰nä¸ªå•†å“ã€‚æˆ‘ä»¬é’ˆå¯¹æ¯ä¸ªå•†å“éƒ½å†³ç­–æ˜¯å¦è´­ä¹°ã€‚æ¯æ¬¡å†³ç­–ä¹‹ åŽï¼Œå¯¹åº”ä¸åŒçš„çŠ¶æ€é›†åˆã€‚æˆ‘ä»¬è¿˜æ˜¯ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„states[n][x]ï¼Œæ¥è®°å½•æ¯æ¬¡å†³ç­–ä¹‹åŽæ‰€æœ‰å¯è¾¾çš„çŠ¶æ€ã€‚xæ ¹æ®æƒ…å†µæ¥åˆ¤æ–­ã€‚çŠ¶æ€(i, j)åªæœ‰å¯èƒ½ä»Ž(i-1, j)æˆ–è€…(i-1, j-value[i])ä¸¤ä¸ªçŠ¶æ€æŽ¨å¯¼è¿‡æ¥ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±æ£€æŸ¥è¿™ä¸¤ä¸ªçŠ¶æ€æ˜¯å¦æ˜¯å¯è¾¾çš„ï¼Œä¹Ÿå°±æ˜¯states[i-1][j]æˆ–è€…states[i-1][j-value[i]]æ˜¯å¦ æ˜¯trueã€‚é‡æ¸©ï¼šè¿™ä¸¤ä¸ªä¾‹å­éƒ½æ˜¯éžå¸¸ç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œåªè¦ä½ çœŸæ­£æžæ‡‚è¿™ä¸¤ä¸ªé—®é¢˜ï¼ŒåŸºæœ¬ä¸ŠåŠ¨æ€è§„åˆ’å·²ç»å…¥é—¨ä¸€åŠäº†ã€‚æ‰€ä»¥ï¼Œä½ è¦å¤šèŠ±ç‚¹æ—¶é—´ï¼ŒçœŸæ­£å¼„æ‡‚è¿™ä¸¤ä¸ªé—®é¢˜ã€‚æˆ‘ä¸ªäººè§‰å¾—ï¼Œè´ªå¿ƒã€åˆ†æ²»ã€å›žæº¯ã€ åŠ¨æ€è§„åˆ’ï¼Œè¿™å››ä¸ªç®—æ³•æ€æƒ³æœ‰å…³çš„ç†è®ºçŸ¥è¯†ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯â€œåŽéªŒæ€§â€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€æ˜¯å…ˆæƒ³åˆ°å¦‚ä½•ç”¨æŸä¸ªç®—æ³•æ€æƒ³è§£å†³é—®é¢˜ï¼Œç„¶åŽ æ‰ç”¨ç®—æ³•ç†è®ºçŸ¥è¯†ï¼ŒåŽ»éªŒè¯è¿™ä¸ªç®—æ³•æ€æƒ³è§£å†³é—®é¢˜çš„æ­£ç¡®æ€§ã€‚ è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šâ€œæ¨è¾‰ä¸‰è§’â€ä¸çŸ¥é“ä½ å¬è¯´è¿‡å—ï¼Ÿæˆ‘ä»¬çŽ°åœ¨å¯¹å®ƒè¿›è¡Œä¸€äº›æ”¹é€ ã€‚æ¯ä¸ªä½ç½®çš„æ•°å­—å¯ä»¥éšæ„å¡«å†™ï¼Œç»è¿‡æŸä¸ªæ•°å­—åªèƒ½åˆ°è¾¾ä¸‹é¢ä¸€å±‚ç›¸é‚»çš„ä¸¤ä¸ªæ•°å­—ã€‚ å‡è®¾ä½ ç«™åœ¨ç¬¬ä¸€å±‚ï¼Œå¾€ä¸‹ç§»åŠ¨ï¼Œæˆ‘ä»¬æŠŠç§»åŠ¨åˆ°æœ€åº•å±‚æ‰€ç»è¿‡çš„æ‰€æœ‰æ•°å­—ä¹‹å’Œï¼Œå®šä¹‰ä¸ºè·¯å¾„çš„é•¿åº¦ã€‚è¯·ä½ ç¼–ç¨‹æ±‚å‡ºä»Žæœ€é«˜å±‚ç§»åŠ¨åˆ°æœ€åº•å±‚çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚é‡æ¸©ï¼š 41åŠ¨æ€è§„åˆ’ç†è®ºï¼šä¸€ç¯‡æ–‡ç« å¸¦ä½ å½»åº•æžæ‡‚æœ€ä¼˜å­ç»“æž„ã€æ— åŽæ•ˆæ€§å’Œé‡å¤å­é—®é¢˜è‡ªæˆ‘æ€»ç»“ä¸»è¦è®²åŠ¨æ€è§„åˆ’çš„ä¸€äº›ç†è®ºçŸ¥è¯† â€œä¸€ä¸ªæ¨¡åž‹ä¸‰ä¸ªç‰¹å¾â€ç†è®ºè®²è§£ ç¬¬ä¸€å°è±¡ï¼šå¤šé˜¶æ®µå†³ç­–æœ€ä¼˜è§£æ¨¡åž‹ï¼šæ¯ä¸ªå†³ç­–é˜¶æ®µéƒ½å¯¹åº”ç€ä¸€ç»„çŠ¶æ€ã€‚ç„¶åŽæˆ‘ä»¬å¯»æ‰¾ä¸€ç»„å†³ç­–åºåˆ—ï¼Œç»è¿‡è¿™ç»„å†³ç­–åºåˆ—ï¼Œèƒ½å¤Ÿäº§ç”Ÿæœ€ç»ˆæœŸæœ›æ±‚è§£çš„æœ€ä¼˜å€¼ã€‚ä»€ä¹ˆæ˜¯â€œä¸‰ä¸ªç‰¹å¾â€ï¼Ÿå®ƒä»¬åˆ†åˆ«æ˜¯æœ€ä¼˜å­ç»“æž„ã€æ— åŽæ•ˆæ€§å’Œé‡å¤å­é—®é¢˜ã€‚é‡æ¸©ï¼šæœ€ä¼˜å­ç»“æž„æŒ‡çš„æ˜¯ï¼Œé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå¯ä»¥ç†è§£ä¸ºï¼ŒåŽé¢é˜¶æ®µçš„çŠ¶æ€å¯ä»¥é€šè¿‡å‰é¢é˜¶æ®µçš„çŠ¶æ€æŽ¨å¯¼å‡ºæ¥ï¼›æ— åŽæ•ˆæ€§æœ‰ä¸¤å±‚å«ä¹‰ï¼Œç¬¬ä¸€å±‚å«ä¹‰æ˜¯ï¼Œåœ¨æŽ¨å¯¼åŽé¢é˜¶æ®µçš„çŠ¶æ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªå…³å¿ƒå‰é¢é˜¶æ®µçš„çŠ¶æ€å€¼ï¼Œä¸å…³å¿ƒè¿™ä¸ªçŠ¶æ€æ˜¯æ€Žä¹ˆä¸€æ­¥ä¸€æ­¥æŽ¨å¯¼å‡ºæ¥çš„ã€‚ç¬¬äºŒå±‚å«ä¹‰æ˜¯ï¼ŒæŸé˜¶æ®µçŠ¶æ€ä¸€æ—¦ç¡®å®šï¼Œå°±ä¸å—ä¹‹åŽé˜¶æ®µçš„å†³ç­–å½±å“ï¼›é‡å¤å­é—®é¢˜ï¼Œä¸åŒçš„å†³ç­–åºåˆ—ï¼Œåˆ°è¾¾æŸä¸ªç›¸åŒçš„é˜¶æ®µæ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿé‡å¤çš„çŠ¶æ€ã€‚ â€œä¸€ä¸ªæ¨¡åž‹ä¸‰ä¸ªç‰¹å¾â€å®žä¾‹å‰–æž ç¬¬ä¸€å°è±¡ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªnä¹˜ä»¥nçš„çŸ©é˜µw[n][n]ã€‚çŸ©é˜µå­˜å‚¨çš„éƒ½æ˜¯æ­£æ•´æ•°ã€‚æ£‹å­èµ·å§‹ä½ç½®åœ¨å·¦ä¸Šè§’ï¼Œç»ˆæ­¢ä½ç½®åœ¨å³ä¸‹è§’ã€‚æˆ‘ä»¬å°†æ£‹å­ä»Žå·¦ä¸Šè§’ç§»åŠ¨åˆ°å³ä¸‹è§’ã€‚æ¯æ¬¡åªèƒ½å‘å³ æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€ä½ã€‚ä»Žå·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œä¼šæœ‰å¾ˆå¤šä¸åŒçš„è·¯å¾„å¯ä»¥èµ°ã€‚é‡æ¸©ï¼šæˆ‘ä»¬æƒ³è¦è®¡ç®—(i, j)ä½ç½®å¯¹åº”çš„çŠ¶æ€ï¼Œåªéœ€è¦å…³å¿ƒ(i-1, j)ï¼Œ(i, j-1)ä¸¤ä¸ªä½ç½® å¯¹åº”çš„çŠ¶æ€ï¼Œå¹¶ä¸å…³å¿ƒæ£‹å­æ˜¯é€šè¿‡ä»€ä¹ˆæ ·çš„è·¯çº¿åˆ°è¾¾è¿™ä¸¤ä¸ªä½ç½®çš„ã€‚min_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j)) ä¸¤ç§åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯æ€»ç»“ä¹‹çŠ¶æ€è½¬ç§»è¡¨æ³• ç¬¬ä¸€å°è±¡ï¼šé€šè¿‡å›žæº¯æ³•ç”»å‡ºçŠ¶æ€çš„é€’å½’æ ‘ï¼Œä»Žé€’å½’æ ‘ä¸­æ‰¾åˆ°é‡å¤å­é—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œæ¥å¯»æ‰¾è§„å¾‹ã€‚é«˜ç»´çŠ¶æ€è½¬ç§»è¡¨ä¸å¥½ç”»å›¾è¡¨ç¤ºï¼Œæ‰€ä»¥å¤æ‚çš„è¾ƒéš¾æƒ³åˆ°ã€‚é‡æ¸©ï¼šçŠ¶æ€è¡¨ä¸€èˆ¬éƒ½æ˜¯äºŒç»´çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆäºŒç»´æ•°ç»„ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªçŠ¶æ€åŒ…å«ä¸‰ä¸ªå˜é‡ï¼Œè¡Œã€åˆ—ã€æ•°ç»„å€¼ã€‚æˆ‘ä»¬æ ¹æ®å†³ç­–çš„å…ˆåŽè¿‡ç¨‹ï¼Œä»Žå‰å¾€åŽï¼Œæ ¹æ®é€’æŽ¨å…³ç³»ï¼Œåˆ†é˜¶æ®µå¡«å……çŠ¶æ€è¡¨ä¸­çš„æ¯ä¸ªçŠ¶æ€ã€‚æœ€åŽï¼Œæˆ‘ä»¬å°†è¿™ä¸ªé€’æŽ¨å¡«è¡¨çš„è¿‡ç¨‹ï¼Œç¿»è¯‘æˆä»£ç ã€‚ ä¸¤ç§åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯æ€»ç»“ä¹‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ³• ç¬¬ä¸€å°è±¡ï¼šçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ³•æœ‰ç‚¹ç±»ä¼¼é€’å½’çš„è§£é¢˜æ€è·¯ã€‚æˆ‘ä»¬éœ€è¦åˆ†æžï¼ŒæŸä¸ªé—®é¢˜å¦‚ä½•é€šè¿‡å­é—®é¢˜æ¥é€’å½’æ±‚è§£ã€‚å¦‚ï¼šmin_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j))é‡æ¸©ï¼šå†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œé‚£åŠ¨æ€è§„åˆ’é—®é¢˜åŸºæœ¬ä¸Šå°±è§£å†³ä¸€å¤§åŠäº†ï¼Œè€Œç¿»è¯‘æˆä»£ç éžå¸¸ç®€å•ã€‚ä½†æ˜¯å¾ˆå¤šåŠ¨æ€è§„åˆ’é—®é¢˜çš„çŠ¶æ€æœ¬èº«å°±ä¸å¥½å®šä¹‰ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¹Ÿå°±æ›´ä¸å¥½æƒ³åˆ°ã€‚ä½ è¦ç»“åˆå…·ä½“çš„é¢˜ç›®æ¥çœ‹ï¼Œåˆ°åº•é€‰æ‹©ç”¨å“ªç§è§£é¢˜æ€è·¯ã€‚ å››ç§ç®—æ³•æ€æƒ³æ¯”è¾ƒåˆ†æž ç¬¬ä¸€å°è±¡ï¼šè´ªå¿ƒã€å›žæº¯ã€åŠ¨æ€è§„åˆ’å¯ä»¥å½’ä¸ºä¸€ç±»ï¼Œéƒ½å¯ä»¥æŠ½è±¡å¤šé˜¶æ®µå†³ç­–æœ€ä¼˜è§£æ¨¡åž‹ï¼›è€Œåˆ†æ²»å•ç‹¬å¯ä»¥ä½œä¸ºä¸€ç±»ã€‚å°½ç®¡å¤§éƒ¨åˆ†ä¹Ÿæ˜¯æœ€ä¼˜è§£é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå¤§éƒ¨åˆ†éƒ½ä¸èƒ½æŠ½è±¡æˆå¤šé˜¶æ®µå†³ç­–æ¨¡åž‹ã€‚é‡æ¸©ï¼šå›žæº¯ç®—æ³•æ˜¯ä¸ªâ€œä¸‡é‡‘æ²¹â€ã€‚åŸºæœ¬ä¸Šèƒ½ç”¨çš„åŠ¨æ€è§„åˆ’ã€è´ªå¿ƒè§£å†³çš„é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨å›žæº¯ç®—æ³•è§£å†³ã€‚å›žæº¯ç®—æ³•ç›¸å½“äºŽç©·ä¸¾æœç´¢ï¼›å¹¶ä¸æ˜¯æ‰€æœ‰é—®é¢˜ï¼Œéƒ½å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚åˆ†æ²»ç®—æ³•è¦æ±‚åˆ†å‰²æˆçš„å­é—®é¢˜ï¼Œä¸èƒ½æœ‰é‡å¤å­é—®é¢˜ï¼Œè€ŒåŠ¨æ€è§„åˆ’æ­£å¥½ç›¸åï¼ŒåŠ¨æ€è§„åˆ’ä¹‹æ‰€ä»¥é«˜æ•ˆï¼Œå°±æ˜¯å› ä¸ºå›žæº¯ç®—æ³•å®žçŽ°ä¸­å­˜åœ¨å¤§é‡çš„é‡å¤å­é—®é¢˜ï¼›è´ªå¿ƒç®—æ³•å®žé™…ä¸Šæ˜¯åŠ¨æ€è§„åˆ’ç®—æ³•çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚å®ƒè§£å†³é—®é¢˜èµ·æ¥æ›´åŠ é«˜æ•ˆï¼Œä»£ç å®žçŽ°ä¹Ÿæ›´åŠ ç®€æ´ã€‚ä¸è¿‡ï¼Œå®ƒå¯ä»¥è§£å†³çš„é—®é¢˜ä¹Ÿæ›´åŠ æœ‰é™ã€‚å®ƒèƒ½è§£å†³çš„é—®é¢˜éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼Œæœ€ä¼˜å­ç»“æž„ã€æ— åŽæ•ˆæ€§å’Œè´ªå¿ƒé€‰æ‹©æ€§ï¼ˆè¿™é‡Œæˆ‘ä»¬ä¸æ€Žä¹ˆå¼ºè°ƒé‡å¤å­é—®é¢˜ï¼‰ã€‚ å†…å®¹å°ç»“&amp;&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šçŠ¶æ€è½¬ç§»è¡¨æ³•è§£é¢˜æ€è·¯å¤§è‡´å¯ä»¥æ¦‚æ‹¬ä¸ºï¼Œå›žæº¯ç®—æ³•å®žçŽ°-å®šä¹‰çŠ¶æ€-ç”»é€’å½’æ ‘-æ‰¾é‡å¤å­é—®é¢˜-ç”»çŠ¶æ€è½¬ç§»è¡¨-æ ¹æ®é€’æŽ¨å…³ç³»å¡«è¡¨-å°†å¡«è¡¨è¿‡ç¨‹ç¿»è¯‘æˆä»£ç ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ³•çš„å¤§è‡´æ€è·¯å¯ä»¥æ¦‚æ‹¬ä¸ºï¼Œæ‰¾æœ€ä¼˜å­ç»“æž„-å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹-å°†çŠ¶æ€ è½¬ç§»æ–¹ç¨‹ç¿»è¯‘æˆä»£ç ã€‚é‡æ¸©ï¼šç¡¬å¸æ‰¾é›¶é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è´ªå¿ƒç®—æ³•é‚£ä¸€èŠ‚ä¸­è®²è¿‡ä¸€æ¬¡ã€‚æˆ‘ä»¬ä»Šå¤©æ¥çœ‹ä¸€ä¸ªæ–°çš„ç¡¬å¸æ‰¾é›¶é—®é¢˜ã€‚å‡è®¾æˆ‘ä»¬æœ‰å‡ ç§ä¸åŒå¸å€¼çš„ç¡¬å¸v1ï¼Œv2ï¼Œâ€¦â€¦ï¼Œvnï¼ˆå•ä½æ˜¯å…ƒï¼‰ã€‚å¦‚ æžœæˆ‘ä»¬è¦æ”¯ä»˜wå…ƒï¼Œæ±‚æœ€å°‘éœ€è¦å¤šå°‘ä¸ªç¡¬å¸ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰3ç§ä¸åŒçš„ç¡¬å¸ï¼Œ1å…ƒã€3å…ƒã€5å…ƒï¼Œæˆ‘ä»¬è¦æ”¯ä»˜9å…ƒï¼Œæœ€å°‘éœ€è¦3ä¸ªç¡¬å¸ï¼ˆ3ä¸ª3å…ƒçš„ç¡¬å¸ï¼‰ã€‚ 42åŠ¨æ€è§„åˆ’å®žæˆ˜ï¼šå¦‚ä½•å®žçŽ°æœç´¢å¼•æ“Žä¸­çš„æ‹¼å†™çº é”™åŠŸèƒ½ï¼Ÿè‡ªæˆ‘æ€»ç»“å½“ä½ åœ¨æœç´¢æ¡†ä¸­ï¼Œä¸€ä¸å°å¿ƒè¾“é”™å•è¯æ—¶ï¼Œæœç´¢å¼•æ“Žä¼šéžå¸¸æ™ºèƒ½åœ°æ£€æµ‹å‡ºä½ çš„æ‹¼å†™é”™è¯¯ï¼Œå¹¶ä¸”ç”¨å¯¹åº”çš„æ­£ç¡®å•è¯æ¥è¿›è¡Œæœç´¢ã€‚ä½œä¸ºä¸€åè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼Œä½ æ˜¯å¦æƒ³è¿‡ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯æ€Žä¹ˆå®žçŽ°çš„å‘¢ï¼Ÿ å¦‚ä½•é‡åŒ–ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç›¸ä¼¼åº¦ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šæœ‰ä¸€ä¸ªéžå¸¸è‘—åçš„é‡åŒ–æ–¹æ³•ï¼Œé‚£å°±æ˜¯ç¼–è¾‘è·ç¦»ï¼ˆEdit Distanceï¼‰ã€‚ç¼–è¾‘è·ç¦»æŒ‡çš„å°±æ˜¯ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬åŒ–æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œéœ€è¦çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°ï¼ˆæ¯”å¦‚å¢žåŠ ä¸€ä¸ªå­—ç¬¦ã€åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚ç¼–è¾‘è·ç¦»æœ‰å¤šç§ä¸åŒçš„è®¡ç®—æ–¹å¼ï¼Œæ¯”è¾ƒè‘—åçš„æœ‰èŽ±æ–‡æ–¯å¦è·ç¦»ï¼ˆLevenshtein distanceï¼‰å’Œæœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ï¼ˆLongest common substring lengthï¼‰ã€‚é‡æ¸©ï¼šèŽ±æ–‡æ–¯å¦è·ç¦»å…è®¸å¢žåŠ ã€åˆ é™¤ã€ æ›¿æ¢å­—ç¬¦è¿™ä¸‰ä¸ªç¼–è¾‘æ“ä½œï¼Œæœ€é•¿å…¬å…±å­ä¸²é•¿åº¦åªå…è®¸å¢žåŠ ã€åˆ é™¤å­—ç¬¦è¿™ä¸¤ä¸ªç¼–è¾‘æ“ä½œã€‚èŽ±æ–‡æ–¯å¦è·ç¦»çš„å¤§å°ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²å·®å¼‚çš„å¤§å°ï¼›è€Œæœ€é•¿å…¬å…±å­ä¸²çš„å¤§å°ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ä¼¼ç¨‹åº¦çš„å¤§å°ã€‚ å¦‚ä½•ç¼–ç¨‹è®¡ç®—èŽ±æ–‡æ–¯å¦è·ç¦»ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå›žæº¯æ˜¯ä¸€ä¸ªé€’å½’å¤„ç†çš„è¿‡ç¨‹ã€‚å¦‚æžœa[i]ä¸Žb[j]åŒ¹é…ï¼Œæˆ‘ä»¬é€’å½’è€ƒå¯Ÿa[i+1]å’Œb[j+1]ã€‚å¦‚æžœa[i]ä¸Žb[j]ä¸åŒ¹é…ï¼Œé‚£æˆ‘ä»¬æœ‰å¤šç§å¤„ç†æ–¹å¼å¯é€‰ï¼š å¯ä»¥åˆ é™¤a[i]ï¼Œç„¶åŽé€’å½’è€ƒå¯Ÿa[i+1]å’Œb[j]ï¼› å¯ä»¥åˆ é™¤b[j]ï¼Œç„¶åŽé€’å½’è€ƒå¯Ÿa[i]å’Œb[j+1]ï¼› å¯ä»¥åœ¨a[i]å‰é¢æ·»åŠ ä¸€ä¸ªè·Ÿb[j]ç›¸åŒçš„å­—ç¬¦ï¼Œç„¶åŽé€’å½’è€ƒå¯Ÿa[i]å’Œb[j+1]; å¯ä»¥åœ¨b[j]å‰é¢æ·»åŠ ä¸€ä¸ªè·Ÿa[i]ç›¸åŒçš„å­—ç¬¦ï¼Œç„¶åŽé€’å½’è€ƒå¯Ÿa[i+1]å’Œb[j]ï¼› å¯ä»¥å°†a[i]æ›¿æ¢æˆb[j]ï¼Œæˆ–è€…å°†b[j]æ›¿æ¢æˆa[i]ï¼Œç„¶åŽé€’å½’è€ƒå¯Ÿa[i+1]å’Œb[j+1]ã€‚é‡æ¸©ï¼šæ ¹æ®å›žæº¯ç®—æ³•çš„ä»£ç å®žçŽ°ï¼Œæˆ‘ä»¬å¯ä»¥ç”»å‡ºé€’å½’æ ‘ï¼Œçœ‹æ˜¯å¦å­˜åœ¨é‡å¤å­é—®é¢˜ã€‚å¦‚æžœå­˜åœ¨é‡å¤å­é—®é¢˜ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘èƒ½å¦ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼›å¦‚æžœä¸å­˜åœ¨é‡å¤å­é—®é¢˜ï¼Œé‚£å›žæº¯å°±æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ³•ã€‚å¦‚æžœï¼ša[i]!=b[j]ï¼Œé‚£ä¹ˆï¼šmin_edist(i, j)å°±ç­‰äºŽï¼š min(min_edist(i-1,j)+1, min_edist(i,j-1)+1, min_edist(i-1,j-1)+1) å¦‚æžœï¼ša[i]==b[j]ï¼Œé‚£ä¹ˆï¼šmin_edist(i, j)å°±ç­‰äºŽï¼š min(min_edist(i-1,j)+1, min_edist(i,j-1)+1ï¼Œmin_edist(i-1,j-1))æŠ€å·§ï¼šæˆ‘ä»¬å¯ä»¥å®žä¾‹åŒ–å‡ ä¸ªæµ‹è¯•æ•°æ®ï¼Œé€šè¿‡äººè„‘åŽ»åˆ†æžå…·ä½“å®žä¾‹çš„è§£ï¼Œç„¶åŽæ€»ç»“è§„å¾‹ï¼Œå†å°è¯•å¥—ç”¨å­¦è¿‡çš„ç®—æ³•ï¼Œçœ‹æ˜¯å¦èƒ½å¤Ÿè§£å†³ï¼›è¿˜æœ‰ä¸€ä¸ªéžå¸¸æœ‰æ•ˆã€ä½†ä¹Ÿç®—ä¸ä¸ŠæŠ€å·§çš„ä¸œè¥¿ï¼Œæˆ‘ä¹Ÿåå¤å¼ºè°ƒè¿‡ï¼Œé‚£å°±æ˜¯å¤šç»ƒã€‚ å¦‚ä½•ç¼–ç¨‹è®¡ç®—æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå¦‚æžœæˆ‘ä»¬è¦æ±‚a[0â€¦i]å’Œb[0â€¦j]çš„æœ€é•¿å…¬å…±é•¿åº¦max_lcs(i, j)ï¼Œæˆ‘ä»¬åªæœ‰å¯èƒ½é€šè¿‡ä¸‹é¢ä¸‰ä¸ªçŠ¶æ€è½¬ç§»è¿‡æ¥ï¼š (i-1, j-1, max_lcs)ï¼Œå…¶ä¸­max_lcsè¡¨ç¤ºa[0â€¦i-1]å’Œb[0â€¦j-1]çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ï¼› (i-1, j, max_lcs)ï¼Œå…¶ä¸­max_lcsè¡¨ç¤ºa[0â€¦i-1]å’Œb[0â€¦j]çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ï¼› (i, j-1, max_lcs)ï¼Œå…¶ä¸­max_lcsè¡¨ç¤ºa[0â€¦i]å’Œb[0â€¦j-1]çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ã€‚é‡æ¸©ï¼šç”¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†™å‡ºæ¥ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š å¦‚æžœï¼ša[i]==b[j]ï¼Œé‚£ä¹ˆï¼šmax_lcs(i, j)å°±ç­‰äºŽï¼š max(max_lcs(i-1,j-1)+1, max_lcs(i-1, j), max_lcs(i, j-1))ï¼› å¦‚æžœï¼ša[i]!=b[j]ï¼Œé‚£ä¹ˆï¼šmax_lcs(i, j) å°±ç­‰äºŽï¼š max(max_lcs(i-1,j-1), max_lcs(i-1, j), max_lcs(i, j-1))ï¼› è§£ç­”å¼€ç¯‡ ç¬¬ä¸€å°è±¡ï¼šé’ˆå¯¹çº é”™æ•ˆæžœä¸å¥½çš„é—®é¢˜ã€‚æˆ‘ä»¬å¹¶ä¸ä»…ä»…å–å‡ºç¼–è¾‘è·ç¦»æœ€å°çš„é‚£ä¸ªå•è¯ï¼Œè€Œæ˜¯å–å‡ºç¼–è¾‘è·ç¦»æœ€å°çš„TOP 10ï¼Œç„¶åŽæ ¹æ®å…¶ä»–å‚æ•°ï¼Œå†³ç­–é€‰æ‹©å“ªä¸ªå•è¯ä½œä¸ºæ‹¼å†™çº é”™å•è¯ã€‚æ¯”å¦‚ä½¿ç”¨æœç´¢çƒ­é—¨ç¨‹åº¦æ¥å†³å®šå“ªä¸ªå•è¯ä½œä¸ºæ‹¼å†™çº é”™å•è¯ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ç”¨å¤šç§ç¼–è¾‘è·ç¦»è®¡ç®—æ–¹æ³•ï¼Œæ¯”å¦‚ä»Šå¤©è®²åˆ°çš„ä¸¤ç§ï¼Œç„¶åŽåˆ†åˆ«ç¼–è¾‘è·ç¦»æœ€å°çš„TOP 10ï¼Œç„¶åŽæ±‚äº¤é›†ï¼Œç”¨äº¤é›†çš„ç»“æžœï¼Œå†ç»§ç»­ä¼˜åŒ–å¤„ç†ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç»Ÿè®¡ç”¨æˆ·çš„æœç´¢æ—¥å¿—ï¼Œå¾—åˆ°æœ€å¸¸è¢«æ‹¼é”™çš„å•è¯åˆ—è¡¨ï¼Œä»¥åŠå¯¹åº”çš„æ‹¼å†™æ­£ç¡®çš„å•è¯ã€‚æœç´¢å¼•æ“Žåœ¨æ‹¼å†™çº é”™çš„æ—¶å€™ï¼Œé¦–å…ˆåœ¨è¿™ä¸ªæœ€é•¿è¢«æ‹¼é”™å•è¯åˆ—è¡¨ä¸­æŸ¥æ‰¾ã€‚å¦‚æžœä¸€æ—¦æ‰¾åˆ°ï¼Œç›´æŽ¥è¿”å›žå¯¹åº”çš„æ­£ç¡®çš„å•è¯ã€‚ è¿™æ ·çº é”™çš„æ•ˆæžœéžå¸¸å¥½ã€‚ æˆ‘ä»¬è¿˜æœ‰æ›´åŠ é«˜çº§ä¸€ç‚¹çš„åšæ³•ï¼Œå¼•å…¥ä¸ªæ€§åŒ–å› ç´ ã€‚é’ˆå¯¹æ¯ä¸ªç”¨æˆ·ï¼Œç»´æŠ¤è¿™ä¸ªç”¨æˆ·ç‰¹æœ‰çš„æœç´¢å–œå¥½ï¼Œä¹Ÿå°±æ˜¯å¸¸ç”¨çš„æœç´¢å…³é”®è¯ã€‚å½“ç”¨æˆ·è¾“å…¥é”™è¯¯çš„å•è¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨è¿™ä¸ªç”¨æˆ·å¸¸ç”¨çš„æœç´¢å…³é”®è¯ä¸­ï¼Œè®¡ç®—ç¼–è¾‘è·ç¦»ï¼ŒæŸ¥æ‰¾ç¼–è¾‘è·ç¦»æœ€å°çš„å•è¯ã€‚é‡æ¸©ï¼šé’ˆå¯¹çº é”™æ€§èƒ½æ–¹é¢ï¼Œè®²ä¸¤ç§åˆ†æ²»çš„ä¼˜åŒ–æ€è·¯ã€‚å¦‚æžœçº é”™åŠŸèƒ½çš„TPSä¸é«˜ï¼Œæˆ‘ä»¬å¯ä»¥éƒ¨ç½²å¤šå°æœºå™¨ï¼Œæ¯å°æœºå™¨è¿è¡Œä¸€ä¸ªç‹¬ç«‹çš„çº é”™åŠŸèƒ½ã€‚å½“æœ‰ä¸€ä¸ªçº é”™è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡è´Ÿè½½å‡è¡¡ï¼Œåˆ†é…åˆ°å…¶ä¸­ä¸€å°æœºå™¨ï¼Œæ¥è®¡ç®—ç¼–è¾‘è·ç¦»ï¼Œå¾—åˆ°çº é”™å•è¯ã€‚ å¦‚æžœçº é”™ç³»ç»Ÿçš„å“åº”æ—¶é—´å¤ªé•¿ï¼Œä¹Ÿå°±æ˜¯ï¼Œæ¯ä¸ªçº é”™è¯·æ±‚å¤„ç†æ—¶é—´è¿‡é•¿ï¼Œæˆ‘ä»¬å¯ä»¥å°†çº é”™çš„è¯åº“ï¼Œåˆ†å‰²åˆ°å¾ˆå¤šå°æœºå™¨ã€‚å½“æœ‰ä¸€ä¸ªçº é”™è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å°†è¿™ä¸ªæ‹¼å†™é”™è¯¯çš„å•è¯ï¼ŒåŒæ—¶å‘é€åˆ°è¿™å¤šå°æœºå™¨ï¼Œè®©å¤šå°æœºå™¨å¹¶ è¡Œå¤„ç†ï¼Œåˆ†åˆ«å¾—åˆ°ç¼–è¾‘è·ç¦»æœ€å°çš„å•è¯ï¼Œç„¶åŽå†æ¯”å¯¹åˆå¹¶ï¼Œæœ€ç»ˆå†³å®šå‡ºä¸€ä¸ªæœ€ä¼˜çš„çº é”™å•è¯ã€‚ å†…å®¹å°ç»“&amp;&amp;è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼šè¿™ä¸‰èŠ‚ä¸­ï¼ŒåŠ ä¸Šè¯¾åŽæ€è€ƒé¢˜ï¼Œæ€»å…±æœ‰8ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚è¿™8ä¸ªé—®é¢˜éƒ½éžå¸¸ç»å…¸ï¼Œæ˜¯ç²¾å¿ƒç­›é€‰å‡ºæ¥çš„ã€‚åªè¦å¼„æ‡‚äº†è¿™å‡ ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œä½ åº”è¯¥éƒ½å¯ä»¥åº”ä»˜ã€‚å¯¹äºŽåŠ¨æ€è§„åˆ’è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œä½ å°±ç®—æ˜¯å…¥é—¨äº†ã€‚é‡æ¸©ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°å­—åºåˆ—åŒ…å«nä¸ªä¸åŒçš„æ•°å­—ï¼Œå¦‚ä½•æ±‚å‡ºè¿™ä¸ªåºåˆ—ä¸­çš„æœ€é•¿é€’å¢žå­åºåˆ—é•¿åº¦ï¼Ÿæ¯”å¦‚2, 9, 3, 6, 5, 1, 7è¿™æ ·ä¸€ç»„æ•°å­—åºåˆ—ï¼Œå®ƒçš„æœ€é•¿é€’å¢žå­åºåˆ—å°±æ˜¯2, 3, 5, 7ï¼Œæ‰€ä»¥æœ€é•¿é€’å¢žå­åºåˆ—çš„é•¿åº¦æ˜¯4ã€‚ é¢å¤–çŸ¥è¯† TPSï¼šTransactions Per Secondï¼ˆæ¯ç§’ä¼ è¾“çš„äº‹ç‰©å¤„ç†ä¸ªæ•°ï¼‰ï¼Œå³æœåŠ¡å™¨æ¯ç§’å¤„ç†çš„äº‹åŠ¡æ•°ã€‚TPSåŒ…æ‹¬ä¸€æ¡æ¶ˆæ¯å…¥å’Œä¸€æ¡æ¶ˆæ¯å‡ºï¼ŒåŠ ä¸Šä¸€æ¬¡ç”¨æˆ·æ•°æ®åº“è®¿é—®ã€‚ï¼ˆä¸šåŠ¡TPS = CAPS Ã— æ¯ä¸ªå‘¼å«å¹³å‡TPSï¼‰43æ‹“æ‰‘æŽ’åºï¼šå¦‚ä½•ç¡®å®šä»£ç æºæ–‡ä»¶çš„ç¼–è¯‘ä¾èµ–å…³ç³»ï¼Ÿè‡ªæˆ‘æ€»ç»“ é—®é¢˜é˜è¿° ç¬¬ä¸€å°è±¡ï¼šç¼–è¯‘å™¨é€šè¿‡åˆ†æžæºæ–‡ä»¶æˆ–è€…ç¨‹åºå‘˜äº‹å…ˆå†™å¥½çš„ç¼–è¯‘é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚Makefileæ–‡ä»¶ï¼‰ï¼Œæ¥èŽ·å–è¿™ç§å±€éƒ¨çš„ä¾èµ–å…³ç³»ã€‚é‚£ç¼–è¯‘å™¨åˆè¯¥å¦‚ä½•é€šè¿‡æºæ–‡ä»¶ä¸¤ä¸¤ä¹‹é—´çš„å±€éƒ¨ä¾ èµ–å…³ç³»ï¼Œç¡®å®šä¸€ä¸ªå…¨å±€çš„ç¼–è¯‘é¡ºåºå‘¢ï¼Ÿé‡æ¸©ï¼š ç®—æ³•è§£æž ç¬¬ä¸€å°è±¡ï¼šæ‹“æ‰‘æŽ’åºæœ¬èº«å°±æ˜¯åŸºäºŽæœ‰å‘æ— çŽ¯å›¾çš„ä¸€ä¸ªç®—æ³•ã€‚ Kahnç®—æ³•ï¼šæˆ‘ä»¬å…ˆä»Žå›¾ä¸­ï¼Œæ‰¾å‡ºä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹ï¼Œå°†å…¶è¾“å‡ºåˆ°æ‹“æ‰‘æŽ’åºçš„ç»“æžœåºåˆ—ä¸­ï¼ˆå¯¹åº”ä»£ç ä¸­å°±æ˜¯æŠŠå®ƒæ‰“å°å‡ºæ¥ï¼‰ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªé¡¶ç‚¹ä»Žå›¾ä¸­åˆ é™¤ï¼ˆä¹Ÿå°±æ˜¯æŠŠè¿™ä¸ªé¡¶ç‚¹ å¯è¾¾çš„é¡¶ç‚¹çš„å…¥åº¦éƒ½å‡1ï¼‰ã€‚æˆ‘ä»¬å¾ªçŽ¯æ‰§è¡Œä¸Šé¢çš„è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¶ç‚¹éƒ½è¢«è¾“å‡ºã€‚æœ€åŽè¾“å‡ºçš„åºåˆ—ï¼Œå°±æ˜¯æ»¡è¶³å±€éƒ¨ä¾èµ–å…³ç³»çš„æ‹“æ‰‘æŽ’åºã€‚DFSç®—æ³•ï¼šé‡æ¸©ï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯é€šè¿‡é‚»æŽ¥è¡¨æž„é€ é€†é‚»æŽ¥è¡¨ã€‚é‚»æŽ¥è¡¨ä¸­ï¼Œè¾¹s-&gt;tè¡¨ç¤ºså…ˆäºŽtæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯tè¦ä¾èµ–sã€‚åœ¨é€†é‚»æŽ¥è¡¨ä¸­ï¼Œè¾¹s-&gt;tè¡¨ç¤ºsä¾èµ–äºŽtï¼ŒsåŽäºŽtæ‰§è¡Œã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè½¬åŒ–å‘¢ï¼Ÿ è¿™ä¸ªè·Ÿæˆ‘ä»¬è¿™ä¸ªç®—æ³•çš„å®žçŽ°æ€æƒ³æœ‰å…³ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯è¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒï¼Œä¹Ÿå°±æ˜¯é€’å½’å¤„ç†æ¯ä¸ªé¡¶ç‚¹ã€‚å¯¹äºŽé¡¶ç‚¹vertexæ¥è¯´ï¼Œæˆ‘ä»¬å…ˆè¾“å‡ºå®ƒå¯è¾¾çš„æ‰€æœ‰é¡¶ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆæŠŠå®ƒä¾èµ–çš„æ‰€æœ‰çš„é¡¶ç‚¹è¾“å‡ºäº†ï¼Œç„¶åŽå†è¾“å‡ºè‡ªå·±ã€‚å¤æ‚åº¦éƒ½æ˜¯O(V+E)ï¼ˆVè¡¨ç¤ºé¡¶ç‚¹ä¸ªæ•°ï¼ŒEè¡¨ç¤ºè¾¹çš„ä¸ª æ•°ï¼‰ æ€»ç»“å¼•ç”³ ç¬¬ä¸€å°è±¡ï¼šå‡¡æ˜¯éœ€è¦é€šè¿‡å±€éƒ¨é¡ºåºæ¥æŽ¨å¯¼å…¨å±€é¡ºåºçš„ï¼Œä¸€èˆ¬éƒ½èƒ½ç”¨æ‹“æ‰‘æŽ’åºæ¥è§£å†³ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ‹“æ‰‘æŽ’åºè¿˜èƒ½æ£€æµ‹å›¾ä¸­çŽ¯çš„å­˜åœ¨ã€‚å¯¹äºŽKahnç®—æ³•æ¥è¯´ï¼Œå¦‚æžœæœ€åŽè¾“å‡ºå‡ºæ¥çš„é¡¶ç‚¹ä¸ªæ•°ï¼Œå°‘äºŽå›¾ä¸­é¡¶ç‚¹ä¸ªæ•°ï¼Œå›¾ä¸­è¿˜æœ‰å…¥åº¦ä¸æ˜¯0çš„é¡¶ç‚¹ï¼Œé‚£å°±è¯´æ˜Žï¼Œå›¾ä¸­å­˜åœ¨çŽ¯ã€‚é‡æ¸©ï¼šåªéœ€è¦è®°å½•å·²ç»è®¿é—®è¿‡çš„ç”¨ æˆ·IDï¼Œå½“ç”¨æˆ·IDç¬¬äºŒæ¬¡è¢«è®¿é—®çš„æ—¶å€™ï¼Œå°±è¯´æ˜Žå­˜åœ¨çŽ¯ï¼Œä¹Ÿå°±è¯´æ˜Žå­˜åœ¨è„æ•°æ®ã€‚ è¯¾åŽæ€è€ƒ ç¬¬ä¸€å°è±¡ï¼š1. åœ¨ä»Šå¤©çš„è®²è§£ä¸­ï¼Œæˆ‘ä»¬ç”¨å›¾è¡¨ç¤ºä¾èµ–å…³ç³»çš„æ—¶å€™ï¼Œå¦‚æžœaå…ˆäºŽbæ‰§è¡Œï¼Œæˆ‘ä»¬å°±ç”»ä¸€æ¡ä»Žaåˆ°bçš„æœ‰å‘è¾¹ï¼›åè¿‡æ¥ï¼Œå¦‚æžœaå…ˆäºŽbï¼Œæˆ‘ä»¬ç”»ä¸€æ¡ä»Žbåˆ°açš„æœ‰å‘è¾¹ï¼Œè¡¨ ç¤ºbä¾èµ–aï¼Œé‚£ä»Šå¤©è®²çš„Kahnç®—æ³•å’ŒDFSç®—æ³•è¿˜èƒ½å¦æ­£ç¡®å·¥ä½œå‘¢ï¼Ÿå¦‚æžœä¸èƒ½ï¼Œåº”è¯¥å¦‚ä½•æ”¹é€ ä¸€ä¸‹å‘¢ï¼Ÿ 2. æˆ‘ä»¬ä»Šå¤©è®²äº†ä¸¤ç§æ‹“æ‰‘æŽ’åºç®—æ³•çš„å®žçŽ°æ€è·¯ï¼ŒKahnç®—æ³•å’ŒDFSæ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œå¦‚æžœæ¢åšBFSå¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œè¿˜å¯ä»¥å®žçŽ°å—ï¼Ÿé‡æ¸©ï¼š1. aå…ˆäºŽbæ‰§è¡Œï¼Œä¹Ÿå°±è¯´bä¾èµ–äºŽaï¼ŒbæŒ‡å‘aï¼Œè¿™æ ·æž„å»ºæœ‰å‘æ— çŽ¯å›¾æ—¶ï¼Œè¦æ‰¾åˆ°å‡ºåº¦ä¸º0çš„é¡¶ç‚¹ï¼Œç„¶åŽåˆ é™¤2. BFSä¹Ÿèƒ½å®žçŽ°ï¼Œå› ä¸ºéåŽ†åªæ˜¯å®žçŽ°æ‹“æ‰‘æŽ’åºçš„ä¸€ä¸ªâ€œè¾…åŠ©æ‰‹æ®µâ€ï¼Œæœ¬è´¨ä¸Šæ˜¯å¸®åŠ©æ‰¾åˆ°ä¼˜å…ˆæ‰§è¡Œçš„é¡¶ç‚¹1.kahnç®—æ³•æ‰¾å‡ºåº¦ä¸º0çš„èŠ‚ç‚¹åˆ é™¤ã€‚dfsç®—æ³•ç›´æŽ¥ç”¨æ­£é‚»æŽ¥è¡¨å³å¯ã€‚2. BFSä¹Ÿå¯ä»¥ã€‚å…¶å®žä¸ŽDFSä¸€æ ·ï¼ŒBFSä¹Ÿæ˜¯ä»ŽæŸä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¸Žå…¶ç›¸è¿žé€šçš„èŠ‚ç‚¹ã€‚åŒºåˆ«åœ¨äºŽBFSæ˜¯ä¸€å±‚ä¸€å±‚æ‰¾ï¼ˆé€’å½’å‡½æ•°åœ¨forå¾ªçŽ¯å¤–ï¼‰ï¼ŒDFSæ˜¯å…ˆä¸€ æ†å­æ’åˆ°åº•ï¼Œå†å›žæ¥æ’ç¬¬äºŒæ¡è·¯ã€ç¬¬ä¸‰æ¡è·¯ç­‰ç­‰ï¼ˆé€’å½’å‡½æ•°åœ¨forå¾ªçŽ¯å†…ï¼‰ã€‚]]></content>
      <categories>
        <category>algo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[JVM è®°å½•]]></title>
    <url>%2F2019%2F12%2Fyuque%2Flhnbsd%2F</url>
    <content type="text"><![CDATA[JVMçš„çŸ¥è¯†è®°å½• 01 | Javaä»£ç æ˜¯æ€Žä¹ˆè¿è¡Œçš„ï¼Ÿè‡ªæˆ‘æ€»ç»“ å‰è¨€ ç¬¬ä¸€å°è±¡ï¼šJREï¼Œä½¿Javaä»£ç å¯ä»¥åŒå‡»æ‰§è¡Œjaræ–‡ä»¶è¿è¡Œï¼Œå‘½ä»¤è¡Œè¿è¡Œï¼Œç½‘é¡µä¸­è¿è¡Œç­‰ã€‚JDKåŒ…å«JREã€å¼€å‘ã€è¯Šæ–­å·¥å…·é‡æ¸©ï¼šè¿è¡Œ C++ ä»£ç åˆ™æ— éœ€é¢å¤–çš„è¿è¡Œæ—¶çŽ¯å¢ƒï¼Œç›´æŽ¥ç¼–è¯‘æˆæœºå™¨ç ã€‚ ä¸ºä»€ä¹ˆè¦åœ¨Javaè™šæ‹Ÿæœºä¸­è¿è¡Œï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šé€šè¿‡ç¼–è¯‘å™¨å°† Java ç¨‹åºè½¬æ¢æˆè¯¥è™šæ‹Ÿæœºæ‰€èƒ½è¯†åˆ«çš„æŒ‡ä»¤åºåˆ—ï¼Œä¹Ÿç§° Java å­—èŠ‚ç ï¼›Java å­—èŠ‚ç æŒ‡ä»¤çš„æ“ä½œç ï¼ˆopcodeï¼‰è¢«å›ºå®šä¸ºä¸€ä¸ªå­—èŠ‚ã€‚é‡æ¸©ï¼šJVM å¸¦æ¥äº†ä¸€ä¸ªæ‰˜ç®¡çŽ¯å¢ƒï¼ˆManaged Runtimeï¼‰ã€è‡ªåŠ¨å†…å­˜ç®¡ç†ä¸Žåžƒåœ¾å›žæ”¶ã€åžƒåœ¾å›žæ”¶ç­‰è°ƒä¼˜ï¼Œæä¾›äº†æ•°ç»„è¶Šç•Œã€åŠ¨æ€ç±»åž‹ã€å®‰å…¨æƒé™ç­‰åŠ¨æ€æ£€æµ‹ï¼Œä½¿æˆ‘ä»¬å…äºŽäº›æ— å…³ä¸šåŠ¡é€»è¾‘çš„ä»£ç ã€‚ Javaè™šæ‹Ÿæœºæ˜¯å¦‚ä½•è¿è¡Œå­—èŠ‚ç çš„ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šä»Žè™šæ‹Ÿæœºè§†è§’æ¥çœ‹ï¼Œæ‰§è¡Œ Java ä»£ç é¦–å…ˆéœ€è¦å°†å®ƒç¼–è¯‘è€Œæˆçš„ class æ–‡ä»¶åŠ è½½åˆ° Java è™šæ‹Ÿæœºä¸­ã€‚åŠ è½½åŽçš„ Java ç±»ä¼šè¢«å­˜æ”¾äºŽæ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ä¸­ã€‚å®žé™…è¿è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºä¼šæ‰§è¡Œæ–¹æ³•åŒºå†…çš„ä»£ç ã€‚Java è™šæ‹Ÿæœºä¼šå°†æ ˆç»†åˆ†ä¸ºé¢å‘ Java æ–¹æ³•çš„ Java æ–¹æ³•æ ˆï¼Œé¢å‘æœ¬åœ°æ–¹æ³•ï¼ˆç”¨ C++ å†™çš„ native æ–¹æ³•ï¼‰çš„æœ¬åœ°æ–¹æ³•æ ˆï¼Œä»¥åŠå­˜æ”¾å„ä¸ªçº¿ç¨‹æ‰§è¡Œä½ç½®çš„ PC å¯„å­˜å™¨ã€‚åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯å½“è°ƒç”¨è¿›å…¥ä¸€ä¸ª Java æ–¹æ³•ï¼ŒJava è™šæ‹Ÿæœºä¼šåœ¨å½“å‰çº¿ç¨‹çš„ Java æ–¹æ³•æ ˆä¸­ç”Ÿæˆä¸€ä¸ªæ ˆå¸§ï¼Œç”¨ä»¥å­˜æ”¾å±€éƒ¨å˜é‡ä»¥åŠå­—èŠ‚ç çš„æ“ä½œæ•°ã€‚è¿™ä¸ªæ ˆå¸§çš„å¤§å°æ˜¯æå‰è®¡ç®—å¥½çš„ï¼Œè€Œä¸” Java è™šæ‹Ÿæœºä¸è¦æ±‚æ ˆå¸§åœ¨å†…å­˜ç©ºé—´é‡Œè¿žç»­åˆ†å¸ƒã€‚å½“é€€å‡ºå½“å‰æ‰§è¡Œçš„æ–¹æ³•æ—¶ï¼Œä¸ç®¡æ˜¯æ­£å¸¸è¿”å›žè¿˜æ˜¯å¼‚å¸¸è¿”å›žï¼ŒJava è™šæ‹Ÿæœºå‡ä¼šå¼¹å‡ºå½“å‰çº¿ç¨‹çš„å½“å‰æ ˆå¸§ï¼Œå¹¶å°†ä¹‹èˆå¼ƒã€‚ä»Žç¡¬ä»¶è§†è§’æ¥çœ‹ï¼ŒJava å­—èŠ‚ç æ— æ³•ç›´æŽ¥æ‰§è¡Œã€‚å› æ­¤ï¼ŒJava è™šæ‹Ÿæœºéœ€è¦å°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨ç ã€‚ç¬¬ä¸€ç§æ˜¯è§£é‡Šæ‰§è¡Œï¼Œå³é€æ¡å°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨ç å¹¶æ‰§è¡Œï¼›ç¬¬äºŒç§æ˜¯å³æ—¶ç¼–è¯‘ï¼ˆJust-In-Time compilationï¼ŒJITï¼‰ï¼Œå³å°†ä¸€ä¸ªæ–¹æ³•ä¸­åŒ…å«çš„æ‰€æœ‰å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ç åŽå†æ‰§è¡Œã€‚é‡æ¸©ï¼šHotSpot é»˜è®¤é‡‡ç”¨æ··åˆæ¨¡å¼ï¼Œç»¼åˆäº†è§£é‡Šæ‰§è¡Œå’Œå³æ—¶ç¼–è¯‘ä¸¤è€…çš„ä¼˜ç‚¹ã€‚å®ƒä¼šå…ˆè§£é‡Šæ‰§è¡Œå­—èŠ‚ç ï¼Œè€ŒåŽå°†å…¶ä¸­åå¤æ‰§è¡Œçš„çƒ­ç‚¹ä»£ç ï¼Œä»¥æ–¹æ³•ä¸ºå•ä½è¿›è¡Œå³æ—¶ç¼–è¯‘ã€‚å‰è€…çš„ä¼˜åŠ¿åœ¨äºŽæ— éœ€ç­‰å¾…ç¼–è¯‘ï¼Œè€ŒåŽè€…çš„ä¼˜åŠ¿åœ¨äºŽå®žé™…è¿è¡Œé€Ÿåº¦æ›´å¿«ã€‚ Javaçš„è¿è¡Œæ•ˆçŽ‡ç©¶ç«Ÿæ˜¯æ€Žä¹ˆæ ·çš„ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå¯¹äºŽå æ®å¤§éƒ¨åˆ†çš„ä¸å¸¸ç”¨çš„ä»£ç ï¼Œæˆ‘ä»¬æ— éœ€è€—è´¹æ—¶é—´å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œè€Œæ˜¯é‡‡å–è§£é‡Šæ‰§è¡Œçš„æ–¹å¼è¿è¡Œï¼›å¦ä¸€æ–¹é¢ï¼Œå¯¹äºŽä»…å æ®å°éƒ¨åˆ†çš„çƒ­ç‚¹ä»£ç ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œä»¥è¾¾åˆ°ç†æƒ³çš„è¿è¡Œé€Ÿåº¦ã€‚åœ¨è®¡ç®—èµ„æºå……è¶³çš„æƒ…å†µä¸‹ï¼Œå­—èŠ‚ç çš„è§£é‡Šæ‰§è¡Œå’Œå³æ—¶ç¼–è¯‘å¯åŒæ—¶è¿›è¡Œã€‚ç¼–è¯‘å®ŒæˆåŽçš„æœºå™¨ç ä¼šåœ¨ä¸‹æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶å¯ç”¨ï¼Œä»¥æ›¿æ¢åŽŸæœ¬çš„è§£é‡Šæ‰§è¡Œã€‚é‡æ¸©ï¼šå¤šä¸ªå³æ—¶ç¼–è¯‘å™¨ï¼šC1ã€C2 å’Œ Graalã€‚C1 åˆå«åš Client ç¼–è¯‘å™¨ï¼Œé¢å‘çš„æ˜¯å¯¹å¯åŠ¨æ€§èƒ½æœ‰è¦æ±‚çš„å®¢æˆ·ç«¯ GUI ç¨‹åºï¼Œé‡‡ç”¨çš„ä¼˜åŒ–æ‰‹æ®µç›¸å¯¹ç®€å•ï¼Œå› æ­¤ç¼–è¯‘æ—¶é—´è¾ƒçŸ­ã€‚C2 åˆå«åš Server ç¼–è¯‘å™¨ï¼Œé¢å‘çš„æ˜¯å¯¹å³°å€¼æ€§èƒ½æœ‰è¦æ±‚çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œé‡‡ç”¨çš„ä¼˜åŒ–æ‰‹æ®µç›¸å¯¹å¤æ‚ï¼Œå› æ­¤ç¼–è¯‘æ—¶é—´è¾ƒé•¿ï¼Œä½†åŒæ—¶ç”Ÿæˆä»£ç çš„æ‰§è¡Œæ•ˆçŽ‡è¾ƒé«˜ã€‚ä»Ž Java 7 å¼€å§‹ï¼ŒHotSpot é»˜è®¤é‡‡ç”¨åˆ†å±‚ç¼–è¯‘çš„æ–¹å¼ï¼šçƒ­ç‚¹æ–¹æ³•é¦–å…ˆä¼šè¢« C1 ç¼–è¯‘ï¼Œè€ŒåŽçƒ­ç‚¹æ–¹æ³•ä¸­çš„çƒ­ç‚¹ä¼šè¿›ä¸€æ­¥è¢« C2 ç¼–è¯‘ã€‚ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šå¯ç§»æ¤æ€§ã€ä»£ç æ‰˜ç®¡çŽ¯å¢ƒã€è¿è¡Œæ—¶å†…å­˜åŒºåŸŸåˆ’åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºæ–¹æ³•åŒºã€å †ã€PC å¯„å­˜å™¨ã€Java æ–¹æ³•æ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆã€‚ä¸ºäº†æé«˜è¿è¡Œæ•ˆçŽ‡ï¼Œæ ‡å‡† JDK ä¸­çš„ HotSpot è™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯ä¸€ç§æ··åˆæ‰§è¡Œçš„ç­–ç•¥ã€‚é‡æ¸©ï¼šäº†è§£ä½¿ç”¨äº†asmtools.jarçš„ä½¿ç”¨ï¼ŒJava è¯­è¨€å’Œ Java è™šæ‹Ÿæœºçœ‹å¾… boolean ç±»åž‹çš„æ–¹å¼ä¸åŒã€‚JVMå±‚æ¬¡ï¼Œ(flag) åˆ¤æ–­ä¸ä¸º 0ï¼Œåˆ™ä¸ºtrueï¼Œæ‰€ä»¥è¾“å‡ºï¼›(flag == true) åˆ¤æ–­ä¸ä¸º1ï¼Œä¸è¾“å‡ºã€‚ é¢å¤–çŸ¥è¯† Graal Graal æ˜¯ Java 10 æ­£å¼å¼•å…¥çš„å®žéªŒæ€§å³æ—¶ç¼–è¯‘å™¨ 02 | Javaçš„åŸºæœ¬ç±»åž‹]]></content>
      <categories>
        <category>JVM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MySQL è®°å½•]]></title>
    <url>%2F2019%2F12%2Fyuque%2Fthihkz%2F</url>
    <content type="text"><![CDATA[mysql é˜…è¯»è®°å½• 01 åŸºç¡€æž¶æž„ï¼šä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„è‡ªæˆ‘æ€»ç»“ æ•´ä½“æ¦‚è¿° ç¬¬ä¸€å°è±¡ï¼šå®¢æˆ·ç«¯ã€è¿žæŽ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æžå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ã€å­˜å‚¨å¼•æ“Žã€‚ä¸åŒçš„å­˜å‚¨å¼•æ“Žå…±ç”¨ä¸€ä¸ªserverå±‚ï¼Œä»Žè¿žæŽ¥å™¨åˆ°æ‰§è¡Œå™¨çš„éƒ¨åˆ†ã€‚é‡æ¸©ï¼šå­˜å‚¨å¼•æ“Žè´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œæå–ï¼Œæž¶æž„æ¨¡å¼æ˜¯æ’ä»¶å¼çš„ï¼Œæ”¯æŒInnoDBã€MyISAMã€Memoryç­‰å¤šä¸ªå­˜å‚¨å¼•æ“Žã€‚åœ¨create tableè¯­å¥ä¸­ä½¿ç”¨engine=memory, æ¥æŒ‡å®šä½¿ç”¨å†…å­˜å¼•æ“Žåˆ›å»ºè¡¨ã€‚ è¿žæŽ¥å™¨ ç¬¬ä¸€å°è±¡ï¼šshow processlistå‘½ä»¤å¯ä»¥å±•ç¤ºè¿žæŽ¥çš„çŠ¶æ€ï¼Œå¦‚Sleepã€Queryï¼›å°½é‡ä½¿ç”¨é•¿è¿žæŽ¥ï¼›ä½ å¯èƒ½ä¼šå‘çŽ°ï¼Œæœ‰äº›æ—¶å€™MySQLå ç”¨å†…å­˜æ¶¨å¾—ç‰¹åˆ«å¿«ï¼Œè¿™æ˜¯å› ä¸ºMySQLåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶ä½¿ç”¨çš„å†…å­˜æ˜¯ç®¡ç†åœ¨è¿žæŽ¥å¯¹è±¡é‡Œé¢çš„ã€‚é‡æ¸©ï¼šé•¿è¿žæŽ¥å¯¼è‡´ MySQL å¼‚å¸¸é‡å¯çŽ°è±¡ã€‚ï¼ˆä¸€èˆ¬æ˜¯çº¿ä¸Šé—®é¢˜ï¼‰è§£å†³æ–¹æ³•ä¸€ï¼šå®šæœŸæ–­å¼€é•¿è¿žæŽ¥ã€‚äºŒï¼š5.7 or ä»¥ä¸Šï¼Œmysql_reset_connectionæ¥é‡æ–°åˆå§‹åŒ–è¿žæŽ¥èµ„æºã€‚è¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦é‡è¿žå’Œé‡æ–°åšæƒé™éªŒè¯ï¼Œä¼šå°†è¿žæŽ¥æ¢å¤åˆ°åˆšåˆšåˆ›å»ºå®Œæ—¶çš„çŠ¶æ€ã€‚ æŸ¥è¯¢ç¼“å­˜ ç¬¬ä¸€å°è±¡ï¼šå› ä¸ºç‰¹åˆ«å®¹æ˜“å¤±æ•ˆï¼Œæ‰€ä»¥å°½é‡ä¸è¦ç”¨ã€‚åŽŸç†å°±æ˜¯ä½ çš„æŸ¥è¯¢èƒ½å¤Ÿç›´æŽ¥åœ¨è¿™ä¸ªç¼“å­˜ä¸­æ‰¾åˆ°keyï¼Œé‚£ä¹ˆè¿™ä¸ªvalueå°±ä¼šè¢«ç›´æŽ¥è¿”å›žç»™å®¢æˆ·ç«¯ã€‚å‘½ä¸­ç¼“å­˜å¯ä»¥é¿å…åŽç»­å¤æ‚æ“ä½œï¼Œæ•ˆçŽ‡è¾ƒé«˜ã€‚ä½†æ›´æ–°è¡¨åˆ™å¤±æ•ˆï¼ŒåŽ‹åŠ›å¤§æ•°æ®åº“å¾ˆéš¾å‘½ä¸­ã€‚é‡æ¸©ï¼šé™¤éžç³»ç»Ÿé…ç½®è¡¨è¿™ç§é™æ€è¡¨å¯ä»¥è€ƒè™‘ã€‚ä½ å¯ä»¥å°†å‚æ•°query_cache_typeè®¾ç½®æˆDEMANDï¼Œè¿™æ ·å¯¹äºŽé»˜è®¤çš„SQLè¯­å¥éƒ½ä¸ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚è€Œå¯¹äºŽä½ ç¡®å®šè¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜çš„è¯­å¥ï¼Œå¯ä»¥ç”¨SQL_CACHEæ˜¾å¼æŒ‡å®šã€‚8.0å°†æŸ¥è¯¢ç¼“å­˜åˆ é™¤ã€‚1mysql&gt; select SQL_CACHE * from T where ID=10ï¼› åˆ†æžå™¨ ç¬¬ä¸€å°è±¡ï¼šå…ˆè¯æ³•åˆ†æžï¼ŒåŽè¯­æ³•åˆ†æžã€‚é‡æ¸©ï¼šè¯æ³•åˆ†æžæ¯”å¦‚selectã€å­—ç¬¦ä¸²Tè¯†åˆ«æˆè¡¨åTï¼›è¯­æ³•åˆ†æžå¤åˆè¯­æ³•è§„åˆ™å³å¯ï¼Œå…³æ³¨æŠ¥é”™è¯­å¥ä¸­çš„use nearå³å¯ã€‚ ä¼˜åŒ–å™¨ ç¬¬ä¸€å°è±¡ï¼šå¤šä¸ªç´¢å¼•æ—¶ï¼Œå†³å®šå“ªä¸ªç´¢å¼•ï¼›å¤šè¡¨å…³è”æ—¶ï¼Œå†³å®šè¡¨è¿žæŽ¥é¡ºåºã€‚é‡æ¸©ï¼šä¼˜åŒ–å™¨å’Œç´¢å¼•èƒ½æ‰¯ä¸Šå…³ç³»ï¼ŒåŽé¢åº”è¯¥ä¼šè¯¦ç»†è®²è§£è¿™æ–¹é¢é—®é¢˜ã€‚ æ‰§è¡Œå™¨ ç¬¬ä¸€å°è±¡ï¼šé¦–å…ˆï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æƒé™ï¼Œå†è€…ï¼Œæ‰“å¼€è¡¨ï¼Œä¼šæ ¹æ®è¡¨çš„å¼•æ“Žå®šä¹‰ï¼Œä½¿ç”¨å¼•æ“ŽæŽ¥å£ï¼›å¼•æ“Žæ‰«æè¡Œæ•°è·Ÿrows_examinedå¹¶ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚rows_examinedå­—æ®µï¼Œè¡¨ç¤ºè¿™ä¸ªè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰«æäº†å¤šå°‘è¡Œã€‚åœ¨æ‰§è¡Œå™¨æ¯æ¬¡è°ƒç”¨å¼•æ“ŽèŽ·å–æ•°æ®è¡Œçš„æ—¶å€™ç´¯åŠ çš„ã€‚é‡æ¸©ï¼šä½¿ç”¨å¼•æ“ŽæŽ¥å£æ‰§è¡Œæµç¨‹ï¼šè°ƒç”¨å¼•æ“ŽæŽ¥å£å–æ­¤è¡¨ç¬¬ä¸€è¡Œï¼Œä¸æ»¡è¶³è·³è¿‡ï¼Œæ»¡è¶³æ”¾å…¥ç»“æžœé›†ï¼ˆåœ¨æ‰§è¡Œå™¨ä¸­ï¼Ÿï¼‰ï¼›ä¸‹ä¸€è¡Œæ‰§è¡Œç›¸åŒæ“ä½œï¼Œç›´è‡³æœ€åŽï¼›æ»¡è¶³æ¡ä»¶çš„è¡Œç»„æˆçš„è®°å½•åŠä½œä¸ºç»“æžœé›†è¿”å›žã€‚ å°ç»“&amp;æœ¬æœŸé—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šå¦‚æžœè¡¨Tä¸­æ²¡æœ‰å­—æ®µkï¼Œè€Œä½ æ‰§è¡Œäº†è¿™ä¸ªè¯­å¥ select * from T where k=1, é‚£è‚¯å®šæ˜¯ä¼šæŠ¥â€œä¸å­˜åœ¨è¿™ä¸ªåˆ—â€çš„é”™è¯¯ï¼š â€œUnknown column â€˜kâ€™ in â€˜where clauseâ€™â€ã€‚ä½ è§‰å¾—è¿™ä¸ªé”™è¯¯æ˜¯åœ¨æˆ‘ä»¬ä¸Šé¢æåˆ°çš„å“ªä¸ªé˜¶æ®µæŠ¥å‡ºæ¥çš„å‘¢ï¼Ÿé‡æ¸©ï¼š é¢å¤–çŸ¥è¯† è¢«ç³»ç»Ÿå¼ºè¡Œæ€æŽ‰ï¼ˆOOMï¼‰ Out-of-Memory (OOM) Killeræ˜¯ä¸€ç§ä¿æŠ¤æœºåˆ¶ï¼Œç”¨äºŽå½“å†…å­˜ä¸¥é‡ä¸è¶³æ—¶ï¼Œä¸ºäº†ç³»ç»Ÿçš„ç»§ç»­è¿è½¬ï¼Œå†…æ ¸è¿«ä¸å¾—å·²æŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ï¼Œå°†å…¶æ€æ­»ï¼Œä»¥é‡Šæ”¾å†…å­˜ï¼Œç¼“è§£å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚å¯ä»¥çœ‹å‡ºè¿™ç§æ–¹å¼å¯¹è¿›ç¨‹çš„ä¿æŠ¤æ˜¯æœ‰é™çš„ï¼Œä¸èƒ½å®Œå…¨çš„ä¿æŠ¤è¿›ç¨‹çš„è¿è¡Œã€‚ 02 | æ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿè‡ªæˆ‘æ€»ç»“æ›´æ–°æµç¨‹è¿˜æ¶‰åŠä¸¤ä¸ªé‡è¦çš„æ—¥å¿—æ¨¡å—ï¼Œå®ƒä»¬æ­£æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„ä¸»è§’ï¼šredo logï¼ˆé‡åšæ—¥å¿—ï¼‰å’Œ binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ã€‚ é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šredo log ç¬¬ä¸€å°è±¡ï¼šWALçš„å…¨ç§°æ˜¯Write-Ahead Loggingï¼Œå®ƒçš„å…³é”®ç‚¹å°±æ˜¯å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç£ç›˜ã€‚å½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDBå¼•æ“Žå°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ°redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚InnoDBçš„redo logæ˜¯å›ºå®šå¤§å°çš„ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ä¸ºä¸€ç»„4ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯1GBï¼Œé‚£ä¹ˆè¿™å—â€œç²‰æ¿â€æ€»å…±å°±å¯ä»¥è®°å½•4GBçš„æ“ä½œã€‚é‡æ¸©ï¼šæœ‰äº†redo logï¼ŒInnoDBå°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸ºcrash-safeã€‚ é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šbinlog ç¬¬ä¸€å°è±¡ï¼š1. redo logæ˜¯InnoDBå¼•æ“Žç‰¹æœ‰çš„ï¼›binlogæ˜¯MySQLçš„Serverå±‚å®žçŽ°çš„ï¼Œæ‰€æœ‰å¼•æ“Žéƒ½å¯ä»¥ä½¿ç”¨ã€‚2. redo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlogæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŽŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ID=2è¿™ä¸€è¡Œçš„cå­—æ®µåŠ 1 â€ã€‚3. redo logæ˜¯å¾ªçŽ¯å†™çš„ï¼Œç©ºé—´å›ºå®šä¼šç”¨å®Œï¼›binlogæ˜¯å¯ä»¥è¿½åŠ å†™å…¥çš„ã€‚â€œè¿½åŠ å†™â€æ˜¯æŒ‡binlogæ–‡ä»¶å†™åˆ°ä¸€å®šå¤§å°åŽä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼Œå¹¶ä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ã€‚æµ…è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨InnoDBå†…éƒ¨æ‰§è¡Œçš„ï¼Œæ·±è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œçš„é‡æ¸©ï¼šæœ€åŽä¸‰æ­¥çœ‹ä¸ŠåŽ»æœ‰ç‚¹â€œç»•â€ï¼Œå°†redo logçš„å†™å…¥æ‹†æˆäº†ä¸¤ä¸ªæ­¥éª¤ï¼šprepareå’Œcommitï¼Œè¿™å°±æ˜¯â€ä¸¤é˜¶æ®µæäº¤â€ã€‚ ä¸¤é˜¶æ®µæäº¤ ç¬¬ä¸€å°è±¡ï¼šå…ˆå†™ redo log åŽå†™ binlogï¼Œbinlogè¿˜æ²¡æœ‰å†™å®Œçš„æ—¶å€™ï¼ŒMySQLè¿›ç¨‹å¼‚å¸¸é‡å¯ã€‚å¦‚æžœéœ€è¦ç”¨è¿™ä¸ªbinlogæ¥æ¢å¤ä¸´æ—¶åº“çš„è¯ï¼Œç”±äºŽè¿™ä¸ªè¯­å¥çš„binlogä¸¢å¤±ï¼Œè¿™ä¸ªä¸´æ—¶åº“å°±ä¼šå°‘äº†è¿™ä¸€æ¬¡æ›´æ–°ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œcçš„å€¼å°±æ˜¯0ï¼Œä¸ŽåŽŸåº“çš„å€¼ä¸åŒã€‚å…ˆå†™binlogåŽå†™redo logï¼Œåœ¨binlogå†™å®Œä¹‹åŽcrashï¼Œç”±äºŽredo logè¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤ä»¥åŽè¿™ä¸ªäº‹åŠ¡æ— æ•ˆã€‚åœ¨ä¹‹åŽç”¨binlogæ¥æ¢å¤çš„æ—¶å€™å°±å¤šäº†ä¸€ä¸ªäº‹åŠ¡å‡ºæ¥ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œcçš„å€¼å°±æ˜¯1ï¼Œä¸ŽåŽŸåº“çš„å€¼ä¸åŒã€‚å¦‚æžœä¸ä½¿ç”¨â€œä¸¤é˜¶æ®µæäº¤â€ï¼Œé‚£ä¹ˆæ•°æ®åº“çš„çŠ¶æ€å°±æœ‰å¯èƒ½å’Œç”¨å®ƒçš„æ—¥å¿—æ¢å¤å‡ºæ¥çš„åº“çš„çŠ¶æ€ä¸ä¸€è‡´ã€‚é‡æ¸©ï¼šä¸åªæ˜¯è¯¯æ“ä½œåŽéœ€è¦ç”¨è¿™ä¸ªè¿‡ç¨‹æ¥æ¢å¤æ•°æ®ã€‚å½“ä½ éœ€è¦æ‰©å®¹çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å†å¤šæ­å»ºä¸€äº›å¤‡åº“æ¥å¢žåŠ ç³»ç»Ÿçš„è¯»èƒ½åŠ›çš„æ—¶å€™ï¼ŒçŽ°åœ¨å¸¸è§çš„åšæ³•ä¹Ÿæ˜¯ç”¨å…¨é‡å¤‡ä»½åŠ ä¸Šåº”ç”¨binlogæ¥å®žçŽ°çš„ï¼Œè¿™ä¸ªâ€œä¸ä¸€è‡´â€å°±ä¼šå¯¼è‡´ä½ çš„çº¿ä¸Šå‡ºçŽ°ä¸»ä»Žæ•°æ®åº“ä¸ä¸€è‡´çš„æƒ…å†µã€‚ å°ç»“ ç¬¬ä¸€å°è±¡ï¼šredo logç”¨äºŽä¿è¯crash-safeèƒ½åŠ›ã€‚innodb_flush_log_at_trx_commitè¿™ä¸ªå‚æ•°è®¾ç½®æˆ1çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„redo logéƒ½ç›´æŽ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘å»ºè®®ä½ è®¾ç½®æˆ1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯MySQLå¼‚å¸¸é‡å¯ä¹‹åŽæ•°æ®ä¸ä¸¢å¤±ã€‚sync_binlogè¿™ä¸ªå‚æ•°è®¾ç½®æˆ1çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„binlogéƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°æˆ‘ä¹Ÿå»ºè®®ä½ è®¾ç½®æˆ1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯MySQLå¼‚å¸¸é‡å¯ä¹‹åŽbinlogä¸ä¸¢ã€‚é‡æ¸©ï¼šé‚£ä¹ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ï¼Œä¸€å¤©ä¸€å¤‡ä¼šæ¯”ä¸€å‘¨ä¸€å¤‡æ›´æœ‰ä¼˜åŠ¿å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œå®ƒå½±å“äº†è¿™ä¸ªæ•°æ®åº“ç³»ç»Ÿçš„å“ªä¸ªæŒ‡æ ‡ï¼Ÿç¾éš¾å‘ç”Ÿçš„æ—¶å€™å¤‡ä»½èƒ½æ•‘å‘½ï¼Œå‡ºçŽ°é”™è¯¯çš„æ—¶å€™å¤‡ä»½èƒ½åŽæ‚”ã€‚äº‹æƒ…éƒ½æœ‰ä¸¤é¢æ€§ï¼Œæ²¡æœ‰è°æ¯”è°å¥½ï¼Œåªæœ‰è°æ¯”è°åˆé€‚ï¼Œå®Œå…¨çœ‹ä¸šåŠ¡æƒ…å†µå’Œéœ€æ±‚è€Œå®šã€‚ä¸€å¤©ä¸€å¤‡æ¢å¤æ—¶é—´æ›´çŸ­ï¼Œbinlogæ›´å°‘ï¼Œæ•‘å‘½æ—¶å€™æ›´å¿«ï¼Œä½†æ˜¯åŽæ‚”æ—¶é—´æ›´çŸ­ï¼Œè€Œä¸€å‘¨ä¸€å¤‡æ­£å¥½ç›¸åã€‚æˆ‘è‡ªå·±çš„å¤‡ä»½ç­–ç•¥æ˜¯è®¾ç½®ä¸€ä¸ª16å°æ—¶å»¶è¿Ÿå¤åˆ¶çš„ä»Žåº“ï¼Œå……å½“åŽæ‚”è¯ï¼Œæ¢å¤æ—¶é—´ä¹Ÿè¾ƒå¿«ã€‚å†ä¸¤å¤©ä¸€ä¸ªå…¨å¤‡åº“å’Œbinlogï¼Œä½œä¸ºæ•‘å‘½è¯,æœ€åŽæ—¶åˆ»ç”¨ã€‚è¿™æ ·å°±æ¯”è¾ƒå…¼é¡¾äº†ã€‚ 10.MySQLä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šé€‰é”™ç´¢å¼•ï¼Ÿè‡ªæˆ‘æ€»ç»“ ä¸ºä»€ä¹ˆä¼šé€‰é”™ç´¢å¼• ç´¢å¼•ç»Ÿè®¡å€¼ï¼ˆcardinalityåˆ—ï¼‰è™½ç„¶ä¸å¤Ÿç²¾ç¡®ã€‚ä½†å¤§ä½“ä¸Šè¿˜æ˜¯å·®ä¸å¤šçš„ï¼Œé€‰é”™ç´¢å¼•ä¸€å®šè¿˜æœ‰åˆ«çš„åŽŸå› ã€‚rowsè¿™ä¸ªå­—æ®µè¡¨ç¤ºçš„æ˜¯é¢„è®¡æ‰«æè¡Œæ•°ã€‚ä¼˜åŒ–å™¨ä¸ºä»€ä¹ˆæ”¾ç€æ‰«æ37000è¡Œçš„æ‰§è¡Œè®¡åˆ’ä¸ç”¨ï¼Œå´é€‰æ‹©äº†æ‰«æè¡Œæ•°æ˜¯100000çš„æ‰§è¡Œè®¡åˆ’å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œå¦‚æžœä½¿ç”¨ç´¢å¼•aï¼ˆ37000ï¼‰ï¼Œæ¯æ¬¡ä»Žç´¢å¼•aä¸Šæ‹¿åˆ°ä¸€ä¸ªå€¼ï¼Œéƒ½è¦å›žåˆ°ä¸»é”®ç´¢å¼•ä¸ŠæŸ¥å‡ºæ•´è¡Œæ•°æ®ï¼Œè¿™ä¸ªä»£ä»·ä¼˜åŒ–å™¨ä¹Ÿè¦ç®—è¿›åŽ»çš„ã€‚è€Œå¦‚æžœé€‰æ‹©æ‰«æ10ä¸‡è¡Œï¼Œæ˜¯ç›´æŽ¥åœ¨ä¸»é”®ç´¢å¼•ä¸Šæ‰«æçš„ï¼Œæ²¡æœ‰é¢å¤–çš„ä»£ä»·ã€‚ä¼˜åŒ–å™¨ä¼šä¼°ç®—è¿™ä¸¤ä¸ªé€‰æ‹©çš„ä»£ä»·ï¼Œä»Žç»“æžœçœ‹æ¥ï¼Œä¼˜åŒ–å™¨è®¤ä¸ºç›´æŽ¥æ‰«æä¸»é”®ç´¢å¼•æ›´å¿«ã€‚å½“ç„¶ï¼Œä»Žæ‰§è¡Œæ—¶é—´çœ‹æ¥ï¼Œè¿™ä¸ªé€‰æ‹©å¹¶ä¸æ˜¯æœ€ä¼˜çš„ ä¼˜åŒ–å™¨çš„é€»è¾‘ æ‰«æçš„è¡Œæ•°ï¼ˆæ˜¯å¦æŽ’åºï¼Œä½¿ç”¨ä¸´æ—¶è¡¨ï¼‰ï¼Œå¼•å‡ºåŒºåˆ†åº¦ã€åŸºæ•°ï¼ˆç´¢å¼•çš„ä¸åŒå€¼çš„ä¸ªæ•°ï¼Œä¸ªæ•°è¶Šå¤šåŸºæ•°è¶Šå¤§ï¼ŒåŒºåˆ†åº¦è¶Šæ˜Žæ˜¾ï¼‰ï¼Œå¦‚ä½•ç»Ÿè®¡åŸºæ•°ï¼Œé€šè¿‡è®¡ç®—nä¸ªæ•°æ®é¡µï¼Œç»Ÿè®¡è¿™äº›é¡µä¸Šçš„ä¸åŒå€¼ï¼Œæ±‚ä¸€ä¸ªå¹³å‡å€¼ï¼Œä¹˜ä»¥ç´¢å¼•çš„æ€»é¡µæ•°ã€‚ç´¢å¼•ç»Ÿè®¡åªæ˜¯ä¸€ä¸ªè¾“å…¥ï¼Œé‡è¦çš„æ˜¯ä¼˜åŒ–å™¨è¦åˆ¤æ–­è¦æ‰«æå¤šå°‘è¡Œã€‚æ‰€ä»¥3700ä¸æ‰§è¡Œï¼Œæ‰§è¡Œ10000çš„ï¼Œå› ä¸ºä¼˜åŒ–å™¨ä¼šåˆ¤æ–­å›žè¡¨çš„å¼€é”€ã€‚analyst table t å¯ä»¥é‡æ–°è¿›è¡Œç´¢å¼•ç»Ÿè®¡ï¼Œä¸€èˆ¬èƒ½å¤Ÿè§£å†³é—®é¢˜ ç´¢å¼•é€‰æ‹©å¼‚å¸¸å’Œå¤„ç† force æ¥å¼ºè¡Œä¿®æ”¹ ä½†ä¸åˆ©äºŽåŠæ—¶æ€§ï¼Œä¸ä¼šè¯„ä¼°å…¶ä»–ç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯é€šè¿‡å¼•å¯¼ä¼˜åŒ–å™¨é¿å…æŽ’åºçš„é”™è¯¯ï¼ˆç¬¬äºŒä¸ª sqlè¯­å¥æ˜¯è¿™ä¸ªä¾‹è¯ï¼‰åˆ é™¤åŽŸæœ‰ç´¢å¼•ï¼Œå»ºç«‹ä¸€ä¸ªæ›´ä¸ºåˆç†çš„ç´¢å¼• é¢å¤–çŸ¥è¯†ã€‚ sqlå¯ä»¥è‡ªå·±ä½¿ç”¨sqlè¯­å¥æ¥æ·»åŠ æ•°æ® æ…¢æŸ¥è¯¢æ—¥å¿— MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯MySQLæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨æ¥è®°å½•åœ¨MySQLä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡long_query_timeå€¼çš„SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long_query_timeçš„é»˜è®¤å€¼ä¸º10ï¼Œæ„æ€æ˜¯è¿è¡Œ10Sä»¥ä¸Šçš„è¯­å¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMysqlæ•°æ®åº“å¹¶ä¸å¯åŠ¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¥è®¾ç½®è¿™ä¸ªå‚æ•°ï¼Œå½“ç„¶ï¼Œå¦‚æžœä¸æ˜¯è°ƒä¼˜éœ€è¦çš„è¯ï¼Œä¸€èˆ¬ä¸å»ºè®®å¯åŠ¨è¯¥å‚æ•°ï¼Œå› ä¸ºå¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ä¼šæˆ–å¤šæˆ–å°‘å¸¦æ¥ä¸€å®šçš„æ€§èƒ½å½±å“ã€‚æ…¢æŸ¥è¯¢æ—¥å¿—æ”¯æŒå°†æ—¥å¿—è®°å½•å†™å…¥æ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒå°†æ—¥å¿—è®°å½•å†™å…¥æ•°æ®åº“è¡¨ã€‚ æ™®é€šç´¢å¼•çš„å›žè¡¨æ“ä½œ å…ˆç´¢å¼•æ‰«æï¼Œå†é€šè¿‡IDåŽ»å–ç´¢å¼•ä¸­æœªèƒ½æä¾›çš„æ•°æ®ï¼Œå³ä¸ºå›žè¡¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºäºŽéžä¸»é”®ç´¢å¼•çš„æŸ¥è¯¢éœ€è¦å¤šæ‰«æä¸€æ£µç´¢å¼•æ ‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨ä¸­åº”è¯¥å°½é‡ä½¿ç”¨ä¸»é”®æŸ¥è¯¢ 11.æ€Žä¹ˆç»™å­—ç¬¦ä¸²å­—æ®µåŠ ç´¢å¼•ï¼Ÿè‡ªæˆ‘æ€»ç»“ æ€Žä¹ˆç»™å­—ç¬¦ä¸²å­—æ®µåŠ ç´¢å¼• ç¬¬ä¸€å°è±¡ï¼šä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œå®šä¹‰å¥½é•¿åº¦ï¼Œå°±å¯ä»¥å³èŠ‚çœç©ºé—´ï¼Œåˆä¸ç”¨é¢å¤–å¢žåŠ å¤ªå¤šçš„æŸ¥è¯¢æˆæœ¬é‡æ¸©ï¼šåˆ°ä¸»é”®ä¸ŠæŸ¥åˆ°ä¸»é”®å€¼ä¸ºID1çš„è¡Œï¼Œåˆ¤æ–­emailçš„å€¼ï¼Œè¿™ç®—ä¸€æ¬¡æ‰«æï¼Œå¦‚æžœå‰ç¼€ä¸åˆé€‚ï¼Œç”šè‡³ä¼šæ¯ä¸ªéƒ½å–å‡ºæ¥ï¼Œå› ä¸ºè¦åˆ¤æ–­å–åˆé›†ã€‚ç´¢å¼•é€‰å–çš„è¶Šé•¿ã€å ç”¨ç£ç›˜ç©ºé—´å°±è¶Šå¤§ï¼Œç›¸åŒæ•°æ®é¡µèƒ½æ”¾ä¸‹çš„ç´¢å¼•å€¼å°±è¶Šå°‘ã€‚ å‰ç¼€ç´¢å¼•å¯¹è¦†ç›–ç´¢å¼•çš„å½±å“ ç¬¬ä¸€å°è±¡ï¼šå‰ç¼€ç´¢å¼•ç”¨ä¸ä¸Šè¦†ç›–ç´¢å¼•çš„ä¼˜åŒ–é‡æ¸©ï¼šè¦†ç›–ç´¢å¼•çš„ç›®çš„æ˜¯åˆ¤æ–­æ˜¯å¦å”¯ä¸€ï¼Œè€Œå‰ç¼€ç´¢å¼•çš„å€¼ä¸ç¡®å®šæ˜¯å¦å®Œæ•´ï¼Œæ‰€ä»¥è¿˜è¦å›žè¡¨æŸ¥è¯¢ï¼Œå¢žåŠ äº†IOæ“ä½œã€‚ å…¶ä»–æ–¹å¼ ç¬¬ä¸€å°è±¡ï¼šå€’åºå­˜å‚¨ï¼šreserveï¼›hashå­—æ®µï¼šæ’å…¥æ—¶å’ŒæŸ¥è¯¢æ—¶ä½¿ç”¨crc32()è¿™ä¸ªå‡½æ•°ï¼Œç´¢å¼•é•¿åº¦å˜æˆæ•´åž‹çš„4ä¸ªå­—èŠ‚ã€‚éƒ½ä¸æ”¯æŒåˆ©ç”¨ç´¢å¼•çš„èŒƒå›´æŸ¥è¯¢ï¼Œå¦‚æžœå€’åºåˆ™ä¸éœ€å–å‡ºæ¥æ•°æ®ï¼Œå› ä¸ºæ­¤æ—¶ä½œä¸šæŒ‡çš„æ˜¯å®Œæ•´çš„èº«ä»½è¯æ•°å­—é‡æ¸©ï¼šå¼‚åŒï¼šå€’åºå­˜å‚¨æ–¹å¼åœ¨ä¸»é”®ç´¢å¼•ä¸Šï¼Œhashå­—æ®µè¦é¢å¤–å¢žåŠ ä¸€ä¸ªå­—æ®µã€‚å€’åºé•¿è€ŒhashçŸ­ï¼Œå·®ä¸å¤šï¼›reserveæ¯”crc32æ¶ˆè€—ç´¢å¼•æ›´å°‘ç‚¹ï¼›crc32å†²çªæ¦‚çŽ‡è¾ƒå°ï¼Œå€’åºæ–¹å¼åˆé›†æ—¶è¿˜æ˜¯ä¼šåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œè¿˜æ˜¯å¯èƒ½å¢žåŠ æ‰«æè¡Œæ•° æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šé—®é¢˜ï¼šé‡‡ç”¨hashè¡¨çš„æ–¹å¼æœ€å¥½äº†ã€‚é‡æ¸©ï¼šä¸ŠæœŸé—®é¢˜ï¼š37000+å›žè¡¨ioï¼Œå¯èƒ½æ¯”100000æ›´æµªè´¹æ—¶é—´ï¼Œæ‰€ä»¥å‡ºçŽ°é€‰é”™çŽ°è±¡ã€‚æ˜¯ä¸¤ä»½ï¼Œè¿˜æ˜¯100000å·¦å³ï¼Œå› ä¸ºè¡Œæ•°ä¼˜åŒ–å™¨é‡‡ç”¨äº†show table statusçš„æ–¹æ³• é¢å¤–çŸ¥è¯† 1 è¦†ç›–ç´¢å¼•ä¸çŸ¥é“è¦†ç›–ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŽŸåˆ™ï¼Œä¹Ÿä¸ç†è§£ç´¢å¼•ç»“æž„åœ¨å¶å­èŠ‚ç‚¹æœ‰æ•°æ®ï¼Œä¹Ÿä¸çŸ¥é“æ€Žä¹ˆå›žäº‹å°±æœ‰ioæ“ä½œäº†ï¼Œå›žåŽ»çœ‹ä¹‹å‰çš„ä¸œè¥¿å§ 12.ä¸ºä»€ä¹ˆæˆ‘çš„MySQLä¼šâ€œæŠ–â€ä¸€ä¸‹ï¼Ÿ 13.ä¸ºä»€ä¹ˆè¡¨æ•°æ®åˆ æŽ‰ä¸€åŠï¼Œè¡¨æ–‡ä»¶å¤§å°ä¸å˜ï¼Ÿè‡ªæˆ‘æ€»ç»“ å‚æ•°innodb_file_per_table ç¬¬ä¸€å°è±¡ï¼šè®¾ç½®ä¸ºonï¼Œåˆ™å¯ä»¥ä½¿drop tableçš„ç›´æŽ¥åˆ é™¤æ–‡ä»¶ï¼Œä½†æ˜¯ä¸ºoff åˆ™åˆ é™¤ä¸æŽ‰é‡æ¸©ï¼šonä»£è¡¨æ¯ä¸ªè¡¨æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ª.ibdä¸ºåŽç¼€çš„æ–‡ä»¶ä¸­ï¼Œoffæ”¾åœ¨ç³»ç»Ÿå…±äº«è¡¨ç©ºé—´ï¼Œå’Œæ•°æ®å­—å…¸æ”¾åœ¨ä¸€èµ· æ•°æ®åˆ é™¤æµç¨‹ ç¬¬ä¸€å°è±¡ï¼šæ•°æ®é¡µçš„å¤ç”¨å’Œè®°å½•çš„å¤ç”¨æ˜¯ä¸åŒçš„ï¼Œæ‰€æœ‰æ•°æ®é¡µéƒ½å¯ä»¥å˜æˆå¯å¤ç”¨çš„ã€‚æ­¤æ—¶ç£ç›˜ç©ºé—´æ²¡æœ‰å‡å°‘ã€‚é‡æ¸©ï¼šä¸æ­¢åˆ é™¤ï¼Œæ’å…¥å’Œæ›´æ–°è¦ä¼šé€ æˆç©ºæ´žã€‚æ’å…¥ï¼šé¡µåˆ†è£‚å®ŒæˆåŽï¼ŒAé¡µç•™ä¸‹äº†ç©ºæ´žã€‚æ›´æ–°ï¼šå…ˆåˆ é™¤åŽæ’å…¥ï¼Œä¹Ÿä¼šäº§ç”Ÿç©ºæ´žã€‚å¢žåˆ æ”¹çš„è¡¨å¯èƒ½éƒ½æ˜¯å­˜åœ¨ç©ºæ´žçš„ é‡å»ºè¡¨ ç¬¬ä¸€å°è±¡ï¼šé‡‡ç”¨ä¸­é—´å˜é‡æ¥äº¤æ¢è¡¨å†…å®¹ï¼Œå®žçŽ°é‡å»ºï¼ŒMySQL 5.5ç‰ˆæœ¬ä¹‹å‰ï¼Œä½¿ç”¨alter table A engine=InnoDBå‘½ä»¤(DDL)æ¥é‡å»ºè¡¨ï¼Œå¯èƒ½å°±è¦è¢«é”ä½,ä¸èƒ½æœ‰æ›´æ–°ã€‚MySQL 5.6ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„Online DDLï¼Œå¯¹è¿™ä¸ªæ“ä½œæµç¨‹åšäº†ä¼˜åŒ–ã€‚é‡æ¸©ï¼šç”±äºŽæ—¥å¿—æ–‡ä»¶ row log å’Œé‡æ”¾æ“ä½œåŠŸèƒ½ï¼Œå…è®¸å¯¹è¡¨å¢žåˆ æ”¹ã€‚DDLä¹‹å‰æ˜¯è¦æ‹¿MDLå†™é”çš„ï¼Œä½†æ˜¯é€€åŒ–æˆå†™é”äº†ï¼Œæ—¶æœºå¦‚ä¸‹ï¼Œæ³¨æ„å…¶å®žå†™é”çš„æ—¶é—´å¾ˆçŸ­ï¼Œå°±æ˜¯å¯åŠ¨alterè¯­å¥æ—¶è€Œå·²ã€‚(åˆšå¼€å§‹è¦å†™é”ï¼Œæ˜¯ä¸ºäº†ä¿è¯é‡Œé¢æ²¡æœ‰è¯»é”) Online å’Œ inplace ç¬¬ä¸€å°è±¡ï¼šDDLè¿‡ç¨‹å¦‚æžœæ˜¯Onlineçš„ï¼Œå°±ä¸€å®šæ˜¯inplaceçš„ï¼›åè¿‡æ¥æœªå¿…ï¼Œä¹Ÿå°±æ˜¯è¯´inplaceçš„DDLï¼Œæœ‰å¯èƒ½ä¸æ˜¯Onlineçš„ã€‚é‡æ¸©ï¼šalter table t engine=innodb,ALGORITHM=inplace; é‡å»ºè¡¨ï¼Œåœ¨InnoDBå†…éƒ¨å®Œæˆï¼Œtmp_fileã€‚ alter table t engine=innodb,ALGORITHM=copy; æ‹·è´è¡¨ï¼Œåœ¨serverå±‚åˆ›å»º æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šæ”¶ç¼©è¡¨çš„æ–¹æ³•ï¼Œ5.6ä¸Šalter å°±å¯ä»¥ï¼Œdropæ˜¯æ²¡ç”¨çš„ï¼Œå†…éƒ¨æµç¨‹å¯ä»¥æ”¯æŒå¢žåˆ æ”¹ï¼ŒOnline DDL æ˜¯åœ¨ä¸šåŠ¡ä½Žå³°æœŸä½¿ç”¨çš„é‡æ¸©ï¼š ä¸å½±å“å¢žåˆ æ”¹ï¼Œå°±æ˜¯ Onlineï¼›ç›¸å¯¹ Serverå±‚æ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨ï¼Œå°±æ˜¯ inplaceï¼Œè¿™é‡Œæ€Žä¹ˆåˆ¤æ–­æ˜¯ä¸æ˜¯ç›¸å¯¹ Server å±‚æ²¡æœ‰æ–°å»ºä¸´æ—¶è¡¨ ä»ŽMySQL 5.6ç‰ˆæœ¬å¼€å§‹ï¼Œalter table t engine = InnoDBï¼ˆä¹Ÿå°±æ˜¯recreateï¼‰é»˜è®¤çš„å°±æ˜¯ä¸Šé¢å›¾4çš„æµç¨‹äº†ï¼› analyze table t å…¶å®žä¸æ˜¯é‡å»ºè¡¨ï¼Œåªæ˜¯å¯¹è¡¨çš„ç´¢å¼•ä¿¡æ¯åšé‡æ–°ç»Ÿè®¡ï¼Œæ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åŠ äº†MDLè¯»é”ï¼› optimize table t ç­‰äºŽrecreate+analyze é¢å¤–çŸ¥è¯† 1 DDL MDL é˜»å¡žDML DDLä¹‹å‰æ˜¯è¦æ‹¿MDLå†™é”çš„https://www.cnblogs.com/henryhappier/archive/2010/07/05/1771295.htmlç®€å•çš„çš„è¯´ï¼Œddlï¼ˆdata definition languageï¼‰ï¼Œdmlï¼ˆdata manipulation languageï¼‰ ä¸€ä¸ªå®šä¹‰ã€ä¸€ä¸ªæ“çºµï¼Œè¿˜æœ‰ï¼Œdclå’ŒtclMDL æŒ‡è¡¨çº§åˆ«é”ï¼Œä¸€ç±»æ˜¯å…ƒæ•°æ®é”ï¼ˆMDLï¼‰ï¼Œä¸€ç§æ˜¯è¡¨é”ã€‚å®Œå…¨æ²¡å•¥å°è±¡äº†ï¼Œå›žåŽ»é‡æ–°çœ‹ä¸€éå§ã€‚ã€‚ã€‚ã€‚2 GitHubå¼€æºçš„gh-osthttps://github.com/github/gh-ost è§£å†³åˆ˜å»ºæ™“çš„é¡¹ç›®ä¹Ÿç”¨ä¸åˆ°è¿™ä¸ªå§ç®€ä»‹ï¼šGitHubâ€™s Online Schema Migrations for MySQLï¼ˆåœ¨çº¿æ¨¡å¼è¿ç§»ï¼‰3 æ•°æ®å­—å…¸æ”¾åœ¨ç³»ç»Ÿå…±äº«è¡¨ç©ºé—´https://www.cnblogs.com/geaozhang/p/8478976.htmlç®€å•é˜è¿°äº†ç³»ç»Ÿè¡¨å’Œç‹¬ç«‹è¡¨ä¹‹é—´çš„åŒºåˆ«4 ç•™è¨€ç²¾åŽ5. 14.count(*)è¿™ä¹ˆæ…¢ï¼Œæˆ‘è¯¥æ€Žä¹ˆåŠžï¼Ÿè‡ªæˆ‘æ€»ç»“ count(*) çš„å®žçŽ°æ–¹å¼ ç¬¬ä¸€å°è±¡ï¼šå› ä¸ºä¼šè¯å¤šï¼Œåˆ«çš„äº‹åŠ¡åœ¨å¢žåˆ çš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦ä»Žå¤´è®¡æ•°æ¥å‡†ç¡®è¿”å›žå€¼ï¼ŒInnoDBæœ‰äº‹åŠ¡æ”¯æŒï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼•æ“Žä¼ æ•°æ®ç»™serverå±‚ã€‚MyISAMåªæ˜¯ç®€å•çš„å­˜å‚¨ï¼Œä¸éœ€è¦åˆ¤æ–­è¿‡ç¨‹ã€‚é‡æ¸©ï¼šä¼˜åŒ–ï¼šInnoDBç´¢å¼•ç»„ç»‡è¡¨ï¼Œæ™®é€šç´¢å¼•æ ‘å¶å­èŠ‚ç‚¹æ˜¯ä¸»é”®å€¼ã€‚MySQLä¼˜åŒ–å™¨æ‰¾åˆ°æœ€å°çš„æ ‘éåŽ†ï¼Œ show table statuså‘½ä»¤æ˜¾ç¤ºçš„è¡Œæ•°ä¹Ÿä¸èƒ½ç›´æŽ¥ä½¿ç”¨ã€‚å¾ˆä¸å‡†ç¡® ç”¨ç¼“å­˜ç³»ç»Ÿä¿å­˜è®¡æ•° ç¬¬ä¸€å°è±¡ï¼šç”¨rediså¦‚ä½•éƒ½æ˜¯é€»è¾‘ä¸ç²¾ç¡®çš„ï¼Œå®žé™…ä¹Ÿè‚¯å®šä¼šå‡ºçŽ°é—®é¢˜ã€‚é‡æ¸©ï¼šå¼‚å¸¸é‡å¯é—®é¢˜æˆæœ¬å¯ä»¥è€ƒè™‘ï¼Œå°±æ˜¯é‡å¯æ—¶æ‰«æä¸€éæ•°æ®åº“ï¼Œä½†æ˜¯ä¸¢å¤±æ›´æ–°é—®é¢˜è§£å†³ï¼Œé€»è¾‘ä¸Šè¿˜æ˜¯ä¸ç²¾ç¡®çš„ ç”¨æ•°æ®åº“ä¿å­˜è®¡æ•° ç¬¬ä¸€å°è±¡ï¼šå•ç‹¬æ‹¿ä¸€ä¸ªè¡¨ c æ¥å­˜å–ã€‚redo logå¯ä»¥ä¿è¯å´©æºƒæ¢å¤ï¼Œå¯é‡å¤è¯»çš„äº‹åŠ¡å°±å¯ä»¥ä¿è¯æŸ¥çœ‹æ•°å€¼å’Œæœ€è¿‘100æ¡è®°å½•é€»è¾‘ä¸Šä¸€è‡´ã€‚é‡æ¸©ï¼šåˆ©ç”¨äº‹åŠ¡è¿™ä¸ªç‰¹æ€§å°†é—®é¢˜è§£å†³æŽ‰ ä¸åŒçš„ count ç”¨æ³• ç¬¬ä¸€å°è±¡ï¼šInnoDB ä¼šè°ƒå‡ºè¡¨ç»™ serverå±‚ã€‚coutï¼ˆï¼‰æ˜¯æœ€å¥½çš„ã€‚id å’Œ å­—æ®µéƒ½éœ€è¦åˆ¤æ–­ã€‚1 æ˜¯æ¯ä¸€è¡Œéƒ½æ”¾æ•°å­—1è¿›åŽ»ã€‚é‡æ¸©ï¼šcount(å­—æ®µ)&lt;count(ä¸»é”®id)&lt;count(1)â‰ˆcount()ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ä½ ï¼Œå°½é‡ä½¿ç”¨count(*)ã€‚ æ€»ç»“ä¸Žå®žè·µ ç¬¬ä¸€å°è±¡ï¼šInnoDB æ”¯æŒäº‹åŠ¡ï¼Œæˆ‘ä»¬åˆ©ç”¨å¥½äº‹åŠ¡çš„åŽŸå­æ€§å’Œéš”ç¦»æ€§ï¼Œå°±å¯ä»¥ç®€åŒ–åœ¨ä¸šåŠ¡å¼€å‘æ—¶çš„é€»è¾‘ã€‚é‡æ¸©å’Œç•™è¨€ï¼š é¢å¤–çŸ¥è¯† 1 å¤šç‰ˆæœ¬å¹¶å‘æŽ§åˆ¶ï¼ˆMVCCï¼‰å¤šç‰ˆæœ¬å¹¶å‘æŽ§åˆ¶(Multiversion concurrency controlï¼Œ MCC æˆ– MVCC)ï¼Œæ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¸¸ç”¨çš„ä¸€ç§å¹¶å‘æŽ§åˆ¶ï¼Œä¹Ÿç”¨äºŽç¨‹åºè®¾è®¡è¯­è¨€å®žçŽ°äº‹åŠ¡å†…å­˜ã€‚[1]MVCCæ„å›¾è§£å†³è¯»å†™é”é€ æˆçš„å¤šä¸ªã€é•¿æ—¶é—´çš„è¯»æ“ä½œé¥¿æ­»å†™æ“ä½œé—®é¢˜ã€‚æ¯ä¸ªäº‹åŠ¡è¯»åˆ°çš„æ•°æ®é¡¹éƒ½æ˜¯ä¸€ä¸ªåŽ†å²å¿«ç…§ï¼ˆsnapshot)å¹¶ä¾èµ–äºŽå®žçŽ°çš„éš”ç¦»çº§åˆ«ã€‚å†™æ“ä½œä¸è¦†ç›–å·²æœ‰æ•°æ®é¡¹ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œç›´è‡³æ‰€åœ¨æ“ä½œæäº¤æ—¶æ‰å˜ä¸ºå¯è§ã€‚å¿«ç…§éš”ç¦»ä½¿å¾—äº‹ç‰©çœ‹åˆ°å®ƒå¯åŠ¨æ—¶çš„æ•°æ®çŠ¶æ€ã€‚ 15.ç­”ç–‘æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šæ—¥å¿—å’Œç´¢å¼•ç›¸å…³é—®é¢˜è‡ªæˆ‘æ€»ç»“ æ—¥å¿—ç›¸å…³é—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šæ²¡æœ‰commitå£°æ˜Žï¼Œé»˜è®¤ä¹Ÿæœ‰commitæäº¤ï¼Œbinlogå†™å…¥æ‰ä¼šå‘ç”Ÿä»Žåº“å¤‡ä»½ï¼Œä¸¤é˜¶æ®µæäº¤ï¼šå†™å…¥redologï¼Œå¤„äºŽprepare-&gt;å†™binlog-&gt;æäº¤ï¼Œä¸¤ä¸ªæ¨ªå‘ä¸¤ä¸ªæ—¶åˆ»ã€‚ç¬¬äºŒä¸ªæ—¶åˆ»ï¼Œcommitæ ‡è¯†ã€prepareæ ‡è¯†ã€åˆ¤æ–­binlogæ˜¯å¦å®Œæ•´æ¥åˆ¤æ–­æ˜¯å¦å›žæ»šï¼Œä¸€ä¸ªäº‹åŠ¡binlogæ˜¯æœ‰å®Œæ•´æ ¼å¼ï¼Œ5.6.2åŽå¼•å…¥binlog-checksumå‚æ•°ï¼Œä¿è¯å®Œæ•´æ€§å’Œæ­£ç¡®æ€§å¯ä»¥é€šè¿‡è¿™æ¥å‘çŽ°ï¼Œredolog å’Œ binlogé€šè¿‡å…±åŒçš„XIDå…³è”ã€‚é‡æ¸©ï¼šä¸¤é˜¶æ®µæäº¤æ˜¯ä¸ºäº†äº‹åŠ¡çš„æŒä¹…æ€§ï¼Œä¸¤é˜¶æ®µæ˜¯redologå’Œbinlogéƒ½å†™å¥½åœ¨æäº¤ï¼Œé˜²æ­¢å‡ºçŽ°redologå†™å¥½ï¼Œä½†æ˜¯binlogæ²¡å†™ï¼Œæ­¤æ—¶ä¸èƒ½å›žæ»šï¼Œæ•°æ®å’Œbinlogæ—¥å¿—å°±ä¸ä¸€æ ·äº†ã€‚ä¸å¼•å…¥ä¸¤ä¸ªæ—¥å¿—ï¼Œå°±æ²¡æœ‰ä¸¤é˜¶æ®µæäº¤çš„å¿…è¦äº†ã€‚åªä½¿ç”¨binlogä¸æ”¯æŒå´©æºƒæ¢å¤ï¼Œå› ä¸ºbinlogæ²¡æœ‰èƒ½åŠ›æ¢å¤å†…å­˜æ•°æ®é¡µï¼Œå®ƒä¸è®°å½•æ•°æ®é¡µçš„æ›´æ”¹ã€‚â€¦ -&gt; â€œæ•°æ®æ›´æ–°åˆ°å†…å­˜â€ -&gt; â€œå†™ binlogâ€ -&gt; â€œæäº¤äº‹åŠ¡â€ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥æäº¤ï¼Œå¤šä¸ªäº‹åŠ¡ç»„æˆä¸€ä¸ªäº‹åŠ¡ï¼Œbinlogæœ€å¤šåªèƒ½æ¢å¤æœ€åŽä¸€ä¸ªï¼Œä¹‹å‰çš„å®ƒé»˜è®¤æäº¤å®Œæ¯•ï¼Œå†™åœ¨ç£ç›˜ä¸­äº†ï¼Œæ•°æ®é¡µçº§åˆ«çš„ä¸¢å¤±ã€‚InnoDBä½¿ç”¨walæŠ€æœ¯ï¼Œå¯ä»¥å°†å¤šä¸ªäº‹åŠ¡ç»„æˆä¸€ä¸ªäº‹åŠ¡çš„æƒ…å†µå¤„ç†äº†ï¼Ÿï¼ˆè¿™é‡Œä¸ç¡®å®šï¼‰ï¼Œåªæœ‰redologä¸æ”¯æŒå½’æ¡£äº†ï¼Œbinlogå¤åˆ¶ä¹Ÿä¸èƒ½ç”¨ï¼Œå½±å“binlogçš„æ‰€æœ‰ç”Ÿæ€å†…å®¹ã€‚redolog ä¸è¿›è¡Œè½ç›˜ï¼Œå®ƒå†…éƒ¨è®°å½•é€»è¾‘ï¼Œè„é¡µçš„æ•°æ®é¡µå†™åˆ°ç£ç›˜æ˜¯ç”±æ“ä½œç³»ç»Ÿæžçš„ã€‚å®ƒä½œç”¨æ˜¯å´©æºƒæ¢å¤çš„æ—¶å€™ï¼Œå°†é¡µæ¢å¤æˆå´©æºƒå‰çš„è„é¡µã€‚ redo log buffer å°±æ˜¯æ”¯æŒå¤šäº‹åŠ¡ä¸ä¸¢å¤±çš„å…³é”®åœ¨å†…å­˜ä¸­ï¼Œå…ˆå†™redo log bufferï¼Œå†å†™redologï¼ŒçœŸæ­£å†™redologå®žåœ¨æ‰§è¡Œcommitè¯­å¥çš„æ—¶å€™ï¼ˆä¸æ˜¯commitæ­¥éª¤ï¼‰ ä¸šåŠ¡è®¾è®¡é—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šåŒæ—¶å…³æ³¨çš„å¯èƒ½ä¸èƒ½æˆä¸ºæœ‹å‹çš„é—®é¢˜ï¼ŒA&lt; Bæ˜¯æŒ‡ä»–ä»¬çš„ useridï¼Œlikeè¡¨è®¾è®¡å¿…é¡»ä¿è¯userid&lt;likeridï¼Œå¢žåŠ è¡Œé”å†²çªçº¦æŸï¼Œåˆ©ç”¨å¼ºåˆ¶æ·»åŠ ï¼Œå°†æœ€ç»ˆæœ‹å‹çš„åŠŸèƒ½é€šè¿‡åˆ¤æ–­å®žçŽ°é‡æ¸©ï¼šå¼ºè¡Œå ä½äº†è¡Œé”ï¼Œç¡®ä¿åœ¨è¡Œé”ä¿æŠ¤ä¸‹è¯»æ“ä½œï¼Œè¿™ä¸ªä¸šåŠ¡ä¸€å®šè¦ç”¨å”¯ä¸€ç´¢å¼•ã€‚å› ä¸ºä¸€å®šä¼šæ’å…¥é‡å¤è®°å½•ã€‚ä¸æ‡‚ï¼š duplicate key sqlè¯­å¥æ˜¯ä»€ä¹ˆä½œç”¨ï¼Ÿä½¿åå‘å…³ç³»ä¸ºä»€ä¹ˆå‡ºçŽ°è¡Œé”å†²çªï¼Œè¿™ä¸ªä¸šåŠ¡ä¸ºä»€ä¹ˆâ€œæˆ‘ä¸€å®šä¼šæ’å…¥é‡å¤æ•°æ®ï¼Œæ•°æ®åº“ä¸€å®šè¦ç”±å”¯ä¸€çº¦æŸâ€ï¼Ÿå”¯ä¸€çº¦æŸæ˜¯ä»€ä¹ˆé€»è¾‘ï¼Œé‡å¤äº†é”®å€¼ï¼Œå”¯ä¸€ç´¢å¼•æ€Žä¹ˆå»ºç«‹ï¼Ÿå›žç­”ï¼šè¯­å¥çš„ä½œç”¨ï¼Œå½“insertå·²ç»å­˜åœ¨çš„è®°å½•æ—¶ï¼Œæ‰§è¡ŒUpdate; å°±æ˜¯A &lt; B å¸¦æ¥çš„å½±å“ï¼Œä¸è¦è¿™ä¹ˆèŠ±é‡Œèƒ¡å“¨ï¼›å› ä¸ºAå’ŒBçš„å€¼ä¸€å®šåœ¨åº“ä¸­ï¼Œå¹¶ä¸”å…³æ³¨åŠ¨ä½œå‘ç”Ÿä¸€å®šè¦æ’å…¥é‡å¤æ•°æ®ï¼Œä¹‹å‰abå’Œbaä½¿ä¸¤ä¸ªä¸åŒæ•°æ®ï¼Œå”¯ä¸€ç´¢å¼•å°±æ˜¯æŒ‡æ™®é€šçš„ é¢å¤–çŸ¥è¯† 1 äº‹åŠ¡çš„æŒä¹…æ€§åŽŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œï¼ŒåŒ…å«åœ¨å…¶ä¸­çš„å¯¹æ•°æ®åº“çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡åº”ç¡®ä¿æ•°æ®åº“çš„çŠ¶æ€ä»Žä¸€ä¸ªä¸€è‡´çŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€ã€‚ä¸€è‡´çŠ¶æ€çš„å«ä¹‰æ˜¯æ•°æ®åº“ä¸­çš„æ•°æ®åº”æ»¡è¶³å®Œæ•´æ€§çº¦æŸã€‚éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œã€‚æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œä»–å¯¹æ•°æ®åº“çš„ä¿®æ”¹åº”è¯¥æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚2 WALæŠ€æœ¯ WALçš„ä¸»è¦æ„æ€æ˜¯è¯´åœ¨å°†å…ƒæ•°æ®çš„å˜æ›´æ“ä½œå†™å…¥åˆ°æŒä¹…ç¨³å®šçš„dbä¹‹å‰ï¼Œå…ˆé¢„å…ˆå†™å…¥åˆ°ä¸€ä¸ªlogä¸­ï¼Œç„¶åŽå†ç”±å¦å¤–çš„æ“ä½œå°†log applyåˆ°å¤–éƒ¨çš„æŒä¹…dbé‡ŒåŽ»ã€‚è¿™ç§æ¨¡å¼ä¼šå‡å°‘æŽ‰æ¯æ¬¡çš„dbå†™å…¥æ“ä½œï¼Œå°¤å…¶å½“ç³»ç»Ÿè¦å¤„ç†å¤§é‡çš„transactionæ“ä½œçš„æ—¶å€™ï¼ŒWALçš„æ–¹å¼ç›¸æ¯”è¾ƒäºŽå®žæ—¶åŒæ­¥dbçš„æ–¹å¼æœ‰ç€æ›´é«˜çš„æ•ˆçŽ‡ã€‚3 æ•°æ®é¡µçº§åˆ«çš„ä¸¢å¤±æˆ‘çŒœæµ‹æ˜¯å†…å­˜æ•°æ®é¡µçº§åˆ«çš„ä¸¢å¤±ï¼Œå› ä¸ºè¿™ä¸ªé—®é¢˜æ˜¯åœ¨redo logä¸å­˜åœ¨çš„æ—¶å€™æå‡ºæ¥ï¼Œbinlogåªèƒ½è®°å½•ç‰©ç†æ“ä½œï¼Œé€»è¾‘ä¸Šçš„æ¢å¤åªèƒ½ä¾é redologï¼Œä»–é€šè¿‡walæŠ€æœ¯la4 æŽ’ä»–é”æŽ’ä»–é”åˆç§°å†™é”ï¼Œå¦‚æžœäº‹åŠ¡Tå¯¹æ•°æ®AåŠ ä¸ŠæŽ’ä»–é”åŽï¼Œåˆ™å…¶ä»–äº‹åŠ¡ä¸èƒ½å†å¯¹AåŠ ä»»ä»»ä½•ç±»åž‹çš„å°é”ã€‚èŽ·å‡†æŽ’ä»–é”çš„äº‹åŠ¡æ—¢èƒ½è¯»æ•°æ®ï¼Œåˆèƒ½ä¿®æ”¹æ•°æ®5 é‡å¤è°ƒç”¨æ—¶çš„å¹‚ç­‰æ€§ã€‚å¹‚ç­‰æ€§åŽŸæœ¬æ˜¯æ•°å­¦ä¸Šçš„æ¦‚å¿µï¼Œå³ä½¿å…¬å¼ï¼šf(x)=f(f(x)) èƒ½å¤Ÿæˆç«‹çš„æ•°å­¦æ€§è´¨ã€‚ç”¨åœ¨ç¼–ç¨‹é¢†åŸŸï¼Œåˆ™æ„ä¸ºå¯¹åŒä¸€ä¸ªç³»ç»Ÿï¼Œä½¿ç”¨åŒæ ·çš„æ¡ä»¶ï¼Œä¸€æ¬¡è¯·æ±‚å’Œé‡å¤çš„å¤šæ¬¡è¯·æ±‚å¯¹ç³»ç»Ÿèµ„æºçš„å½±å“æ˜¯ä¸€è‡´çš„ã€‚å¹‚ç­‰æ€§æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­ååˆ†é‡è¦çš„æ¦‚å¿µï¼Œå…·æœ‰è¿™ä¸€æ€§è´¨çš„æŽ¥å£åœ¨è®¾è®¡æ—¶æ€»æ˜¯ç§‰æŒè¿™æ ·çš„ä¸€ç§ç†å¿µï¼šè°ƒç”¨æŽ¥å£å‘ç”Ÿå¼‚å¸¸å¹¶ä¸”é‡å¤å°è¯•æ—¶ï¼Œæ€»æ˜¯ä¼šé€ æˆç³»ç»Ÿæ‰€æ— æ³•æ‰¿å—çš„æŸå¤±ï¼Œæ‰€ä»¥å¿…é¡»é˜»æ­¢è¿™ç§çŽ°è±¡çš„å‘ç”Ÿã€‚6 å”¯ä¸€ç´¢å¼•ä¸»é”®ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•çš„ç‰¹æ®Šç±»åž‹ã€‚æ•°æ®åº“è¡¨é€šå¸¸æœ‰ä¸€åˆ—æˆ–åˆ—ç»„åˆï¼Œå…¶å€¼ç”¨æ¥å”¯ä¸€æ ‡è¯†è¡¨ä¸­çš„æ¯ä¸€è¡Œã€‚è¯¥åˆ—ç§°ä¸ºè¡¨çš„ä¸»é”®ã€‚åœ¨æ•°æ®åº“å…³ç³»å›¾ä¸­ä¸ºè¡¨å®šä¹‰ä¸€ä¸ªä¸»é”®å°†è‡ªåŠ¨åˆ›å»ºä¸»é”®ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•çš„ç‰¹æ®Šç±»åž‹ã€‚ä¸»é”®ç´¢å¼•è¦æ±‚ä¸»é”®ä¸­çš„æ¯ä¸ªå€¼æ˜¯å”¯ä¸€çš„ã€‚å½“åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ä¸»é”®ç´¢å¼•æ—¶ï¼Œå®ƒè¿˜å…è®¸å¿«é€Ÿè®¿é—®æ•°æ®ã€‚å®ƒä»¬çš„ä¸€äº›æ¯”è¾ƒï¼š(1)å¯¹äºŽä¸»å¥/unique constraint ï¼Œ oracle/sql server/mysqlç­‰éƒ½ä¼šè‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼•ï¼›(2)ä¸»é”®ä¸ä¸€å®šåªåŒ…å«ä¸€ä¸ªå­—æ®µï¼Œæ‰€ä»¥å¦‚æžœä½ åœ¨ä¸»é”®çš„å…¶ä¸­ä¸€ä¸ªå­—æ®µå»ºå”¯ä¸€ç´¢å¼•è¿˜æ˜¯å¿…è¦çš„ï¼›(3)ä¸»å¥å¯ä½œå¤–å¥ï¼Œå”¯ä¸€ç´¢å¼•ä¸å¯ï¼›(4)ä¸»å¥ä¸å¯ä¸ºç©ºï¼Œå”¯ä¸€ç´¢å¼•å¯ï¼›(5)ä¸»å¥ä¹Ÿå¯æ˜¯å¤šä¸ªå­—æ®µçš„ç»„åˆï¼›(6)ä¸»é”®ä¸Žå”¯ä¸€ç´¢å¼•ä¸åŒçš„æ˜¯ï¼ša.æœ‰not nullå±žæ€§ï¼›b.æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªã€‚ 16.â€œorder byâ€æ˜¯æ€Žä¹ˆå·¥ä½œçš„ï¼Ÿè‡ªæˆ‘æ€»ç»“ å…¨å­—æ®µæŽ’åº ç¬¬ä¸€å°è±¡ï¼šå°†å­—æ®µæ•°æ®æ”¾åˆ° sort_buffer ä¸­è¿›è¡ŒæŽ’åºï¼Œæµªè´¹å†…å­˜ï¼Œè¯»è¡¨æ“ä½œè¾ƒå¤šï¼Œä¼šå°†é‡Œé¢æ•°æ®å®Œæ•´æŽ’åºï¼Œåˆ©ç”¨ OPTIMIZER_TRACE å¯ä»¥çœ‹åˆ° number_of_tmp_filesä¸­æ˜¯å¦ä½¿ç”¨äº†ä¸´æ—¶æ–‡ä»¶ã€‚sort_bufferæ¯ä¸ªçº¿ç¨‹å†å†…å­˜ä¸­åˆ†é…ä¸€ä¸ªé‡æ¸©ï¼šåˆ†ä¸º7æ­¥ï¼Œåˆå§‹åŒ– sort_buffer, æ”¾å…¥å­—æ®µï¼Œæ‰¾ç´¢å¼•ï¼Œå›žè¡¨å–å­—æ®µï¼Œç´¢å¼•æ‰¾ä¸‹ä¸€ä¸ªå­—æ®µï¼Œé‡å¤3ã€4ï¼Œsort_bufferæŒ‰nameæŽ’åºï¼Œå°†æŽ’åºç»“æžœå–å‰1000 ç»™å®¢æˆ·ç«¯ã€‚sort_buffer_size å¯ä»¥æŽ§åˆ¶å†…å­˜æŽ’åºå’Œå¤–éƒ¨æŽ’åº rowidæŽ’åº ç¬¬ä¸€å°è±¡ï¼šå°±æ˜¯sort_bufferä¸­åªæœ‰ä¸€ä¸ªè¦æŽ’åºçš„é‚£ä¸ªå­—æ®µï¼Œä½†æ˜¯è¿™æ ·å…ˆè®©ä½ å°±è¦å›žè¡¨ï¼Œå†å°†ç»“æžœé›†è¿”å›žã€‚è§¦å‘è¿™ä¸ªæ“ä½œæ˜¯å› ä¸º MySQL è®¤ä¸ºæŽ’åºçš„å•è¡Œé•¿åº¦å¤ªå¤§äº†ã€‚é‡æ¸©ï¼šæµ‹è¯•æ–¹æ³•å¯ä»¥æŽŒæ¡ï¼Œä¸´æ—¶æ–‡ä»¶å› å­—æ®µé•¿åº¦å˜å°ï¼Œselect @b-@a å˜æˆ5000ï¼Œå› ä¸º4000åœ¨sort_bufferæŽ’åºä¸­è¯»ï¼Œå›žè¡¨è¿˜éœ€è¦è¿›è¡Œè¯»1000è¡Œç»™å®¢æˆ·ç«¯ å…¨å­—æ®µæŽ’åº VS rowidæŽ’åº ç¬¬ä¸€å°è±¡ï¼šâ€œUsing indexâ€ï¼Œè¡¨ç¤ºçš„å°±æ˜¯ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•é‡æ¸©ï¼šè¦†ç›–ç´¢å¼•ï¼ŒæŒ‡ç´¢å¼•ä¸Šçš„ä¿¡æ¯è¶³å¤Ÿæ»¡è¶³æŸ¥è¯¢è¯·æ±‚ï¼Œä¸éœ€è¦å›žåˆ°ä¸»é”®ç´¢å¼•ä¸ŠåŽ»å–æ•°æ®ï¼Œè¿™ä¸ªå°±æ˜¯å°†è¦å–å¾—æ•°æ®æ”¾åˆ°ç´¢å¼•ä¸­å‘—ï¼Œæ²¡ä»€ä¹ˆå¤æ‚çš„ã€‚ å°ç»“&amp;æœ¬æœŸé—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šè¦å­¦ä¼šåˆ†æž order byä¸‹é¢çš„sort_bufferæ“ä½œï¼Œåˆ†æžå‡ºæ¯ä¸ªè¯­å¥çš„æ‰§è¡Œå¯¹ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—ã€‚é‡æ¸©ï¼š 17.å¦‚ä½•æ­£ç¡®åœ°æ˜¾ç¤ºéšæœºæ¶ˆæ¯ï¼Ÿè‡ªæˆ‘æ€»ç»“ å†…å­˜ä¸´æ—¶è¡¨ ç¬¬ä¸€å°è±¡ï¼šå¼•æ“Žæ˜¯memoryã€‚å†…å­˜è¡¨å›žè¡¨åªæ˜¯ç®€å•æ ¹æ®æ•°æ®è¡Œä½ç½®ï¼Œç›´æŽ¥è®¿é—®å¾—åˆ°å†…å­˜ï¼Œæ ¹æœ¬ä¸ä¼šå¯¼è‡´å¤šè®¿é—®ç£ç›˜ã€‚åŽŸè¡¨åˆ°å†…å­˜ä¸´æ—¶è¡¨(10000ï¼ŒæŒ‰ç…§RæŽ’åºï¼Œå› ä¸ºRæ˜¯éšæœºçš„)ï¼Œå†…å­˜ä¸´æ—¶è¡¨åˆ°sort_buffer(10000ï¼Œsorté‡Œé¢ç¬¬äºŒä¸ªå­—æ®µæ˜¯ä½ç½®ä¿¡æ¯ï¼Œä½œè€…è¯´å¾—å¾ˆèŠ±é‡Œèƒ¡å“¨ï¼Œè°ˆåŠäº†ç´¢å¼•ä¸»é”®ï¼Œå…¶å®žå°±æ˜¯ä¸ºäº†æ–¹ä¾¿å–å‡ºæ•°æ®æ—¶ï¼Œæ–¹ä¾¿ä»Žå†…å­˜ä¸´æ—¶è¡¨å–æ•°æ®ã€‚)ï¼Œä»Žä¸´æ—¶è¡¨å–3è¡Œï¼Œæ€»å…±20003ã€‚é‡æ¸©ï¼šmemoryå¼•æ“Žä¸æ˜¯ç´¢å¼•ç»„ç»‡è¡¨ï¼Œä½ å¯ä»¥è®¤ä¸ºå®ƒå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªrowidï¼ˆç»“åˆä¸Šä¸€ç¯‡æ–‡ç« å†…å®¹ï¼‰å…¶å®žå°±æ˜¯æ•°ç»„çš„ä¸‹æ ‡ã€‚mysqlè¡¨æ—¶ç”¨ä»€ä¹ˆæ–¹æ³•å®šä½ä¸€è¡Œæ•°æ®çš„ä¸‹å›¾å¯çŸ¥ï¼Œorder by rand() ä½¿ç”¨äº†å†…å­˜ä¸´æ—¶è¡¨ï¼Œå†…å­˜ä¸´æ—¶è¡¨æŽ’åºçš„æ—¶å€™ä½¿ç”¨äº† rowid æŽ’åºæ–¹æ³•ã€‚ ç£ç›˜ä¸´æ—¶è¡¨ ç¬¬ä¸€å°è±¡ï¼šå¼•æ“Žæ˜¯InnoDBï¼Œtmp_table_sizeè¿™ä¸ªé…ç½®é™åˆ¶äº†å†…å­˜ä¸´æ—¶è¡¨çš„å¤§å°ï¼Œé»˜è®¤å€¼æ˜¯16Mã€‚å¯ä»¥è¯´ sort_buffer_sizeè®¾ç½®æˆ 32768ï¼ˆå¦‚æžœé€‰3ä¸ªç»“æžœï¼Œæ ¹æ®é€‰æ‹©æ•°æ®é‡å†³å®šäº†ä¼˜å…ˆé˜Ÿåˆ—æŽ’åºè¿˜æ˜¯å½’å¹¶æŽ’åºï¼Œæœ¬èº«å¤§å°å†³å®šæœ‰æ— ä¸´æ—¶è¡¨ç”Ÿæˆï¼‰, æŠŠ max_length_for_sort_data è®¾ç½®æˆ16ï¼ˆå†³å®šäº†rowidæŽ’åºè¿˜æ˜¯å…¨å­—æ®µè¿›å…¥sortï¼‰é‡æ¸©ï¼šä¼˜å…ˆé˜Ÿåˆ—å’Œå½’å¹¶ï¼Œè¦çœ‹å †è¿™ä¸ªå¤§å°æ˜¯å¤šå°‘è¡Œï¼Œlimit 1000 çš„è¯ï¼Œæ˜¾ç„¶ç»´æŠ¤å †å¤§å°1000è¡Œï¼Œè¶…è¿‡32768ï¼Œåªèƒ½å€Ÿç”¨ å¤–éƒ¨æ–‡ä»¶æ¥å½’å¹¶æŽ’åºã€‚ éšæœºæŽ’åºæ–¹æ³• ç¬¬ä¸€å°è±¡ï¼šæ‰¾å‡ºæœ€å¤§å€¼ã€æœ€å°å€¼ï¼Œå–å…¶ä¸­çš„éšæœºä¸­é—´å€¼å¯èƒ½å‡ºçŽ°ç©ºæ´žï¼ˆå¯èƒ½å‡ºçŽ°bugï¼‰ï¼Œä½†æ˜¯è¡¨é‡å»ºå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œè¯»å–å…¨è¡Œæ•°ï¼Œå–éšæœºè¡ŒYï¼Œlimit Y,1 å°±æ˜¯è¯»äº†Yè¡Œï¼Œè¿”å›žY+1ï¼Œæ€»æ‰«æ å…¨è¡Œ+Y+1é‡æ¸©ï¼šå…¨è¡Œ+Y+1è¡Œæƒ³æ‰«æè¡Œæ•°å’Œorder by rand()æ‰«æè¡Œæ•°å¾ˆæŽ¥è¿‘ï¼Œä¸ºä»€ä¹ˆè¯´å‰è€…ä»£ä»·å°çš„å¤šå‘¢ï¼Ÿ å°ç»“&amp;æœ¬æœŸé—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šä½¿ç”¨order by rand()ï¼Œè¿™ä¸ªè¯­å¥éœ€è¦Using temporary å’Œ Using filesortï¼ŒæŸ¥è¯¢çš„æ‰§è¡Œä»£ä»·å¾€å¾€æ˜¯æ¯”è¾ƒå¤§çš„ã€‚é‡æ¸©ï¼šæˆ‘ä»¬ä¸æ˜¯ä»…ä»…åœ¨æ•°æ®åº“å†…éƒ¨è§£å†³é—®é¢˜ï¼Œè¿˜ä¼šè®©åº”ç”¨ä»£ç é…åˆæ‹¼æŽ¥SQLè¯­å¥ã€‚åœ¨å®žé™…åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒè§„èŒƒçš„ç”¨æ³•å°±æ˜¯ï¼šå°½é‡å°†ä¸šåŠ¡é€»è¾‘å†™åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œè®©æ•°æ®åº“åªåšâ€œè¯»å†™æ•°æ®â€çš„äº‹æƒ…ã€‚å› æ­¤ï¼Œè¿™ç±»æ–¹æ³•çš„åº”ç”¨è¿˜æ˜¯æ¯”è¾ƒå¹¿æ³›çš„ã€‚æ‰€è°“çš„ rowid æ–¹æ³•ï¼Œå°±æ˜¯æŒ‡å€ŸåŠ©ç¬¬ä¸‰æ–¹æŽ’åºï¼Œå‡ºçŽ°äº†å›žè¡¨æ“ä½œçš„æŽ’åºï¼Œè¿™ä¸ªè¿‡ç¨‹åˆ©ç”¨äº†ä½ç½®ä¿¡æ¯è¿™ä¸ªæ¨¡ç³Šæ¦‚å¿µï¼Œä¸´æ—¶è¡¨æ˜¾ç„¶ç”¨çš„æ›´æ˜Žæ˜¾ï¼Œorder byçš„ä¸´æ—¶è¡¨fâ€™geng é¢å¤–çŸ¥è¯† 1 memoryå¼•æ“Žmemoryå­˜å‚¨å¼•æ“Žç›¸æ¯”å‰é¢çš„ä¸€äº›å­˜å‚¨å¼•æ“Žï¼Œæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå…¶ä½¿ç”¨å­˜å‚¨åœ¨å†…ä»Žä¸­çš„æ•°æ®æ¥åˆ›å»ºè¡¨ï¼Œè€Œä¸”æ‰€æœ‰çš„æ•°æ®ä¹Ÿéƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚æ¯ä¸ªåŸºäºŽmemoryå­˜å‚¨å¼•æ“Žçš„è¡¨å®žé™…å¯¹åº”ä¸€ä¸ªç£ç›˜æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„æ–‡ä»¶åå’Œè¡¨åæ˜¯ç›¸åŒçš„ï¼Œç±»åž‹ä¸º.frmã€‚è¯¥æ–‡ä»¶åªå­˜å‚¨è¡¨çš„ç»“æž„ï¼Œè€Œå…¶æ•°æ®æ–‡ä»¶ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·æœ‰åˆ©äºŽå¯¹æ•°æ®çš„å¿«é€Ÿå¤„ç†ï¼Œæé«˜æ•´ä¸ªè¡¨çš„å¤„ç†èƒ½åŠ›ã€‚memoryå­˜å‚¨å¼•æ“Žé»˜è®¤ä½¿ç”¨å“ˆå¸Œï¼ˆHASHï¼‰ç´¢å¼•ï¼Œå…¶é€Ÿåº¦æ¯”ä½¿ç”¨B-+Treeåž‹è¦å¿«ï¼Œå¦‚æžœè¯»è€…å¸Œæœ›ä½¿ç”¨Bæ ‘åž‹ï¼Œåˆ™åœ¨åˆ›å»ºçš„æ—¶å€™å¯ä»¥å¼•ç”¨ã€‚memoryå­˜å‚¨å¼•æ“Žæ–‡ä»¶æ•°æ®éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¦‚æžœmysqldè¿›ç¨‹å‘ç”Ÿå¼‚å¸¸ï¼Œé‡å¯æˆ–å…³é—­æœºå™¨è¿™äº›æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚æ‰€ä»¥memoryå­˜å‚¨å¼•æ“Žä¸­çš„è¡¨çš„ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­ï¼Œä¸€èˆ¬åªä½¿ç”¨ä¸€æ¬¡2 æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆslow logï¼‰MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯MySQLæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨æ¥è®°å½•åœ¨MySQLä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡long_query_timeå€¼çš„SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long_query_timeçš„é»˜è®¤å€¼ä¸º10ï¼Œæ„æ€æ˜¯è¿è¡Œ10Sä»¥ä¸Šçš„è¯­å¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMysqlæ•°æ®åº“å¹¶ä¸å¯åŠ¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¥è®¾ç½®è¿™ä¸ªå‚æ•°ï¼Œå½“ç„¶ï¼Œå¦‚æžœä¸æ˜¯è°ƒä¼˜éœ€è¦çš„è¯ï¼Œä¸€èˆ¬ä¸å»ºè®®å¯åŠ¨è¯¥å‚æ•°ï¼Œå› ä¸ºå¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ä¼šæˆ–å¤šæˆ–å°‘å¸¦æ¥ä¸€å®šçš„æ€§èƒ½å½±å“ã€‚æ…¢æŸ¥è¯¢æ—¥å¿—æ”¯æŒå°†æ—¥å¿—è®°å½•å†™å…¥æ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒå°†æ—¥å¿—è®°å½•å†™å…¥æ•°æ®åº“è¡¨ã€‚3 prepare+executeçš„æ–¹æ³•é¢„å¤„ç†è¯­å¥ 18.ä¸ºä»€ä¹ˆè¿™äº›SQLè¯­å¥é€»è¾‘ç›¸åŒï¼Œæ€§èƒ½å´å·®å¼‚å·¨å¤§ï¼Ÿè‡ªæˆ‘æ€»ç»“ æ¡ˆä¾‹ä¸€ï¼šæ¡ä»¶å­—æ®µå‡½æ•°æ“ä½œ ç¬¬ä¸€å°è±¡ï¼šMySQL è§„å®šï¼Œå¦‚æžœå¯¹å­—æ®µåšäº†å‡½æ•°æ“ä½œï¼Œå°±ç”¨ä¸ä¸Šç´¢å¼•äº†ã€‚å¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ã€‚ä¼˜åŒ–å™¨ä¼šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚ï¼ˆä½†è¿˜æ˜¯ä¼šä½¿ç”¨ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•è¦å°ï¼Œå¤§å¤šæ•°æƒ…å†µä¼šç”¨åˆ°è¦†ç›–ç´¢å¼•ï¼‰é‡æ¸©ï¼šæ”¹æ­£ where month(t_modified)=7; è¿™ä¸ªè¯­å¥ï¼Œå°±æ˜¯ç”¨ç¬¨æ–¹æ³•ï¼Œ7æœˆä»½å°± &gt;â€™XXXX-7-1â€™ and &lt; â€˜XXXX-8-1â€™ï¼Œä¼˜åŒ–å™¨ç”šè‡³ä¸èƒ½ä¼˜åŒ– where id + 1 = 10000è¿™ä¸ªSQLè¯­å¥ï¼Œåªèƒ½where id = 10000 -1æ‰å¯ä»¥ã€‚ï¼ˆæœ‰ç‚¹è¾£é¸¡ï¼‰ æ¡ˆä¾‹äºŒï¼šéšå¼ç±»åž‹è½¬æ¢ ç¬¬ä¸€å°è±¡ï¼šwhere tradeid=110717; tradeidçš„å­—æ®µç±»åž‹æ˜¯varchar(32)ï¼Œè€Œè¾“å…¥çš„å‚æ•°å´æ˜¯æ•´åž‹ï¼Œæ‰€ä»¥éœ€è¦åšç±»åž‹è½¬æ¢ã€‚CAST(tradid AS signed int) = 110717;é‡æ¸©ï¼š select â€œ10â€ &gt; 9çš„ç»“æžœï¼Œâ€œå°†å­—ç¬¦ä¸²è½¬æˆæ•°å­—â€ï¼Œé‚£ä¹ˆå°±æ˜¯åšæ•°å­—æ¯”è¾ƒï¼Œç»“æžœåº”è¯¥æ˜¯1ï¼›â€œå°†æ•°å­—è½¬æˆå­—ç¬¦ä¸²â€ï¼Œé‚£ä¹ˆå°±æ˜¯åšå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œç»“æžœåº”è¯¥æ˜¯0ã€‚select â€˜aâ€™ = 0 ; çš„ç»“æžœæ˜¯1ï¼Œè¯´æ˜Žæ— æ³•è½¬æ¢æˆæ•°å­—çš„å­—ç¬¦ä¸²éƒ½è¢«è½¬æ¢æˆ0æ¥å¤„ç†äº†ã€‚ æ¡ˆä¾‹ä¸‰ï¼šéšå¼å­—ç¬¦ç¼–ç è½¬æ¢ ç¬¬ä¸€å°è±¡ï¼šç”¨ä¸‹é¢è¿™ç§æ“ä½œæ¥ç†è§£å…³è”ï¼Œä¸¤ä¾§éƒ½å¯èƒ½å‘ç”Ÿè½¬æ¢ï¼ˆå¾€è¶…é›†è½¬æ¢æ˜¯æ ¹æœ¬ï¼‰ï¼Œå½“å·¦ä¾§å‘ç”Ÿè½¬æ¢ï¼Œå°±ä¸èƒ½ä½¿ç”¨ç´¢å¼•äº†ã€‚select l.operator from tradelog l , trade_detail d where d.tradeid=l.tradeid and d.id=4;select operator from tradelog where traideid =$R4.tradeid.value;select operator from tradelog where traideid =CONVERT($R4.tradeid.value USING utf8mb4);é‡æ¸©ï¼šä¼˜åŒ–æ–¹æ³•ï¼Œä¸€ï¼šå°†è¾ƒä½Žçš„è½¬æ¢ç¨‹è¾ƒé«˜çš„è¶…é›†alter table trade_detail modify tradeid varchar(32) CHARACTER SET utf8mb4 default null; //æŠŠtrade_detailè¡¨ä¸Šçš„tradeidå­—æ®µçš„å­—ç¬¦é›†ä¹Ÿæ”¹æˆutf8mb4äºŒï¼šé€šè¿‡SQLè¯­å¥ä¿®æ”¹select d.* from tradelog l , trade_detail d where d.tradeid=CONVERT(l.tradeid USING utf8) and l.id=2; //ä½†å¦‚æžœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œ æˆ–è€…ä¸šåŠ¡ä¸Šæš‚æ—¶ä¸èƒ½åšè¿™ä¸ªDDLçš„è¯ï¼Œé‚£å°±åªèƒ½é‡‡ç”¨ä¿®æ”¹SQLè¯­å¥çš„æ–¹æ³•äº†ã€‚ å°ç»“&amp;æœ¬æœŸé—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šä¸‰ä¸ªæ¡ˆåˆ—ä¸€ä»¶äº‹ï¼šå¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚ç´¢å¼•å­—æ®µä¸èƒ½è¿›è¡Œå‡½æ•°æ“ä½œï¼Œä½†æ˜¯ç´¢å¼•å­—æ®µçš„å‚æ•°å¯ä»¥çŽ©å‡½æ•°ã€‚é‡æ¸©ï¼šæ¯æ¬¡ä½ çš„ä¸šåŠ¡ä»£ç å‡çº§æ—¶ï¼ŒæŠŠå¯èƒ½å‡ºçŽ°çš„ã€æ–°çš„SQLè¯­å¥explainä¸€ä¸‹ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ã€‚ 19.ä¸ºä»€ä¹ˆæˆ‘åªæŸ¥ä¸€è¡Œçš„è¯­å¥ï¼Œä¹Ÿæ‰§è¡Œè¿™ä¹ˆæ…¢ï¼Ÿ 20.å¹»è¯»æ˜¯ä»€ä¹ˆå¹»è¯»æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿè‡ªæˆ‘æ€»ç»“ å¹»è¯»æ˜¯ä»€ä¹ˆï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šå¹»è¯»æŒ‡çš„æ˜¯ä¸€ä¸ªäº‹åŠ¡åœ¨å‰åŽä¸¤æ¬¡æŸ¥è¯¢åŒä¸€ä¸ªèŒƒå›´çš„æ—¶å€™ï¼ŒåŽä¸€æ¬¡æŸ¥è¯¢çœ‹åˆ°äº†å‰ä¸€æ¬¡æŸ¥è¯¢æ²¡æœ‰çœ‹åˆ°çš„è¡Œã€‚åŠ äº†for updateï¼Œéƒ½æ˜¯å½“å‰è¯»ã€‚è€Œå½“å‰è¯»çš„è§„åˆ™ï¼Œå°±æ˜¯è¦èƒ½è¯»åˆ°æ‰€æœ‰å·²ç»æäº¤çš„è®°å½•çš„æœ€æ–°å€¼ã€‚é‡æ¸©ï¼šåœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ™®é€šçš„æŸ¥è¯¢æ˜¯å¿«ç…§è¯»ï¼Œæ˜¯ä¸ä¼šçœ‹åˆ°åˆ«çš„äº‹åŠ¡æ’å…¥çš„æ•°æ®çš„ã€‚å› æ­¤ï¼Œå¹»è¯»åœ¨â€œå½“å‰è¯»â€ä¸‹æ‰ä¼šå‡ºçŽ°ã€‚å¹»è¯»ä»…ä¸“æŒ‡â€œæ–°æ’å…¥çš„è¡Œâ€ã€‚ å¹»è¯»æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ ç¬¬ä¸€å°è±¡ï¼šé¦–å…ˆæ˜¯è¯­ä¹‰ä¸Šçš„ï¼Œâ€œæˆ‘è¦æŠŠæ‰€æœ‰d=5çš„è¡Œé”ä½ï¼Œä¸å‡†åˆ«çš„äº‹åŠ¡è¿›è¡Œè¯»å†™æ“ä½œâ€ã€‚è€Œå®žé™…ä¸Šï¼Œè¿™ä¸ªè¯­ä¹‰è¢«ç ´åäº†ã€‚ï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ã€ï¼ˆ5ï¼Œ5ï¼Œ5ï¼‰ä¸­é”ä½çš„æ˜¯555ï¼Œå¦‚æžœupdate 000ä¸­çš„ä¿¡æ¯å˜æˆ5ï¼Œæ˜¯é”ä¸ä½çš„ã€‚å…¶å®žï¼Œæ˜¯æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚è¿™ä¸ªä¸€è‡´æ€§ï¼Œä¸æ­¢æ˜¯æ•°æ®åº“å†…éƒ¨æ•°æ®çŠ¶æ€åœ¨æ­¤åˆ»çš„ä¸€è‡´æ€§ï¼Œè¿˜åŒ…å«äº†æ•°æ®å’Œæ—¥å¿—åœ¨é€»è¾‘ä¸Šçš„ä¸€è‡´æ€§ã€‚è¿™ä¸ªè¯­å¥åºåˆ—ï¼Œä¸è®ºæ˜¯æ‹¿åˆ°å¤‡åº“åŽ»æ‰§è¡Œï¼Œè¿˜æ˜¯ä»¥åŽç”¨binlogæ¥å…‹éš†ä¸€ä¸ªåº“ï¼Œè¿™ä¸‰è¡Œçš„ç»“æžœï¼Œéƒ½å˜æˆäº† (0,5,100)ã€(1,5,100)å’Œ(5,5,100)ã€‚commitæäº¤è¾ƒæ™šï¼Œå°†å…¶ä¸­å‡ ä¸ªäº‹åŠ¡çš„æ’å…¥æ›´æ–°è¯­å¥çš„ç›¸åº”çš„å€¼æ›´æ–°ä¸ºäº†100ï¼Œé€ æˆäº†æœ€ç»ˆçš„ä¸ä¸€è‡´ã€‚é‡æ¸©ï¼šåŠ å†™é”ï¼Œå¯ä»¥è§£å†³id=0è¿™ä¸€è¡Œæ›´æ–°çš„é—®é¢˜ï¼Œä½†æ˜¯id=1è¿™ä¸€è¡Œè¿˜ä¸å­˜åœ¨ï¼Œä¸å­˜åœ¨ä¹Ÿå°±åŠ ä¸ä¸Šé”ã€‚è§£å†³ä¸äº†id=1è¿™ä¸€è¡Œçš„æ’å…¥é—®é¢˜ã€‚å³ä½¿æŠŠæ‰€æœ‰çš„è®°å½•éƒ½åŠ ä¸Šé”ï¼Œè¿˜æ˜¯é˜»æ­¢ä¸äº†æ–°æ’å…¥çš„è®°å½•ã€‚ å¦‚ä½•è§£å†³å¹»è¯»ï¼Ÿï¼ˆInnoDBï¼‰ ç¬¬ä¸€å°è±¡ï¼šInnoDBåªå¥½å¼•å…¥æ–°çš„é”ï¼Œä¹Ÿå°±æ˜¯é—´éš™é”(Gap Lock)ã€‚é—´éš™é”ï¼Œé”çš„å°±æ˜¯ä¸¤ä¸ªå€¼ä¹‹é—´çš„ç©ºéš™ã€‚è·Ÿè¡Œé”æœ‰å†²çªå…³ç³»çš„æ˜¯â€œå¦å¤–ä¸€ä¸ªè¡Œé”â€ã€‚ä½†æ˜¯é—´éš™é”ä¸ä¸€æ ·ï¼Œè·Ÿé—´éš™é”å­˜åœ¨å†²çªå…³ç³»çš„ï¼Œæ˜¯â€œå¾€è¿™ä¸ªé—´éš™ä¸­æ’å…¥ä¸€ä¸ªè®°å½•â€è¿™ä¸ªæ“ä½œã€‚é—´éš™é”ä¹‹é—´éƒ½ä¸å­˜åœ¨å†²çªå…³ç³»ã€‚é‡æ¸©ï¼šé—´éš™é”å’Œè¡Œé”åˆç§°next-key lockï¼Œæ¯ä¸ªnext-key lockæ˜¯å‰å¼€åŽé—­åŒºé—´ã€‚InnoDBç»™æ¯ä¸ªç´¢å¼•åŠ äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æœ€å¤§å€¼supremumï¼Œè¿™æ ·æ‰ç¬¦åˆæˆ‘ä»¬å‰é¢è¯´çš„â€œéƒ½æ˜¯å‰å¼€åŽé—­åŒºé—´â€ã€‚é—´éš™é”å’Œnext-key lockçš„å¼•å…¥ï¼Œå¸®æˆ‘ä»¬è§£å†³äº†å¹»è¯»çš„é—®é¢˜ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›â€œå›°æ‰°â€ã€‚ä»»æ„é”ä½ä¸€è¡Œï¼Œå¦‚æžœè¿™ä¸€è¡Œä¸å­˜åœ¨çš„è¯å°±æ’å…¥ï¼Œå¦‚æžœå­˜åœ¨è¿™ä¸€è¡Œå°±æ›´æ–°å®ƒçš„æ•°æ®ã€‚è¿™ä¸ªä¸šåŠ¡åœ¨é—´éš™é”çš„é€»è¾‘ä¸‹å¹¶å‘å‡ºçŽ°æ­»é”ã€‚é—´éš™é”çš„å¼•å…¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´åŒæ ·çš„è¯­å¥é”ä½æ›´å¤§çš„èŒƒå›´ï¼Œè¿™å…¶å®žæ˜¯å½±å“äº†å¹¶å‘åº¦çš„ã€‚é—´éš™é”æ˜¯åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹æ‰ä¼šç”Ÿæ•ˆçš„ã€‚æ‰€ä»¥ï¼Œä½ å¦‚æžœæŠŠéš”ç¦»çº§åˆ«è®¾ç½®ä¸ºè¯»æäº¤çš„è¯ï¼Œå°±æ²¡æœ‰é—´éš™é”äº†ã€‚ä½†åŒæ—¶ï¼Œä½ è¦è§£å†³å¯èƒ½å‡ºçŽ°çš„æ•°æ®å’Œæ—¥å¿—ä¸ä¸€è‡´é—®é¢˜ï¼Œéœ€è¦æŠŠbinlogæ ¼å¼è®¾ç½®ä¸ºrowã€‚è¿™ï¼Œä¹Ÿæ˜¯çŽ°åœ¨ä¸å°‘å…¬å¸ä½¿ç”¨çš„é…ç½®ç»„åˆã€‚ å°ç»“&amp;æœ¬æœŸé—®é¢˜ ç¬¬ä¸€å°è±¡ï¼šæˆ‘ä»¬å‘çŽ°å³ä½¿ç»™æ‰€æœ‰çš„è¡Œéƒ½åŠ ä¸Šè¡Œé”ï¼Œä»ç„¶æ— æ³•è§£å†³å¹»è¯»é—®é¢˜ï¼Œå› æ­¤å¼•å…¥äº†é—´éš™é”çš„æ¦‚å¿µã€‚è¡Œé”ç¡®å®žæ¯”è¾ƒç›´è§‚ï¼Œåˆ¤æ–­è§„åˆ™ä¹Ÿç›¸å¯¹ç®€å•ï¼Œé—´éš™é”çš„å¼•å…¥ä¼šå½±å“ç³»ç»Ÿçš„å¹¶å‘åº¦ï¼Œä¹Ÿå¢žåŠ äº†é”åˆ†æžçš„å¤æ‚åº¦ï¼Œä½†ä¹Ÿæœ‰ç« å¯å¾ªã€‚é‡æ¸©ï¼šè¿™é‡Œsession Bå’Œsession Cçš„insert è¯­å¥éƒ½ä¼šè¿›å…¥é”ç­‰å¾…çŠ¶æ€ã€‚ä½ å¯ä»¥è¯•ç€åˆ†æžä¸€ä¸‹ï¼Œå‡ºçŽ°è¿™ç§æƒ…å†µçš„åŽŸå› æ˜¯ä»€ä¹ˆï¼Ÿ]]></content>
      <categories>
        <category>mysql</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Java è™šæ‹Ÿæœºæ˜¯å¦‚ä½•åŠ è½½Javaç±»çš„]]></title>
    <url>%2F2019%2F10%2Fyuque%2Flgicea%2F</url>
    <content type="text"><![CDATA[è„‘å­ç¬¨ï¼Œè¿˜æ˜¯æ‹ä¸€æ‹ é—®é¢˜æå‡ºé€šè¿‡ JVM å‚æ•° -verbose:class æ¥æ‰“å°ç±»åŠ è½½çš„å…ˆåŽé¡ºåºï¼Œå¹¶ä¸”åœ¨ LazyHolder çš„åˆå§‹åŒ–æ–¹æ³•ä¸­æ‰“å°ç‰¹å®šå­—æ ·ã€‚åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä¸‹è¿°æŒ‡ä»¤ï¼ˆä¸åŒ…å«æç¤ºç¬¦ $ï¼‰ï¼š123456789101112131415161718192021$ echo 'public class Singleton &#123;private Singleton() &#123;&#125;private static class LazyHolder &#123;static final Singleton INSTANCE = new Singleton();static &#123;System.out.println("LazyHolder.&lt;clinit&gt;");&#125;&#125;public static Object getInstance(boolean flag) &#123;if (flag) return new LazyHolder[2];return LazyHolder.INSTANCE;&#125;public static void main(String[] args) &#123;getInstance(true);System.out.println("----");getInstance(false);&#125;&#125;' &gt; Singleton.java$ javac Singleton.java$ java -verbose:class Singleton é—®é¢˜ 1ï¼šæ–°å»ºæ•°ç»„ï¼ˆç¬¬ 11 è¡Œï¼‰ä¼šå¯¼è‡´ LazyHolder çš„åŠ è½½å—ï¼Ÿä¼šå¯¼è‡´å®ƒçš„åˆå§‹åŒ–å—ï¼Ÿåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä¸‹è¿°æŒ‡ä»¤ï¼ˆä¸åŒ…å«æç¤ºç¬¦ $ï¼‰ï¼š1234$ java -cp /path/to/asmtools.jar org.openjdk.asmtools.jdis.Main Singleton\$LazyHolder.class &gt; Singleton\$LazyHolder.jasm.1$ awk 'NR==1,/stack 1/&#123;sub(/stack 1/, "stack 0")&#125; 1' Singleton\$LazyHolder.jasm.1 &gt; Singleton\$LazyHolder.jasm$ java -cp /path/to/asmtools.jar org.openjdk.asmtools.jasm.Main Singleton\$LazyHolder.jasm$ java -verbose:class Singleton é—®é¢˜ 2ï¼šæ–°å»ºæ•°ç»„ä¼šå¯¼è‡´ LazyHolder çš„é“¾æŽ¥å—ï¼Ÿ è¿‡ç¨‹æ€»ç»“ åŠ è½½æ˜¯æŒ‡æŸ¥æ‰¾å­—èŠ‚æµï¼Œå¹¶ä¸”æ®æ­¤åˆ›å»ºç±»çš„è¿‡ç¨‹ã€‚åŠ è½½éœ€è¦å€ŸåŠ©ç±»åŠ è½½å™¨ï¼Œåœ¨ Java è™šæ‹Ÿæœºä¸­ï¼Œç±»åŠ è½½å™¨ä½¿ç”¨äº†åŒäº²å§”æ´¾æ¨¡åž‹ï¼Œå³æŽ¥æ”¶åˆ°åŠ è½½è¯·æ±‚æ—¶ï¼Œä¼šå…ˆå°†è¯·æ±‚è½¬å‘ç»™çˆ¶ç±»åŠ è½½å™¨ã€‚é“¾æŽ¥ï¼Œæ˜¯æŒ‡å°†åˆ›å»ºæˆçš„ç±»åˆå¹¶è‡³ Java è™šæ‹Ÿæœºä¸­ï¼Œä½¿ä¹‹èƒ½å¤Ÿæ‰§è¡Œçš„è¿‡ç¨‹ã€‚é“¾æŽ¥è¿˜åˆ†éªŒè¯ã€å‡†å¤‡å’Œè§£æžä¸‰ä¸ªé˜¶æ®µã€‚å…¶ä¸­ï¼Œè§£æžé˜¶æ®µä¸ºéžå¿…é¡»çš„ã€‚åˆå§‹åŒ–ï¼Œåˆ™æ˜¯ä¸ºæ ‡è®°ä¸ºå¸¸é‡å€¼çš„å­—æ®µèµ‹å€¼ï¼Œä»¥åŠæ‰§è¡Œ &lt; clinit &gt; æ–¹æ³•çš„è¿‡ç¨‹ã€‚ç±»çš„åˆå§‹åŒ–ä»…ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™ä¸ªç‰¹æ€§è¢«ç”¨æ¥å®žçŽ°å•ä¾‹çš„å»¶è¿Ÿåˆå§‹åŒ–ã€‚â€”å¼•ç”¨è‡ªæžå®¢æ—¶é—´ è¿è¡Œåˆ†æž123456789101112131415161718public class Singleton &#123; private Singleton() &#123;&#125; private static class LazyHolder &#123; static final Singleton INSTANCE = new Singleton(); static &#123; System.out.println("LazyHolder.&lt;clinit&gt;"); &#125; &#125; public static Object getInstance(boolean flag) &#123; if (flag) return new LazyHolder[2]; return LazyHolder.INSTANCE; &#125; public static void main(String[] args) &#123; getInstance(true); System.out.println("----"); getInstance(false); &#125;&#125; æ”¹åŠ¨å‰ï¼šæ”¹åŠ¨åŽï¼šæ˜¾ç„¶å¯ä»¥çœ‹åˆ°ï¼Œæ–°å»ºæ•°ç»„æ˜¯ä¸å¯ä»¥åˆå§‹åŒ–å…ƒç´ ç±» LazyHolderï¼Œå› ä¸ºæ²¡æœ‰è¾“å‡ºè¯­å¥ â€œLazyHolder.â€œ ï¼Œè€Œä½¿ç”¨LazyHolder.INSTANCE æ˜¾ç„¶å¯ä»¥åˆå§‹åŒ–å…ƒç´ ç±» LazyHolderã€‚å…·ä½“å¯ä»¥å‚è€ƒå•ä¾‹æ¨¡å¼çš„å®žçŽ°ï¼Œè§ä¸‹é¢çš„åŽŸæ–‡åˆ†æžã€‚123456789public class Singleton &#123; private Singleton() &#123;&#125; private static class LazyHolder &#123; static final Singleton INSTANCE = new Singleton(); &#125; public static Singleton getInstance() &#123; return LazyHolder.INSTANCE; &#125;&#125; æˆ‘åœ¨æ–‡ç« ä¸­è´´äº†ä¸€æ®µä»£ç ï¼Œè¿™æ®µä»£ç æ˜¯åœ¨è‘—åçš„å•ä¾‹å»¶è¿Ÿåˆå§‹åŒ–ä¾‹å­ä¸­2ï¼Œåªæœ‰å½“è°ƒç”¨ Singleton.getInstance æ—¶ï¼Œç¨‹åºæ‰ä¼šè®¿é—® LazyHolder.INSTANCEï¼Œæ‰ä¼šè§¦å‘å¯¹ LazyHolder çš„åˆå§‹åŒ–ï¼ˆå¯¹åº”ç¬¬ 4 ç§æƒ…å†µï¼‰ï¼Œç»§è€Œæ–°å»ºä¸€ä¸ª Singleton çš„å®žä¾‹ã€‚ æˆªå›¾ä¸­æ˜¾ç„¶ä¹Ÿèƒ½çœ‹åˆ°æ˜¯åŠ è½½äº†ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰ç»è¿‡é“¾æŽ¥é˜¶æ®µå‘¢ï¼Ÿè¿™å°±å¾ˆå…³é”®äº†ï¼å¦‚æžœç»è¿‡äº†é“¾æŽ¥ï¼Œåˆåˆ°äº†éªŒè¯ã€å‡†å¤‡ã€è§£æžçš„å“ªä¸ªé˜¶æ®µå‘¢ï¼Ÿ ä½œä¸šåˆ†æžä»Žç»“æžœæ¥çœ‹ï¼ŒæŠ¥é”™æ˜¯å› ä¸º awk æŠŠå­—èŠ‚ç æ”¹ä¸ºä¸ç¬¦åˆ jvm è§„èŒƒï¼Œä¸ç¬¦åˆè§„èŒƒä¼šåœ¨éªŒè¯é˜¶æ®µå‘ç”ŸæŠ¥é”™ã€‚è€Œåœ¨è¿è¡Œ getInstance(true); æ—¶ï¼Œå¹¶æœªå‡ºçŽ°é”™è¯¯ï¼Œè€Œä¸” System.out.println(â€œâ€”-â€œ); èƒ½æ­£å¸¸è¿è¡Œï¼Œè¯æ˜Žæ–°å»ºæ•°ç»„æ ¹æœ¬æ²¡æœ‰è¿›è¡Œé“¾æŽ¥ï¼Œå› ä¸ºå®ƒæ ¹æœ¬æ²¡æœ‰éªŒè¯é˜¶æ®µã€‚è€Œ getInstance(false) å‡ºçŽ°æŠ¥é”™è¯­å¥ï¼Œè¯æ˜Žåˆ°äº†è¿™é‡Œæ‰çœŸæ­£è¿›è¡Œäº†é“¾æŽ¥å’Œåˆå§‹åŒ–ï¼Œç”±æ­¤å¯å¾—ï¼Œæ–°å»ºæ•°ç»„ä¼šåŠ è½½å…ƒç´ ç±»LazyHolderï¼Œä½†ä¸ä¼šé“¾æŽ¥å’Œåˆå§‹åŒ–ï¼Œè€Œ return LazyHolder.INSTANCE; ä¼šåŠ è½½ã€é“¾æŽ¥å’Œåˆå§‹åŒ–ï¼Œè¿™ä¹Ÿç¬¦åˆä½œä¸šæç¤ºçš„å…³äºŽå•ä¾‹æ¨¡å¼çº¿ç¨‹å®‰å…¨çš„åŽŸå› ã€‚é‚£ä¹ˆä»Ž Java Singleton å¯è§æŠ¥é”™å‡ºçŽ°åœ¨11è¡Œï¼Œä»£ç ä¸­ç¡®å®žæŒ‡å‘äº† return LazyHolder.INSTANCEï¼› æŽ¥ä¸‹æ¥ï¼Œä»Žç»“æžœå¾€å‰æŽ¨æ¼”ï¼Œå¯ä»¥å¾—åˆ°å‡ ä¸ªé—®é¢˜ï¼š æ–°å»ºæ•°ç»„ç±»ä¸ºä»€ä¹ˆåªåŠ è½½è€Œä¸è¿›è¡Œé“¾æŽ¥å’Œåˆå§‹åŒ–ï¼Ÿ LazyHolder.INSTANCE; ä¸ºä»€ä¹ˆä¼šè¿›è¡Œé“¾æŽ¥å’Œåˆå§‹åŒ–ï¼Ÿ è¦æžæ¸…æ¥šè¿™äº›é—®é¢˜å¿…ç„¶è¦æ€è€ƒåŠ è½½ã€é“¾æŽ¥å’Œåˆå§‹åŒ–è§¦å‘çš„æ¡ä»¶ã€‚å¼•ç”¨åŽŸæ–‡çš„è¯ï¼ˆä¸‹é¢éƒ½æ˜¯æˆ‘çš„çŒœæµ‹ï¼‰ï¼š åœ¨ class æ–‡ä»¶è¢«åŠ è½½è‡³ Java è™šæ‹Ÿæœºä¹‹å‰ï¼Œè¿™ä¸ªç±»æ— æ³•çŸ¥é“å…¶ä»–ç±»åŠå…¶æ–¹æ³•ã€å­—æ®µæ‰€å¯¹åº”çš„å…·ä½“åœ°å€ï¼Œç”šè‡³ä¸çŸ¥é“è‡ªå·±æ–¹æ³•ã€å­—æ®µçš„åœ°å€ã€‚å› æ­¤ï¼Œæ¯å½“éœ€è¦å¼•ç”¨è¿™äº›æˆå‘˜æ—¶ï¼ŒJava ç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªç¬¦å·å¼•ç”¨ã€‚åœ¨è¿è¡Œé˜¶æ®µï¼Œè¿™ä¸ªç¬¦å·å¼•ç”¨ä¸€èˆ¬éƒ½èƒ½å¤Ÿæ— æ­§ä¹‰åœ°å®šä½åˆ°å…·ä½“ç›®æ ‡ä¸Šã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºŽä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«ç›®æ ‡æ–¹æ³•æ‰€åœ¨ç±»çš„åå­—ã€ç›®æ ‡æ–¹æ³•çš„åå­—ã€æŽ¥æ”¶å‚æ•°ç±»åž‹ä»¥åŠè¿”å›žå€¼ç±»åž‹çš„ç¬¦å·å¼•ç”¨ï¼Œæ¥æŒ‡ä»£æ‰€è¦è°ƒç”¨çš„æ–¹æ³•ã€‚è§£æžé˜¶æ®µçš„ç›®çš„ï¼Œæ­£æ˜¯å°†è¿™äº›ç¬¦å·å¼•ç”¨è§£æžæˆä¸ºå®žé™…å¼•ç”¨ã€‚å¦‚æžœç¬¦å·å¼•ç”¨æŒ‡å‘ä¸€ä¸ªæœªè¢«åŠ è½½çš„ç±»ï¼Œæˆ–è€…æœªè¢«åŠ è½½ç±»çš„å­—æ®µæˆ–æ–¹æ³•ï¼Œé‚£ä¹ˆè§£æžå°†è§¦å‘è¿™ä¸ªç±»çš„åŠ è½½ï¼ˆä½†æœªå¿…è§¦å‘è¿™ä¸ªç±»çš„é“¾æŽ¥ä»¥åŠåˆå§‹åŒ–ã€‚ï¼‰â€”å¼•ç”¨è‡ªæžå®¢æ—¶é—´ ä»Žä¸Šé¢çš„è¯åˆ†æžï¼Œreturn new LazyHolder[2]; return LazyHolder.INSTANCE; åœ¨ Singleton ç±»è¢«è§£æžæ—¶éƒ½ä¼šå°† å…³äºŽ LazyHolde ç±»çš„ç¬¦å·å¼•ç”¨è§£æžä¸ºå®žé™…å¼•ç”¨ã€‚å¹¶ä¸”è§¦å‘è¿™ä¸ªç±»çš„åŠ è½½ã€‚å¯ä»¥åˆ†æžå‡ºæ¥çš„æ˜¯ï¼Œæœ¬ä¾‹ä¸­åªæœ‰åœ¨ main ä¸­å®žé™…è¿è¡Œè¿è¡ŒçŠ¶æ€ä¸­æ‰ä¼šè§¦å‘ LazyHolder ç±»çš„é“¾æŽ¥å’Œåˆå§‹åŒ–ã€‚ é‚£ä¹ˆï¼Œç±»çš„åˆå§‹åŒ–ä½•æ—¶ä¼šè¢«è§¦å‘å‘¢ï¼ŸJVM è§„èŒƒæžšä¸¾äº†ä¸‹è¿°å¤šç§è§¦å‘æƒ…å†µï¼š å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œåˆå§‹åŒ–ç”¨æˆ·æŒ‡å®šçš„ä¸»ç±»ï¼› å½“é‡åˆ°ç”¨ä»¥æ–°å»ºç›®æ ‡ç±»å®žä¾‹çš„ new æŒ‡ä»¤æ—¶ï¼Œåˆå§‹åŒ– new æŒ‡ä»¤çš„ç›®æ ‡ç±»ï¼› å½“é‡åˆ°è°ƒç”¨é™æ€æ–¹æ³•çš„æŒ‡ä»¤æ—¶ï¼Œåˆå§‹åŒ–è¯¥é™æ€æ–¹æ³•æ‰€åœ¨çš„ç±»ï¼› å½“é‡åˆ°è®¿é—®é™æ€å­—æ®µçš„æŒ‡ä»¤æ—¶ï¼Œåˆå§‹åŒ–è¯¥é™æ€å­—æ®µæ‰€åœ¨çš„ç±»ï¼› å­ç±»çš„åˆå§‹åŒ–ä¼šè§¦å‘çˆ¶ç±»çš„åˆå§‹åŒ–ï¼› å¦‚æžœä¸€ä¸ªæŽ¥å£å®šä¹‰äº† default æ–¹æ³•ï¼Œé‚£ä¹ˆç›´æŽ¥å®žçŽ°æˆ–è€…é—´æŽ¥å®žçŽ°è¯¥æŽ¥å£çš„ç±»çš„åˆå§‹åŒ–ï¼Œä¼šè§¦å‘è¯¥æŽ¥å£çš„åˆå§‹åŒ–ï¼› ä½¿ç”¨åå°„ API å¯¹æŸä¸ªç±»è¿›è¡Œåå°„è°ƒç”¨æ—¶ï¼Œåˆå§‹åŒ–è¿™ä¸ªç±»ï¼› å½“åˆæ¬¡è°ƒç”¨ MethodHandle å®žä¾‹æ—¶ï¼Œåˆå§‹åŒ–è¯¥ MethodHandle æŒ‡å‘çš„æ–¹æ³•æ‰€åœ¨çš„ç±»ã€‚ ç»“åˆä½œä¸šå…³äºŽå•ä¾‹æ¨¡å¼çš„åˆ†æžï¼Œæˆ‘ä»¬å¯ä»¥æ˜Žæ˜¾çœ‹å‡ºï¼Œä½œä¸šä¸­ LazyHolder.INSTANCE è¯­å¥ä¹Ÿæ˜¯å¯¹ LazyHolder çš„åˆå§‹åŒ–ï¼ˆå¯¹åº”ç¬¬ 4 ç§æƒ…å†µï¼‰ã€‚new LazyHolder[2] åŽ‹æ ¹ä¸ä¼šè¿›è¡Œé“¾æŽ¥ã€‚å› ä¸ºå­¦çš„ä¸æ·±ï¼Œæš‚ä¸”çŒœæµ‹ï¼šè§£æžé˜¶æ®µï¼Œç¬¦å·å¼•ç”¨è§£æžæˆå®žé™…å¼•ç”¨ï¼Œä¸€èˆ¬éƒ½ä¼šè§¦å‘ç±»çš„åŠ è½½ã€é“¾æŽ¥å’Œåˆå§‹åŒ–ã€‚LazyHolder[2] ä¸ä¼šè¿›è¡Œé“¾æŽ¥å¯èƒ½å› ä¸ºè¿™æ®µä»£ç æ˜¯å•ä¾‹æƒ…å½¢(static final)ï¼Œç”Ÿæˆ Singleton çš„ç±»åªèƒ½æœ‰ä¸€ä¸ªï¼Œè€Œ LazyHolder[2] æ•°ç»„ç±»æ˜¯ç”± Java è™šæ‹Ÿæœºç›´æŽ¥ç”Ÿæˆçš„(æ–‡ä¸­è¯´è¿‡ï¼Œæ•°ç»„ç±»æ²¡æœ‰ç›¸åº”çš„å­—èŠ‚æµ)ï¼Œè™šæ‹Ÿæœºå› ä¸ºå•ä¾‹æƒ…å½¢(static final)ï¼Œä¸­æ–­äº†å¯¹å…¶çš„é“¾æŽ¥å’Œåˆå§‹åŒ–ã€‚ æ€»ç»“ä¸åšå¤§ä½¬ç»™çš„ä½œä¸šï¼Œæˆ‘æ˜¯æ— æ³•æ¶ˆåŒ–å¯¹æˆ‘æ¥è¯´æ¯”è¾ƒå¤šçš„çŸ¥è¯†ç‚¹ã€‚ä½œè€…çš„ç›®çš„æ˜¾ç„¶ä¹Ÿæ˜¯æƒ³è®©æˆ‘ä»¬æžæ‡‚ã€è®°ä½åŸºæœ¬çš„æµç¨‹ï¼Œå¤§ä½¬çš„ä¸€æ¬¡ä½œä¸šåšä¸€éï¼Œé¡¶å¾—ä¸Šçœ‹åé(è™½ç„¶ç¡®å®žæœ‰ç‚¹éš¾å•ƒ)ã€‚ç­”æ¡ˆå¼•ç”¨æŸå¤§ä½¬çš„è¯„è®ºï¼š æ›´å¤šç»†èŠ‚è¯„è®ºä¸­æŒ‡å‡ºï¼š -XX:+TraceClassLoading å¯ä»¥çœ‹åˆ°ç±»åŠ è½½è¿‡ç¨‹(æ³¨ï¼šIDEä½¿ç”¨æ­¤å‚æ•°å’Œ java -verbose:class Singleton æ‰‹åŠ¨ç¼–è¯‘æ•ˆæžœä¸€æ ·) ä½œè€…åˆ—å‡ºçš„å‡ ç§æƒ…å†µéƒ½å±žäºŽä¸»åŠ¨ä½¿ç”¨ç±»ã€‚æ„Ÿè§‰åº”è¯¥æœ‰è¢«åŠ¨ä½¿ç”¨çš„ä¸¾ä¾‹ï¼Œå¹¶å‘ŠçŸ¥å¤§å®¶è¿™æ ·åšæ˜¯ä¸ä¼šæ‰§è¡Œåˆå§‹åŒ–çš„ åœ¨åŠ è½½é˜¶æ®µå°±å·²ç»ç”Ÿæˆclassç»“æž„äº†ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºåº”è¯¥å·²ç»å†™å…¥äº†æ–¹æ³•åŒºï¼Œåªæ˜¯è¢«æ ‡è®°ä¸ºæœªé“¾æŽ¥è€Œæš‚ä¸èƒ½ä½¿ç”¨ã€‚ æ‚¨åœ¨è¯„è®ºå›žå¤è¯´.classåœ¨åŠ è½½åŽå·²ç»å†™å…¥æ–¹æ³•åŒºï¼ˆå…ƒç©ºé—´ï¼‰ï¼Œä½†æ˜¯æˆ‘ç†è§£åœ¨æ–¹æ³•åŒºé‡Œç±»ä»£ç çš„æ–¹æ³•è°ƒç”¨åº”è¯¥æ˜¯å®žé™…çš„è°ƒç”¨åœ°å€å§ï¼Ÿè€Œå–å¾—å®žé™…è°ƒç”¨åœ°å€ä¸æ˜¯åœ¨é“¾æŽ¥é˜¶æ®µå—ï¼Ÿè¿™é‡Œä¸å¤ªç†è§£ï¼Œæ±‚è§£ç­”ï½ž å›žå¤ï¼šé“¾æŽ¥æ—¶å–å¾—çš„ä¸æ˜¯è¢«åŠ è½½ç±»çš„åœ°å€ï¼Œè€Œä¸”è¢«åŠ è½½ç±»æ‰€è°ƒç”¨çš„å…¶å®ƒæ–¹æ³•çš„åœ°å€ã€‚ ç±»ä¸­çš„é™æ€å­—æ®µï¼Œå¦‚æžœæ²¡æœ‰è¢«jvmæ ‡è®°ä¸ºå¸¸é‡ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†å†…å­˜æ˜¯å¦‚ä½•åˆ†é…çš„ï¼Ÿ å›žå¤ï¼šJVMéƒ½ä¼šåˆ†é…å†…å­˜çš„ï¼Œåªæ˜¯åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯JVMç›´æŽ¥èµ‹å€¼ï¼Œä¸€ä¸ªæ˜¯åœ¨clinitæ–¹æ³•ä¸­èµ‹å€¼ Javaä¸­æ‰€æœ‰çš„éžç§æœ‰å®žä¾‹æ–¹æ³•ï¼Œéƒ½ç®—æ˜¯è™šæ–¹æ³•ã€‚è°ƒç”¨è¿™äº›æ–¹æ³•çš„æŒ‡ä»¤ï¼Œä¹ŸåŒºåˆ†ç›´æŽ¥è°ƒç”¨å’Œè™šè°ƒç”¨ è¢«finalä¿®é¥°çš„é™æ€æˆå‘˜å˜é‡ï¼Œå¦‚æžœä¸æ˜¯åŸºæœ¬ç±»åž‹æˆ–è€…å­—ç¬¦ä¸²ï¼Œä¹Ÿä¼šæ”¾åœ¨clinit æ¥åš æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»ï¼Œæ˜¯å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆXï¼‰è¿™é‡Œæˆ‘æŒ‡çš„æ˜¯æ‰©å±•å™¨ç±»çš„ çˆ¶-ç±»åŠ è½½å™¨ï¼Œè€Œä¸æ˜¯çˆ¶ç±»-(åŠ è½½å™¨)ã€‚ åŒé‡æ£€æŸ¥é”å®šæ¨¡å¼çš„æ½œåœ¨é—®é¢˜ æ— è§£ç­” å…³äºŽç±»åˆå§‹åŒ–å’Œç±»å®žä¾‹åŒ–æœ‰å“ªäº›åŒºåˆ«å‘¢ï¼Ÿ åŠ è½½çš„å­—èŠ‚ç æœ€ç»ˆéƒ½è¢«è½¬æ¢ä¸ºäº†é‚£äº›å†…å®¹ï¼Œéƒ½æ”¾åˆ°äº†å“ªé‡Œï¼Œæ‰§è¡Œæ—¶å€™å¦‚ä½•è¿›è¡Œé“¾æŽ¥çš„ï¼Œå¦‚ä½•åŽ»æŸ¥æ‰¾åˆ°çš„å¼•ç”¨å¯¹è±¡çš„ ç±»çš„classæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹å…¨éƒ¨ä¼šè¢«åŠ è½½åˆ°æ–¹æ³•åŒºä¸­ï¼Œè¿˜æ˜¯classä¸­çš„æ–¹æ³•è¢«åŠ è½½åˆ°æ–¹æ³•åŒº ç±»åŠ è½½æ—¶å¦‚æžœå¼•ç”¨å¦å¤–ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¼šå…ˆåŠ è½½ï¼Œé‚£ä¹ˆè¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æžœå¾ªçŽ¯å¼•ç”¨å‘¢ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Ÿ ç±»åŠ è½½æ—¶å€™åŠ é” å¦‚æžœåœ¨é‡Œé¢è¿›è¡Œå¤šçº¿ç¨‹å›žå‡ºçŽ°æ­»é” è¯·è€å¸ˆå…·ä½“è®²è§£ä¸‹ æ›´å¤šå¥½çš„æ€»ç»“ï¼šæŽ˜é‡‘ï¼šæ·±å…¥ç†è§£ Java ç±»åŠ è½½æœºåˆ¶æŽ˜é‡‘ï¼šJavaç±»åŠ è½½æœºåˆ¶ï¼ˆå…¨å¥—ï¼‰]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SpringBootå­¦ä¹ ç¬”è®°(ä¸€)]]></title>
    <url>%2F2019%2F08%2Fyuque%2Fgo8ivm%2F</url>
    <content type="text"><![CDATA[SpringBootå­¦ä¹ ç¬”è®° åŸºç¡€çŸ¥è¯†å…ˆçœ‹ä¸€ä¸‹æ˜“ç™¾æ•™ç¨‹ã€å­¦ä¹ äº†æ…•è¯¾ç½‘ä¸Šçš„å…è´¹çš„ SpringBoot+MyBatisæ­å»ºè¿·ä½ å°ç¨‹åºè¯¾ç¨‹ã€ä¹Ÿå¯ä»¥å­¦ä¹ ä»˜è´¹çš„JavaåŒç‰ˆæœ¬ï¼ˆSSMåˆ°SpringBootï¼‰æ ¡å›­å•†é“ºå…¨æ ˆå¼€å‘è¯¾ç¨‹ï¼ˆä¹Ÿå¯ä»¥ä¸å­¦ï¼‰ï¼Œçœ‹å®Œäº†ä¹‹åŽå°±æ˜¯åŠ¨æ‰‹å®žæˆ˜äº†ï¼Œç»“åˆPostmanå’Œæ˜“ç™¾æ•™ç¨‹ï¼ˆæ¯”è¾ƒä¼˜ç§€ï¼‰ï¼Œäº†è§£ä¸€äº›å‰ç«¯çš„ä¼ å‚ç­‰åŸºç¡€çŸ¥è¯†ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥å¼€å‘ä¸€ä¸ªåŽå°ç®¡ç†ç•Œé¢äº†ã€‚å½“ç„¶æœ€é‡è¦çš„å°±æ˜¯åŠ¨æ‰‹å®žæˆ˜ã€‚ å¼€å‘æµç¨‹å¯¼å…¥pom.xml(ä½¿ç”¨æ’ä»¶åˆ«å¿˜äº†æ·»åŠ ç›¸å¯¹åº”çš„pomæ–‡ä»¶)ï¼Œå…ˆå†™Daoå±‚ï¼Œå¦‚æžœå¿…è¦ç¼–å†™xmlæ–‡ä»¶ï¼Œç„¶åŽè¿›è¡Œæµ‹è¯•ï¼Œç„¶åŽå°±æ˜¯Serviceã€Controllerå±‚çš„ä»£ç ç¼–å†™ã€‚å› ä¸ºåŸºæœ¬ä¸Šè°ƒç”¨çš„æ˜¯Daoå±‚ä»£ç ï¼Œæµ‹è¯•å¯ä»¥çœç•¥ï¼Œå¦‚æžœæœ‰å›žæ»šç­‰æ“ä½œï¼Œè¿˜æ˜¯éœ€è¦æµ‹è¯•ä¸€ä¸‹çš„ã€‚æ‹¦æˆªå™¨ï¼Œå·¥å…·ç±»ï¼Œå¼‚å¸¸å¤„ç†ï¼Œæžšä¸¾ç±»ç­‰è¦åˆ†ç±»æ”¾åœ¨ä¸åŒåŒ…ä¸‹æ–¹ä¾¿ç»´æŠ¤ã€ç®¡ç†ã€‚é‡åˆ°é—®é¢˜å…ˆçœ‹æŠ¥é”™ï¼Œå†è°·æ­Œæ€è€ƒã€‚ å‚è€ƒå­¦ä¹ å› ä¸ºå¼€å‘çš„åŽå°ç®¡ç†ç•Œé¢åªéœ€è¦å¾ˆå°‘çš„ç®¡ç†å‘˜ï¼Œä¹Ÿæ²¡æœ‰å•¥æœ‰ä»·å€¼çš„å†…å®¹ï¼Œæ‰€ä»¥æ²¡æœ‰æžå¾—å¾ˆæ·±ï¼Œé»‘å®¢å¦‚æžœæƒ³æžæˆ‘æˆ‘è®¤äº†ã€‚ç½‘ä¸Šå‚è€ƒå­¦ä¹ äº†ä»¥ä¸‹å†…å®¹ï¼š kaptchaéªŒè¯ç å…³äºŽéªŒè¯ç ï¼Œå‚è€ƒè¿™ä¸€ç¯‡ springbootæ•´åˆkaptchaéªŒè¯ç  åŸºæœ¬èƒ½è§£å†³é—®é¢˜ï¼Œé‡Œé¢ä¹Ÿæœ‰ä»‹ç»Springå¦‚ä½•æ•´åˆã€‚æŽ˜é‡‘çš„è¿™ç¯‡ï¼Œå¯ä»¥å‚è€ƒæ”¹ä¸€ä¸‹ç”ŸæˆäºŒç»´ç çš„é…ç½®ã€‚ é™æ€èµ„æºæ˜ å°„é¡¹ç›®ä»£ç å’Œå›¾ç‰‡ç­‰èµ„æºæ˜¾ç„¶ä¸èƒ½æ”¾åœ¨ä¸€èµ·ï¼Œé‡‡ç”¨æ˜ å°„å°±æ˜¯å°†é¡¹ç›®ä¸‹å¯ä»¥è®¿é—®çš„è·¯å¾„æ˜ å°„åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚å¯ä»¥å…ˆå‚è€ƒè¿™ç¯‡ï¼Œä¸»è¦æœ‰ä¸¤æ­¥ï¼Œé¦–å…ˆé…ç½®ä¸€ä¸ªConfigï¼Œè¿™é‡Œå–åä¸º UrlConfig 123456789101112131415161718import org.springframework.beans.factory.annotation.Value;import org.springframework.context.annotation.Configuration;import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;@Configurationpublic class UrlConfig implements WebMvcConfigurer &#123; @Value("$&#123;upload_imgs_folder&#125;")//è¿™é‡Œæ˜¯æŒ‡å®šçš„è·¯å¾„ private String uploadDir; @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; //"/work/Images/**"æ˜¯å‰ç«¯è®¿é—®çš„è·¯ç”±ï¼Œfile:" + uploadDir + "work/"æ˜¯æ˜ å°„çš„è·¯å¾„ registry.addResourceHandler("/work/Images/**").addResourceLocations("file:" + uploadDir + "work/"); registry.addResourceHandler("/team/Images/**").addResourceLocations("file:" + uploadDir + "team/"); registry.addResourceHandler("/member/Images/**").addResourceLocations("file:" + uploadDir + "member/"); &#125;&#125; å†å°±æ˜¯åœ¨application.properties è¿›è¡Œé…ç½® 12345678IP=localhostupload_imgs_folder=E:/upload/#ä»¥ä¸‹è·¯å¾„æœ€åŽå¿…é¡»æœ‰â€œ/â€spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,\ file:$&#123;upload_imgs_folder&#125;work/,\ file:$&#123;upload_imgs_folder&#125;team/,\ file:$&#123;upload_imgs_folder&#125;member/ è¿™æ ·å°±å¯ä»¥ç®€å•çš„è¿›è¡Œç›¸åº”è·¯å¾„çš„æ˜ å°„äº†ã€‚ æ‹¦æˆªå™¨å’ŒTokenç†è§£æ˜“ç™¾æ•™ç¨‹ä¸­çš„åŸºæœ¬æ¦‚å¿µï¼Œå‚è€ƒ csdn å’Œ ç®€ä¹¦çš„ä»£ç ï¼Œæˆ‘ä»¬ä¸»è¦å‚è€ƒ CSDNçš„é‚£ç¯‡å†™äº†é€»è¾‘ï¼Œä½†æ˜¯æ³¨æ„CSDNä¸­secretKey å¹¶æ²¡æœ‰ç»™å‡ºå®Œæ•´ä»£ç ï¼Œæˆ‘ä»¬ç»“åˆä¸¤ç¯‡è®¾è®¡äº†TokenUtilçš„å®žçŽ° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475public class TokenUtil &#123; //public static String DatabaseToken; // @Autowired // private TokenDao tokenDao; //åº”å½“å¯ä»¥éšæ„è®¾å®š JWT_SECERTçš„å€¼ public static final String JWT_SECERT = "0000df7f1234e88888999923c0005d"; public Token operateToken(Token token) &#123; //æ ¹æ®æ•°æ®åº“çš„ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢Token //Token token = tokenDao.findByUserId(userId); //ä¸ºç”ŸæˆTokenå‡†å¤‡ Long userId = token.getUserId(); String TokenStr = ""; Date date = new Date(); //èŽ·å¾—ç§’æ•° long nowTime = date.getTime() / 1000; //ç”ŸæˆToken TokenStr = creatToken(userId, date); if (null == token.getToken()) &#123; //ç¬¬ä¸€æ¬¡ç™»é™† token.setToken(TokenStr); token.setBuildTime(nowTime); //tokenDao.insertToken(token); &#125;else&#123; //ç™»é™†å°±æ›´æ–°Tokenä¿¡æ¯ TokenStr = creatToken(userId, date); token.setToken(TokenStr); token.setBuildTime(nowTime); System.out.println(nowTime); //tokenDao.updateToken(token); &#125; //User queryForm = getUserInfo(user, TokenStr); /* å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥session */ /*SessionContext sessionContext = SessionContext.getInstance(); HttpSession session = sessionContext.getSession(); httpSession.setAttribute("userInfo", user);*/ //è¿”å›žTokenä¿¡æ¯ç»™å®¢æˆ·ç«¯ // successful(map); //map.put("data", queryForm); //DatabaseToken = tokenDao.findByUserId(userId).getToken(); return token; &#125; /** * ç”Ÿæˆtoken(æ ¼å¼ä¸ºtoken:è®¾å¤‡-åŠ å¯†çš„ç”¨æˆ·å-æ—¶é—´-å…­ä½éšæœºæ•°) * @param username ç”¨æˆ·ç™»å½•å * @return */ public String creatToken(Long userId, Date date) &#123; SecretKey secretKey = generalKey(); SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256; JwtBuilder builder = Jwts.builder().setHeaderParam("typ", "JWT") // è®¾ç½®header .setHeaderParam("alg", "HS256").setIssuedAt(date) // è®¾ç½®ç­¾å‘æ—¶é—´ .setExpiration(new Date(date.getTime() + 1000 * 60 * 60)) .claim("userId",String.valueOf(userId) ) // è®¾ç½®å†…å®¹ .setIssuer("lws")// è®¾ç½®ç­¾å‘äºº .signWith(signatureAlgorithm, secretKey); // ç­¾åï¼Œéœ€è¦ç®—æ³•å’Œkey String jwt = builder.compact(); return jwt; &#125; public static SecretKey generalKey() &#123; byte[] encodedKey = Base64.decode(JWT_SECERT); SecretKey key = new SecretKeySpec(encodedKey, 0, encodedKey.length, "AES"); return key; &#125;&#125; jwtå¯ä»¥å®Œç¾Žçš„é˜²æ­¢CSRFï¼Œå› ä¸ºåŸºæœ¬ç”¨ä¸ä¸Šcookieäº†ï¼Œæ‰€ä»¥ä½¿ç”¨jwtç”Ÿæˆäº†tokenã€‚è®¾è®¡çš„ç”¨æˆ·è¾ƒå°‘ï¼Œåˆä¸æƒ³é…ç½®Rediséœ€è¦çš„çŽ¯å¢ƒï¼Œç´¢æ€§æŠŠTokenæ”¾åˆ°äº†æ•°æ®åº“ä¸­ï¼Œæ ¹æ®CSDNé‚£ç¯‡åšå®¢çš„ç†å¿µè®¾è®¡åŸºäºŽtokençš„ç™»å½•ï¼Œä¸»è¦å°±æ˜¯è®¾è®¡å®žä½“ç±»ï¼Œä»¥åŠå„ä¸ªå±‚ã€‚ åŸºäºŽtokençš„ç™»å½•ï¼Œæ˜¯ä¸å­˜åœ¨å›žè¯çŠ¶æ€ï¼Œå¤§æ¦‚æ€è·¯ï¼Œåœ¨ç”¨æˆ·åˆæ¬¡ç­‰è·¯çš„æ—¶å€™ï¼Œæ ¡éªŒç”¨æˆ·è´¦å·å¯†ç ï¼ŒæˆåŠŸåŽç»™å…¶ç”Ÿæˆä¸€ä¸ªtokenï¼Œtoken=ç”¨æˆ·ID+æ—¶é—´æˆ³+è¿‡æœŸæ—¶é—´+ä¸€ä¸ªè‡ªå·±å¹³å°è§„å®šçš„ç­¾åï¼Œä½¿ç”¨jjwtç”Ÿæˆä¸€ä¸ªä»¤ç‰Œï¼Œç„¶åŽå¯¹å…¶è¿›è¡Œå­˜åº“ï¼Œç”¨æˆ·æ¯æ¬¡è®¿é—®æŽ¥å£ï¼Œéƒ½ä¼šåœ¨å¤´éƒ¨Headersä¸­å¸¦ä¸Štokenï¼ŒåŽæ¥æ‹¦æˆªå™¨å¯¹å…¶è¿›è¡Œæ‹¦æˆªï¼Œå¦‚æžœtokenä¸ºç©ºæˆ–é”™è¯¯åˆ™è®©å…¶ç™»å½•ï¼Œå¦‚æžœæœ‰tokenï¼ŒèŽ·å–tokenè¿›è¡Œå…¶è§£æžï¼Œå–å‡ºé‡Œé¢çš„ç”¨æˆ·IDï¼Œæ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢æ•°æ®åº“ä¸­æ‰€å­˜tokenï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ­£ç¡®ï¼Œæ­£ç¡®ä½¿å…¶ç™»å½•ï¼Œé”™è¯¯åˆ™æç¤ºç™»å½•ï¼Œå¤§è‡´æ€è·¯å°±æ˜¯è¿™æ ·. æ‹¦æˆªå™¨çš„æ¦‚å¿µåœ¨å…¶ä¸­æœ‰æåŠï¼Œå…¶ä¸­æ‹¦æˆªå¯ä»¥åœ¨configæ–‡ä»¶ä¸­è¿›è¡Œå¦‚ 1234567//æ³¨å†Œæ‹¦æˆªå™¨ @Override public void addInterceptors(InterceptorRegistry registry) &#123; registry.addInterceptor(new LoginInterceptor()) .addPathPatterns("/**")//æ‹¦æˆª .excludePathPatterns("/team/Images","/##/##");//ä¸æ‹¦æˆª &#125; ä¹Ÿå¯ä»¥åœ¨å…·ä½“å¾—æ‹¦æˆªå™¨ä¸­æˆªèŽ·urlå†³å®šæ˜¯å¦æ”¾è¡Œ 1getRequestURI().contains("/Images") é‡åˆ°çš„é—®é¢˜æœ€å¥½å¤šäººåä½œç»Ÿä¸€å·¥ä½œçŽ¯å¢ƒï¼Œæˆ‘ä¼°è®¡è¿™èƒ½èŠ‚çœè§£å†³é—®é¢˜è€—è´¹çš„ä¸‰åˆ†ä¹‹ä¸€çš„æ—¶é—´ã€‚ æ•°æ®åº“æ•°æ®åº“é—®é¢˜æ¯”è¾ƒå¸¸è§ï¼Œä¹±ç é—®é¢˜å°±æ˜¯æŠ¥é”™ç»™å‡ºä¹±ç ï¼Œå¯ä»¥ç»™IDEAåŠ ä¸Š1useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false è¿žä¸Šæ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥åƒæˆ‘ä¸€æ ·ç´¢æ€§æ‰“å¼€Mysqlçš„ç•Œé¢è¿›è¡Œæ“ä½œï¼Œsqlæ–‡ä»¶å¤¹ä¸‹çš„å»ºè¡¨å’Œæ’å…¥è¯­å¥å¯èƒ½ä¼šå½±å“æ•°æ®åº“ã€‚Junitæµ‹è¯•å‡ºçŽ°æ•°æ®åº“é”™è¯¯æŠ¥é”™ä¸æ˜Žæ˜¾ï¼Œä¹Ÿè¦è€ƒè™‘æ•°æ®åº“ã€‚ é€»è¾‘Dateæ—¥æœŸé—®é¢˜ï¼Œæˆ‘ä»¬æ²¡æ³¨æ„åˆ°ä¸ºäº†é˜²æ­¢Longè¶Šç•Œï¼ŒCopyè¿‡æ¥çš„ç•Œé¢æœ‰é™¤ä»¥1000çš„æ“ä½œï¼Œç»“æžœå¯¼è‡´æå–å‡ºæ¥çš„æ•°æ®åº“åˆ¤æ–­æ—¶é—´å‡ºçŽ°äº†é—®é¢˜ã€‚è¿›è€Œå½±å“äº†tokenè¿‡æœŸçš„åˆ¤æ–­ï¼Œè§£å†³æ–¹å¼æ˜¯è½¬æ¢æˆæ­£å¸¸æ—¥æœŸæ‰“å°è§‚å¯Ÿã€‚Dateè½¬æ¢ï¼šhttps://lixh1986.iteye.com/blog/1757619 ç©ºæŒ‡é’ˆé—®é¢˜ï¼Œä»¥ä¸ºDaoå±‚selectè¯­å¥å¯ä»¥å¦‚insertè¯­å¥å¯ä»¥è¿”å›žå˜æ›´çš„è¡Œæ•°ï¼Œå®žé™…ä¸Šè¿”å›žçš„å®žä½“ç±»ï¼Œå¦‚æžœä¸ºç©ºè¿›è€Œä½¿ç”¨ä¼šå‡ºçŽ°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ å˜é‡é—®é¢˜ï¼Œä»£ç é€»è¾‘æœ€å¥½ä¸è¦ä½¿ç”¨å˜é‡å€¼æ¥æ“ä½œï¼Œå¾ˆå®¹æ˜“å‡º bug ä¹Ÿå¾ˆä¸æ¸…æ™°ï¼Œå¦‚æžœå•ç‹¬çš„ä¼ è‡³ï¼Œå¯ä»¥ä½¿ç”¨é™æ€å¸¸é‡ã€‚è¿™æ¬¡å¯èƒ½æ˜¯è®¾è®¡çš„é—®é¢˜ï¼Œæˆ‘ä»¬é€»è¾‘åˆ¤æ–­å¾ˆç»•ï¼Œç´¢æ€§å°±åœ¨Userå®žä½“ç±»ä¸­å¤šè®¾è®¡äº†ä¸€ä¸ªå±žæ€§å’ŒTokenå®žä½“ç›¸äº’ç…§åº”ï¼Œè§£å†³äº†é¦–æ¬¡ç™»é™†æ’å…¥ï¼Œå†æ¬¡ç™»é™†æ›´æ–°çš„é€»è¾‘é—®é¢˜ã€‚ æ³¨å…¥å¤±è´¥éžserviceå±‚æ³¨å…¥daoå±‚æ€»æ˜¯å¯¼è‡´æ³¨å…¥å¤±è´¥ï¼Œæ˜¾ç¤ºä¸ºç©ºã€‚å·¥å…·ç±»ä¸­è¿˜å¯ä»¥é¿å…æ³¨å…¥Daoå±‚ï¼Œæˆ‘è§‰å¾—è¿™æ ·ä»£ç ä¹Ÿä¼šæ›´æ¸…æ™°ï¼Œä½†æ˜¯æ‹¦æˆªå™¨é‚£é‡Œç¡®å®žè¦ä½¿ç”¨TokenDaoå±‚çš„æ•°æ®ï¼Œå› ä¸ºheaderè¿”å›žçš„tokenè¦å’Œæ•°æ®åº“ä¸­çš„tokenè¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥å¯»æ‰¾äº†Javaè°ƒç”¨Serviceå±‚æ–¹æ³•123456789@Autowired private TokenDao tokenDao; private static TokenDao tokenDao1; public @PostConstruct void init()&#123; tokenDao1 = tokenDao; &#125; IDEAçš„ä½¿ç”¨å¾ˆå¤šä¸ç¡®å®šçš„ä¸œè¥¿ä¸ç”¨æœï¼Œæ³¨æ„ideaæç¤ºçš„ç±»åž‹ç­‰è¯­å¥å°±è¶³ä»¥è§£å†³é—®é¢˜ï¼Œæ¯”å¦‚Mysqlå¯¹åº”çš„æ•°æ®ç±»åž‹ï¼Œè¦è€ƒè™‘å¥½é€»è¾‘å†åŠ¨æ‰‹æ•²ã€‚IDEAæœ‰å¾ˆå¥½çš„æ’ä»¶ï¼Œå¯¹åº”æ›´ä¸ºçœåŠ›çš„æ³¨è§£ï¼Œæ¯”å¦‚Lombokæ’ä»¶ï¼Œå…³é”®æ˜¯è¦ç†è§£æœ¬æ¥çš„ä¸œè¥¿æ˜¯ä¸ªä»€ä¹ˆåŽŸç†ã€‚IDEAç›¸å…³çš„å¿«æ·é”®ä¹Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½æå‡æ•ˆçŽ‡ã€‚ ctrl + alt + bè·³åˆ°serviceå®žçŽ°ç±»ï¼Œå¿«é€Ÿåˆ›å»ºæŸä¸ªæŽ¥å£çš„å®žçŽ°ç±»ç­‰ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ¿]]></title>
    <url>%2F2019%2F07%2Fyuque%2Fxshnz9%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€å¥åºŸè¯ å¼•ç”¨è‡ªé˜®ä¸€å³° ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼šç¬¬ 69 æœŸï¼ˆ20190816ï¼‰**ä¸€ä»¶äº‹â€œåšå¾—å¥½â€æ¯”è¾ƒå¥½ï¼Œè¿˜æ˜¯â€œåšå¾—å¿«â€æ¯”è¾ƒå¥½ï¼Ÿ é±¼å’Œç†ŠæŽŒä¸èƒ½å¾—å…¼ï¼Œä½ æ€Žä¹ˆé€‰æ‹©ï¼šåšå¾—å¥½ï¼Œä»˜å‡ºçš„ä»£ä»·å¯èƒ½æ˜¯è€—æ—¶é•¿ã€æˆæœ¬é«˜ï¼›åšå¾—å¿«ï¼Œæ„å‘³ç€å®Œæˆåº¦ä½Žã€ä¸æ˜¯ç²¾å“ã€‚ æˆ‘å¾ˆèµžåŒä¸€ç¯‡æ–‡ç« çš„ç»“è®ºï¼šåšå¾—å¿«æ›´å¥½ã€‚ åšå¾—å¿«ä¸ä»…å¯ä»¥è®©ä½ åœ¨å•ä½æ—¶é—´å†…å®Œæˆæ›´å¤šçš„å·¥ä½œï¼Œè€Œä¸” å› ä¸ºä½ å·¥ä½œå¾—å¾ˆå¿«ï¼Œæ‰€ä»¥ä½ ä¼šè§‰å¾—æˆæœ¬ä½Žï¼Œä»Žè€Œå€¾å‘äºŽåšæ›´å¤šã€‚ å†™ä¸€ç¯‡åšå®¢ï¼Œä½ å¯èƒ½éœ€è¦ä¸¤å¤©ã€‚è¿™æ˜¯å¾ˆé«˜çš„æ—¶é—´æˆæœ¬ï¼Œä½ è§‰å¾—å¤ªè´µäº†ï¼ŒäºŽæ˜¯ä½ å¾ˆå°‘å†™ã€‚ä½†æ˜¯ï¼Œåšå¥½ä¸€ä»¶äº‹çš„å”¯ä¸€æ–¹æ³•ï¼Œå°±æ˜¯å¤šåšè¿™ä»¶äº‹ã€‚ åšå¾—è¶Šå¿«ï¼Œè¿™ä»¶äº‹çš„æ—¶é—´æˆæœ¬å°±è¶Šä½Žï¼Œä½ ä¼šæ„¿æ„åšå¾—æ›´å¤šã€‚ äººä»¬æ€»æ˜¯å€¾å‘äºŽï¼Œå¤šæ¶ˆè´¹æ—¶é—´æˆæœ¬ä½Žçš„ä¸œè¥¿ã€‚ç½‘ç«™å¾ˆå¿«ï¼Œå°±ä¼šå¤šè®¿é—®ï¼›æœç´¢å¾ˆå¿«ï¼Œå°±ä¼šå¤šæœç´¢ï¼›æ–‡ç« å¾ˆå®¹æ˜“è¯»æ‡‚ï¼Œå°±ä¼šå¤šè¯»å‡ ç¯‡ã€‚åšå¾—å¿«çš„æ ¸å¿ƒï¼Œå°±æ˜¯è¦è®©æ—¶é—´æˆæœ¬é™ä¸‹æ¥ï¼Œä»Žè€Œå¤šåšã€‚ åŸºæœ¬è¯­æ³• å±…ä¸­ 1codeæ˜¯é»„&amp;ç´« æ˜¯æ·±è“&amp;æµ…è“ æ™®é€šé“¾æŽ¥æ˜¯è“è‰² å¯ä»¥ å°è¯• å®žéªŒ è¿™ä¸ªå¯ä»¥å— æˆ‘ä¹Ÿä¸æ¸…æ¥š è¯•è¯•å§ å¯ä»¥ ä¸æ€Žæ ·å•Š è¿™ä¸ª å‘¢ å¥½åƒ æœ‰ç‚¹ç¥žå¥‡ åˆ é™¤çº¿~~ä¸‹åˆ’çº¿ è¡Œå†…ä»£ç è¯•ä¸€ä¸‹ ä¸è®°å¾—æŸä¸ªå¿«æ·æ–¹å¼ï¼Œå¯ä»¥æ‰“å¼€è¯­é›€çš„å¿«æ·é”®å¾ˆå®¹æ˜“æŸ¥çœ‹ï¼Œå„ä¸ªä¹‹é—´æœ€å¥½æ¢è¡Œã€‚ æ’å…¥å›ºå®šå¤§å°å›¾ç‰‡ æ’å…¥Bç«™è§†é¢‘ ç½‘æ˜“äº‘éŸ³ä¹]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç¯®çƒèµ›åŽ]]></title>
    <url>%2F2019%2F05%2Fyuque%2Flundx2%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°å‡†å¤‡äº†ä¸€å¹´çš„ç¯®çƒèµ›è½ä¸‹å¸·å¹•ï¼Œä»Šå¹´å’ŒåŽ»å¹´ä¸€æ ·å¼€äº†ä¸ªå¥½å¤´ï¼ŒåŽ»å¹´ä¸Šåœºä¸¤åˆ†é’Ÿï¼Œä»Šå¹´ 5 åœºæ¯”èµ› 2 æ›¿è¡¥ 3 é¦–å‘ï¼Œå¾—äº† 4 åˆ†ã€‚ åœºä¸‹ç¯®çƒï¼Œä¸€ç›´éƒ½æ˜¯æ¿€çƒˆè€Œæ®‹é…·çš„ï¼Œè¿™ä¸€å¾ˆå¤§ç¨‹åº¦é å¤©èµ‹å†³å®šå®žåŠ›çš„ç«žæŠ€ä½“è‚²ï¼Œè®©æˆ‘ä¸€åº¦æƒ³å›žåˆ°ä¼ªçƒè¿·çš„é—²é€‚æ—¶å…‰ã€‚è™½ç„¶æˆ‘ä»¬ä¸€ç›´å˜´é‡Œåš·ç€æ¬¢ä¹ç¯®çƒï¼Œä½†æ˜¯è°ä¸æƒ³èµ¢å¾—æ¯”èµ›ï¼Œè°åˆä¸æƒ³å‡ºçº¿ï¼Œèµ°å‘ä¸‹ä¸€è½®å‘¢ï¼ŸåŽ»å¹´çš„æ¯”èµ›ä»…ä»…èµ¢äº†ä¸€åœºï¼Œä»Šå¹´çš„é”¦é²¤ç­¾æ‰“åˆ°çŽ°åœ¨ä¹Ÿåªæ˜¯èµ¢äº†ä¸€åœºï¼Œå¹¶ä¸”å‡ºçº¿å·²ç„¶æ— æœ›ã€‚ç›¸è¾ƒäºŽåŽ»å¹´ï¼Œèµ°äº†ä¸€å±Šï¼Œæ¥äº†ä¸€å±Šï¼Œä½†æ–°ä¸€å±Šå­¦ç”Ÿçš„ç¡®æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯ï¼Œå¾ˆä¸æˆç†Ÿï¼Œæ ¹æœ¬æ— æ³•ä¸Šåœºã€‚æ‰€ä»¥æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦æ›´åŠ åŠªåŠ›ï¼Œå¥½åœ¨æˆ‘ä»¬è¿™ç¾¤å®¶ä¼™é‡Œé¢æœ‰ä¸€ä¸ªæƒ³æ‰“ CUBA çš„ï¼Œè¿›å…¥äº†æ ¡é˜Ÿï¼Œä¸ç„¶æˆ‘ä»¬è¿™ä¸€å±Šä¼šå´©çš„å¾ˆéš¾çœ‹ã€‚æƒ³åˆ°ä¹‹å‰çš„æ—©è®­ã€æ™šè®­è¿˜æœ‰éšæ„å‡ºåŽ»çº¦çš„æŠ•ç¯®ã€æ–—ç‰›ã€‚å¤‡èµ›æœŸé—´ï¼Œè§‰æ˜¯ä¸å¯èƒ½ç¡å¥½çš„ï¼Œä½ æ¯å¤©é†’æ¥ï¼Œè„‘å­é‡Œé¢éƒ½æ˜¯ç¯®çƒï¼Œé‚£æ‰æ˜¯æ­£ç¡®çš„ã€‚ä¸è¿‡æˆ‘çŸ¥é“ï¼Œæ¯”æˆ‘åŽ‹åŠ›å¤§ï¼Œæ¯”æˆ‘æ›´å¿™çš„äººä¸åœ¨å°‘æ•°ã€‚æˆ‘å‰é¢çš„é˜Ÿé•¿ï¼Œä¸ºäº†ç•™å­¦ï¼Œä¸œå¥”è¥¿èµ°ï¼Œå´ä¹ŸæŠŠæ‰˜ç¦å’Œçƒèµ›ä¸€èµ·æŠ—åœ¨è‚©ä¸Šï¼ŒçŽ°åœ¨åœ¨å†™è®ºæ–‡ï¼Œè¿˜æ€ªæˆ‘çº¦çƒæ²¡æœ‰å«ä»–ã€‚æ¯ä¸ªäººéƒ½å¾ˆè¾›è‹¦ï¼Œä½†æœ‰äº›äººç»ˆç©¶æ˜¯ä¸Šä¸äº†åœºã€‚æˆ‘ä»¬é™¢ç¯®çƒäººæ‰ç¨€ç¼ºï¼Œæˆ‘æƒ³åªè¦æ˜¯æƒ³æ‰“çƒçš„ï¼Œç†¬ä¸¤å¹´æ€»æ˜¯èƒ½ä½“éªŒä¸€ä¸‹æ­£å¼æ¯”èµ›çš„å¿«ä¹çš„ï¼Œä¸æƒ³å·¥å­¦é™¢è¿™äº›åº•è•´æ·±åŽšçš„é™¢ï¼ŒçƒæŠ€å¾ˆä¸é”™ï¼Œå´ä¹Ÿä¸Šä¸äº†åœºã€‚ åœºä¸Šç¬¬ä¸€åœºæ¯”èµ›å’Œç¬¬äºŒåœºæ¯”èµ›æˆ‘è®°å¾—æ¯”è¾ƒæ¸…æ¥šï¼Œå’Œå¤–é™¢çš„æ¯”èµ›æœ€ç»ˆåªæœ‰ä¸€åˆ†ä¹‹å·®ï¼Œåœ¨æˆ‘ä¸Šåœºçš„æ—¶é—´å†…ï¼Œæˆ‘åªèƒ½è¯´è‡ªå·±ä¸€ç›´åœ¨åæ™•è½¦ï¼Œä¹Ÿæ²¡æœ‰ä¸æ¯«ç»éªŒï¼Œè¢«äººé€ äº†ä¸‰åˆ†çŠ¯è§„ï¼Œä»–å¦ˆçš„è¿˜é˜²å®ˆä¸ç§¯æžã€‚ç¬¬äºŒåœºå›­æž—åˆ†å·®è¾ƒå¤§ï¼Œä½†æ˜¯æˆ‘å­¦åˆ°çš„ç»éªŒæœ€å¤šï¼Œä»–ä»¬çš„åŽå«å’Œé”‹çº¿éƒ½å¾ˆå¿«ï¼Œæˆ‘å¯¹ä½åŽå«çš„æ—¶å€™è®©æˆ‘æ˜Žç™½ï¼Œä»€ä¹ˆæ˜¯ç”¨èº«ä½“å’Œè„‘å­æ¥é˜²å®ˆã€‚å†…çº¿è¦è´´ç´§ï¼Œå¯¹äºŽæˆ‘ä»¬è¿™ç§æ¯”èµ›ï¼Œå¤–çº¿æ¢é˜²å’Œå•é˜²éƒ½è¦ç•™ä¸€å®šçš„ç©ºé—´ï¼Œé˜²çªè€Œæ”¾æŠ•ã€‚è‡³äºŽè¿›æ”»ï¼Œæˆ‘çš„çªç ´ä»Šå¹´å®Œå…¨å°±æ˜¯é›¶ï¼Œåªé å¿«æ”»å¾—äº†ä»…æœ‰çš„ 4 åˆ†ï¼Œè€ŒæŠ•ç¯®åªèƒ½æœ‰æŠ›æŠ•å’Œè·³æŠ•ï¼Œè·³æŠ•æ˜¯ä¸æ•¢æŠ•çš„ï¼ŒæŠ›æŠ•åˆå¤ªçŸ­ï¼Œ5 åœºæ¯”èµ›çš„ä¸‰åˆ†çƒåˆå…¨éƒ¨æœªä¸­ï¼Œåªèƒ½è¯´è‡ªå·±çš„æå‡ç©ºé—´å¤ªå¤§äº†ï¼ˆæ»‘ç¨½ï¼‰ï¼Œå½“ç„¶é˜²å®ˆç”¨çš„æ˜¯ç»éªŒå’Œä½“åŠ›ï¼Œè¿›æ”»å°±è¦é åŸºæœ¬åŠŸå’Œè„‘å­äº†ï¼Œè‡³äºŽè§†é‡Žï¼Œå…ˆå¤šçœ‹æ¯”èµ›åŸ¹å…»ï¼Œç„¶åŽå†å®žæˆ˜ç»“åˆå§ï¼Œè§†é‡Žè¿™ç§ä¸œè¥¿æˆ‘è§‰å¾—è‡ªå·±è¿˜æ˜¯æœ‰æœºä¼šç»ƒå‡ºæ¥çš„ï¼Œæ¯•ç«Ÿä»¥å‰å†²åŠ¨æ˜¯èƒ½è¿›çƒï¼Œè€ŒçŽ°åœ¨å¼ºåº¦å˜å¤§ï¼Œæˆ‘ä¸å†æ˜¯äºˆå–äºˆæ±‚çš„çƒå‘˜ï¼Œè‡ªç„¶ä¼šå¤šè€ƒè™‘ç»™åˆ«äººåšçƒã€‚ å®šä½å’Œæ€»ç»“æ˜Žå¹´ä¼°è®¡æˆ‘è¿˜æ˜¯å’ŒçŽ°åœ¨ä¸€æ · 1ã€2 å·ä½å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œæ‰€ä»¥å®šä½å°±æ˜¯è¦æœ‰è§†é‡Žã€æœ‰åŸºæœ¬åŠŸã€æœ‰è„‘å­ã€æœ‰ç»éªŒã€‚å…¶å®žæˆ‘è§‰å¾— CS å’Œæ‰“çƒå¦‚æžœèƒ½å…¼é¡¾å¾—å¥½ï¼Œä¼šæ˜¯ä¸€ä¸ªæœ‰ç›Šèº«å¿ƒçš„æ˜Žæ™ºé€‰æ‹©ï¼ˆé€ƒï¼‰ï¼Œå¥ˆä½•è‡ªå·±å¤ªèœï¼Œæ„Ÿè§‰è¿™ä¸¤æ–¹é¢è¦åšçš„éƒ½å¾ˆå¤šï¼Œå½“ç„¶ CS åšçš„è¦æ›´å¤šï¼Œæ¯•ç«Ÿç¯®çƒå¯¹äºŽæˆ‘åªæ˜¯çˆ±å¥½ï¼Œ CS æ‰æ˜¯èŒä¸šï¼Œä»¥åŽèƒ½å·¥ä½œä¹‹ä½™ï¼Œæ‰“ä¸€ä¸‹å…»èº«ç¯®çƒï¼Œæƒ³å¿…æ˜¯æžå¥½çš„ã€‚ æ˜Žå¹´ï¼Œæˆ‘å¸Œæœ›å…¨å‘˜å¥åº·ï¼Œä¸è¾œè´Ÿè‡ªå·±çš„å¸Œå†€ï¼Œç»™å…¶ä»–é™¢é˜Ÿä¸€äº›æƒŠå–œï¼ˆä¹Ÿæ˜¯ç»™è‡ªå·±ä¸€ä¸ªäº¤ä»£ï¼‰ï¼ŒåŠ æ²¹ï¼]]></content>
      <categories>
        <category>Life</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å‘¨ä¼šåˆ†äº«]]></title>
    <url>%2F2019%2F03%2Fyuque%2Frcibso%2F</url>
    <content type="text"><![CDATA[è„šæœ¬ä½¿ç”¨ æ¦‚è¿°è„šæœ¬æœ€é‡è¦çš„ä½“éªŒå°±æ˜¯æ–¹ä¾¿ã€‚å¦‚æžœèƒ½æœ‰ä¸€äº›åŸºç¡€ï¼Œé«˜åº¦å®šåˆ¶è‡ªå·±çš„å·¥ä½œçŽ¯å¢ƒï¼Œæ˜¯ä¸€ç§å¾ˆä¸é”™çš„ä½“éªŒã€‚å¦‚æžœè‡ªå·±æ€»æ˜¯ä¼šå‡ºé—®é¢˜ï¼Œé‚£ä¹ˆåšå¥½å¤‡ä»½å°±å¾ˆé‡è¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¾ˆå°‘è¦ç¼–å†™è„šæœ¬æ–‡ä»¶ï¼Œé™¤éžè‡ªå·±çš„ç³»ç»Ÿå´©äº†ï¼Œæˆ–è€…æœ‰ä¸€äº›å°çš„ç¹ççš„äº‹æƒ…éœ€è¦ä¸æ–­é‡å¤ã€‚æˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¯¹åˆ«äººçš„è„šæœ¬è¿›è¡Œä¿®æ”¹ï¼Œç„¶åŽå°±å¯ä»¥è¾¾åˆ°ä¸€é”®æ‰§è¡Œçš„æ•ˆæžœã€‚ å­¦ä¹ èµ„æ–™W3Cschoolï¼šhttps://www.w3cschool.cn/linux/linux-shell-variable.htmlè¯­é›€é“¾æŽ¥ï¼šhttps://www.yuque.com/allenlei/ia7uhw/edyrfz bç«™é“¾æŽ¥ï¼šhttps://www.bilibili.com/video/av17384556å®žéªŒæ¥¼é“¾æŽ¥ï¼šhttps://www.shiyanlou.com/courses/944 è¯»ä¸€ä¸‹ Linux å‘½ä»¤è¡Œä¸Žshellè„šæœ¬ç¼–ç¨‹å¤§å…¨å’Œ Linux shell è„šæœ¬æ”»ç•¥Linuxå‘½ä»¤è¡Œä¸Žshellè„šæœ¬ç¼–ç¨‹å¤§å…¨.pdf å®žä¾‹ç”¨å¤„ dos æ¸…é™¤å›¾æ ‡ç¼“å­˜12345678910111213141516171819202122232425262728293031@ECHO OFF&amp;PUSHD %~DP0 &amp;TITLE æ¸…ç†ç³»ç»Ÿå›¾æ ‡ç¼“å­˜mode con cols=46 lines=26color 2F&gt;NUL 2&gt;&amp;1 REG.exe query "HKU\S-1-5-19" || ( ECHO SET UAC = CreateObject^("Shell.Application"^) &gt; "%TEMP%\Getadmin.vbs" ECHO UAC.ShellExecute "%~f0", "%1", "", "runas", 1 &gt;&gt; "%TEMP%\Getadmin.vbs" "%TEMP%\Getadmin.vbs" DEL /f /q "%TEMP%\Getadmin.vbs" 2&gt;NUL Exit /b)echo æŒ‰ä»»æ„é”®å¼€å§‹ï¼Œæˆ–è€…å…³é—­æœ¬çª—å£ &amp; pause&gt;nulrem ç»“æŸWindowsèµ„æºç®¡ç†å™¨explorertaskkill /f /im explorer.exerem æ¸…ç†ç³»ç»Ÿå›¾æ ‡ç¼“å­˜æ•°æ®åº“attrib -h -s -r "%userprofile%\AppData\Local\IconCache.db"del /f "%userprofile%\AppData\Local\IconCache.db"attrib /s /d -h -s -r "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\*"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_32.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_96.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_102.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_256.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_1024.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_idx.db"del /f "%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_sr.db"rem æ¸…ç†ç³»ç»Ÿæ‰˜ç›˜è®°å¿†çš„å›¾æ ‡echo y|reg delete "HKEY_CLASSES_ROOT\Local Settings\Software\Microsoft\Windows\CurrentVersion\TrayNotify" /v IconStreamsecho y|reg delete "HKEY_CLASSES_ROOT\Local Settings\Software\Microsoft\Windows\CurrentVersion\TrayNotify" /v PastIconsStreamrem é‡å¯Windowsèµ„æºç®¡ç†å™¨explorerstart explorerecho æ‰§è¡Œå®Œæˆï¼æŒ‰ä»»æ„é”®é€€å‡º &amp; pause&gt;nulexit åˆ é™¤æŒ‡å®šç›˜ç¬¦ä¸‹çš„ç©ºæ–‡ä»¶å¤¹1234567891011121314151617181920ECHO OFF&amp;PUSHD %~DP0 &amp;TITLE åˆ é™¤ç©ºæ–‡ä»¶å¤¹mode con cols=46 lines=26color 2F&gt;NUL 2&gt;&amp;1 REG.exe query "HKU\S-1-5-19" || ( ECHO SET UAC = CreateObject^("Shell.Application"^) &gt; "%TEMP%\Getadmin.vbs" ECHO UAC.ShellExecute "%~f0", "%1", "", "runas", 1 &gt;&gt; "%TEMP%\Getadmin.vbs" "%TEMP%\Getadmin.vbs" DEL /f /q "%TEMP%\Getadmin.vbs" 2&gt;NUL Exit /b)set /p var=è¯·è¾“å…¥è¦æ¸…é™¤çš„ç›˜ç¬¦ï¼ˆCç›˜éœ€è°¨æ…Žï¼Œå¤šç›˜ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ï¼‰ï¼šfor %%i in (%var%) do (if exist %%i:\ (for /f "delims=" %%a in ('dir /ad /b /s "%%i:\"^|sort /r') do (rd "%%a")))echo æ‰§è¡Œå®Œæˆï¼æŒ‰ä»»æ„é”®é€€å‡º &amp; pause&gt;nulexit Shell aliasæ°¸ä¹…ç”Ÿæ•ˆï¼šhttps://blog.51cto.com/feihan21/12129541234567891011121314151617alias sudo='sudo 'alias ll='ls -alF'alias la='ls -A'alias l='ls -CF'alias l.='ls -d .* --color=auto'alias nis="npm install --save "alias svim='sudo nvim'alias mkcd='foo()&#123; mkdir -p "$1"; cd "$1" &#125;; foo 'alias install='sudo apt get install'alias update='sudo apt-get update; sudo apt-get upgrade'alias ..="cd .."alias ...="cd ..; cd .."alias h='history'alias ports='netstat -tulanp'alias rm='rm -I --preserve-root'alias grep="grep --color"alias grepp="grep -P --color" alias å³å¯æ˜¾ç¤ºè®¾ç½®çš„å‘½ä»¤ï¼Œå’Œgitä¸€ä¸ªé“ç†vim ~/.bash_aliases åŠ å…¥é€‚åˆçš„aliaså‘½ä»¤$ source .bashrc #è®©æˆ‘ä»¬çš„çŽ¯å¢ƒç”Ÿæ•ˆ å¼•å¯¼https://coolshell.cn/articles/19219.htmlå»ºè®®å…ˆä½¿ç”¨ tldr å‘½ä»¤ï¼Œç„¶åŽä¹Ÿå¯ä»¥åœ¨ github ä¸Šæ‰¾æœ‰è¶£çš„ shell å·¥å…·ã€‚æ£€æŸ¥è„šæœ¬ï¼šhttps://www.shellcheck.net/ fish å’Œ zshhttp://www.ruanyifeng.com/blog/2017/05/fish_shell.htmlhttps://www.jianshu.com/p/bf03bce60987fish:12helpfish_config oh-my-fish å’Œ oh-my-zshæˆ‘ç»™çš„æ˜¯ oh-my-fishhttps://github.com/oh-my-fish/oh-my-fish/blob/master/docs/zh-CN/README.mdhttps://linux.cn/article-9515-1.htmlhttps://wiki.archlinux.org/index.php/Fish_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)) æŽ¨èè„šæœ¬æœ€å¥½ä½¿ç”¨å¼€æºçš„è„šæœ¬ï¼Œä¸è¦ä½¿ç”¨ç§äººçš„è„šæœ¬ã€‚ç®€å•çš„ä¸€é”®å®‰è£…è„šæœ¬ï¼šhttps://gitee.com/chang_501/ubuntu_system_installationUbuntu ä¸€é”®å®‰è£…çš„è„šæœ¬ï¼šhttps://github.com/SickoOrange/UbuntuAutoScriptä¸€é”®å®‰è£…deepin-wineè„šæœ¬,å¯ç”¨äºŽå®‰è£…TIM,QQ,è¿…é›·ç­‰è½¯ä»¶ï¼šhttps://github.com/innoob/deepin-wine-installerä¸€äº› Ubuntu ä¸Šå¯èƒ½æœ‰ç”¨çš„è½¯ä»¶: https://github.com/the0demiurge/CharlesScriptsè¿›é˜¶çš„ä¸€äº› Java å’Œshell çš„è„šæœ¬ï¼šhttps://github.com/oldratlee/useful-scripts]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Vimçš„èµ„æºä¸Žä½¿ç”¨]]></title>
    <url>%2F2019%2F03%2Fyuque%2Fpq6p97%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿°æ¯«æ— ç–‘é—®ï¼ŒVimå¯¹æ–°æ‰‹å¾ˆä¸å‹å¥½ã€‚ä½†æ˜¯å‹å¥½çš„ç¼–è¾‘å™¨é€šå¸¸è·Ÿä¸ä¸Šç¨‹åºå‘˜è¿›æ­¥çš„é€Ÿåº¦ï¼Œè°åˆä¸æƒ³ä¸€åŠ³æ°¸é€¸ï¼Œä¸€ç›´ä½¿ç”¨åŒä¸€ç§ç¼–è¾‘å™¨å‘¢ï¼Ÿè¿™æ˜¾ç„¶æ˜¯ä¸€ç§è¾©è¯é€‰æ‹©ã€‚è€Œé€‰æ‹© Vim ç»å¯¹æ˜¯ä¸€ä¸ªæ˜Žæ™ºçš„é•¿æœŸæŠ•èµ„ã€‚Vim åˆè¢«ç§°ä¸ºç¥žçš„ç¼–è¾‘å™¨ï¼Œå‰èº« vi æ˜¯ç”± BIll Joy äºŽ 1976 å¹´å¼€å‘ï¼Œå…¶æ”¹è¿›ç‰ˆ Vim æœ€æ—©äºŽ 1991 å¹´ç”± Bram Moolenaar å¼€å‘ã€‚å…³äºŽ Vim çš„å…¶ä»–æ•…äº‹ï¼Œå¯ä»¥å‚è€ƒç¼–è¾‘å™¨ä¹‹ç¥ž &amp; ç¥žçš„ç¼–è¾‘å™¨ã€‚ Vim å­¦ä¹ èµ„æºç½‘ä¸Šæœ‰å¾ˆå¤šä¹±ä¸ƒå…«ç³Ÿçš„èµ„æºï¼Œä½†æˆ‘æ„Ÿè§‰å†™å¾—éƒ½ä¸å°½å¦‚äººæ„ã€‚ä¸»è¦è¿˜æ˜¯é è‡ªå·±åŽ»æœç´¢èµ„æºï¼Œæ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼ï¼Œæ˜¾ç„¶çŽ°åœ¨æˆ‘è¿˜åªæ˜¯å…¥é—¨ï¼Œä»æ—§å¤„äºŽä¸æ–­å­¦ä¹ çš„çŠ¶æ€ä¸­ã€‚æˆ‘çš„å­¦ä¹ è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹: vimtutor Vim å®žç”¨æŠ€å·§ ç¬¨æ–¹æ³•å­¦ Vimscript å…³äºŽ Vim å®žç”¨æŠ€å·§ï¼ŒæŽ¨èè‡ªå·±çœ‹ä¸€éï¼Œé‡Œé¢é’ˆå¯¹é—®é¢˜æ¥æå‡º Vim çš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‚è€ƒèµ„æ–™ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„å†™å¾—ä¸€ç¯‡ Vim å®žç”¨æŠ€å·§ï¼Œè‡³äºŽç¬¨æ–¹æ³•å­¦Vimscriptï¼Œç›®å‰è¿˜æ²¡æœ‰æ·±å…¥ä¸‹åŽ»ï¼Œä»æ—§åœ¨å­¦ä¹ å½“ä¸­ã€‚ Vim åº”ç”¨åœºæ™¯Vim ä½œä¸ºç¥žçš„ç¼–è¾‘å™¨ï¼Œè‡ªç„¶å°‘ä¸äº†åº”ç”¨çš„åœ°æ–¹ã€‚æ®æˆ‘ç›®å‰è®¤çŸ¥ï¼Œå¤§éƒ¨åˆ†éœ€è¦ç¼–è¾‘å™¨çš„åœ°æ–¹ï¼Œéƒ½èƒ½å‘çŽ° Vimçš„èº«å½±ï¼Œå„ç§ä¸»æµçš„ IDE ä¸­ Vim æ’ä»¶å·²ç»æœ‰å¤§ç‰›å¸®ä½ å†™å¥½äº†ï¼Œåªéœ€è¦æœç´¢è¿›è¡Œä¸‹è½½å°±è¡Œäº†ï¼Œæˆ‘ç›®å‰åœ¨è¿™å‡ ä¸ªåœºæ™¯ä¸­åº”ç”¨ Vimï¼š SpaceVim â€”-æ¨¡å—åŒ–çš„ Vim IDE Vimium â€”-Chromeæµè§ˆå™¨çš„æ‰©å±•ç¨‹åº IdeaVim â€”-Ideaä¸­å†…ç½®çš„æ’ä»¶ SpaceVim ä¸‰å¤§ä¸»æµå¹³å°éƒ½æ”¯æŒï¼Œæ˜¯æˆ‘è‡ªå·±è½»é‡çº§å†™ä½œå’Œæ–‡ä»¶ç®¡ç†çš„å·¥å…·ï¼Œä¸€å¼€å§‹ç”¨çš„ä¸èˆ’æœï¼ŒçŽ°åœ¨ä¹Ÿè¿˜æ˜¯ä¸æ–­å­¦ä¹ çš„é˜¶æ®µã€‚Vimium æ˜¯ç¨‹åºå‘˜çš„ç¦åˆ©ï¼ŒChrome å’ŒFirefox æµè§ˆå™¨å‡æœ‰å…¶æ’ä»¶ï¼Œå¼€ç®±å³é£Ÿã€‚è™½ç„¶æœ‰äº›æŒ‰é”®è®¾è®¡ä¸åˆç†ï¼Œä½†æ€»çš„æ¥è¯´è¿˜æ˜¯æœ‰æ‰€è”ç³»ï¼Œæ¯•ç«Ÿè¿™æ˜¯ç¤¾åŒºæŽ¨åŠ¨ã€é›†æ€å¹¿ç›Šçš„ã€‚IdeaVim åˆ™éœ€è¦åœ¨ IDEA ä¸­è¿›è¡Œä¸‹è½½ã€‚æˆ‘çš„åˆæ­¥ä½¿ç”¨ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰äº›ä¸å¤Ÿçµæ´»ï¼Œå…¶ä¸­è¿˜æœ‰ä¸€ä¸ªæ‰©å±•çš„ Vim æ’ä»¶ï¼Œæœ‰æœºä¼šä¼šåŽ»è¯•è¯•ã€‚ Vim ç†Ÿç»ƒä½¿ç”¨ç†Ÿç»ƒä½¿ç”¨ Vim ï¼Œé¦–å…ˆè¦å­¦ä¼šç›²æ‰“ï¼ŒSpeedCoder æ˜¯ä¸ªä¸é”™çš„ç»ƒä¹ ç½‘ç«™ï¼Œå­¦ä¹ äº†éƒ¨åˆ†çš„ Vim çš„çŸ¥è¯†ï¼Œå°±å¯ä»¥é€šè¿‡åšå¤§é‡çš„ç»ƒä¹ æ¥é”»ç‚¼è‡ªå·±äº†ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸ªç…Žç†¬è¿‡ç¨‹ï¼Œé‰´äºŽè‡ªå·±çš„å­¦ä¹ ä¹Ÿæ¯”ä»·ç¼“æ…¢ï¼Œå°±ä¸è¿‡å¤šåˆ†æžã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯å–œæ¬¢åœ¨æ—¥å¸¸ä¸­åŽ»ç»ƒä¹ ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ ¹æ®æ–‡æ¡£åŽ»åˆ»æ„ç»ƒä¹ ï¼Œæ‰¾åˆ°è‡ªå·±éœ€è¦ç¼–è¾‘çš„åœ°æ–¹ï¼Œä¸€å¾‹ç”¨ Vim æ¥ç¼–è¾‘ã€‚æ¯”å¦‚å†™åšå®¢ï¼Œæ•²ä»£ç ï¼Œåšè®°å½•ç­‰ç­‰ã€‚è™½ç„¶æˆ‘çŽ°åœ¨è¿˜æ˜¯å¾ˆæ°´ï¼Œä½†æ˜¯ä¹Ÿåˆæ­¥æ„Ÿå—åˆ°äº† Vim çš„å¥½å¤„ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ—¶é—´å­¦ä¹ æˆæœ¬éžå¸¸é«˜ï¼Œä½†å›žæŠ¥ä¹Ÿæ˜¯å·¨å¤§çš„ã€‚ä¸çŸ¥é“æ˜¯çœŸæ­£çš„æ•ˆçŽ‡ï¼Œè¿˜æ˜¯å…‹æœå›°éš¾ã€åŠªåŠ›å¾—åˆ°è‚¯å®šï¼Œä½¿äººæ„Ÿåˆ°æ— æ¯”å¼ºå¤§å’Œé…£ç•…æ·‹æ¼“ï¼Œåæ­£æ­£å¦‚å¤§ç‰›æ‰€è¯´ï¼Œå®ƒä»¬ä¼šå¸¦ç»™ä½ æ¸æ¸å¼ºçƒˆçš„å¿«æ„Ÿï¼Œä½†ä½ ä¹Ÿå‘å®ƒä»¬çŒ®å‡ºäº†è‡ªå·±çš„çµé­‚ã€‚è¿™æ—¶ï¼Œä½ åªèƒ½ç§°å®ƒä»¬ä¸ºç¥žå™¨ã€‚ æ³¨æ„ä»¥ä¸Šå†…å®¹ï¼Œéƒ½æ˜¯æˆ‘ä¸ªäººçš„è§‚ç‚¹ï¼Œæ¬¢è¿Žè®¿å®¢æå‡ºè‡ªå·±çš„å»ºè®®ã€‚å¦å¤–è‡ªå·±æ˜¾ç„¶æœ‰å¾ˆå¤šä¸œè¥¿ä¸æ‡‚ï¼Œæ¬¢è¿Žå¤§ä½¬ç»™æˆ‘äº›æŒ‡å¯¼æ„è§ã€‚è¿™ç¯‡åšå®¢å¯¹äºŽåˆå­¦è€…æ¥è¯´ï¼Œå†…å®¹å¯èƒ½æœ‰äº›ç¹å¤šï¼Œæœ€å¥½æ¯ä¸ªæ–¹å‘éƒ½å…¥é—¨ï¼Œç„¶åŽæ…¢æ…¢è¿›æ­¥å§(æˆ‘æ˜¯å¦‚æ­¤ï¼Œæ‰€ä»¥å¦‚æ˜¯å»ºè®®)ï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¯èƒ½è¿˜è¦è®°ä¸€äº›ä¸Ž Vim æ— å…³çš„å¿«æ·é”®ï¼Œæ¯”å¦‚åœ¨æµè§ˆå™¨å’Œ IDEA ä¸­ï¼Œ ä½†æˆ‘è§‰å¾—è¿™æ˜¯æ—©æ™šè¦é€‚åº”çš„ï¼Œå…‹æœä¸€ä¸‹ï¼Œæœ€ç»ˆä¼šæ„Ÿè°¢è‡ªå·±çš„é€‰æ‹©ã€‚ å¼•ç”¨1.http://os.51cto.com/art/201101/242518.htm2.https://www.yuque.com/tfrain/boke/vim_skill3.http://learnvimscriptthehardway.onefloweroneworld.com/4.https://spacevim.org/cn/5.https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb6.www.speedcoder.net]]></content>
      <categories>
        <category>Vim</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç®—æ³•ç›¸å…³çŸ¥è¯†ç®€ä»‹]]></title>
    <url>%2F2019%2F02%2Fyuque%2Fwikipedia_algorithm%2F</url>
    <content type="text"><![CDATA[ç»´åŸºçš„çŸ¥è¯†æ€»ç»“å¾ˆä¼˜ç§€ï¼Œå…·ä½“çš„åˆ·é¢˜è®°å½•å…¨é¢è½¬ç§»åˆ°æˆ‘çš„Gitbook å‰è¨€è‹¥hexoæœ‰å°bugæˆ–ä¸èˆ’æœä¹‹å¤„ï¼Œè¯·ç§»æ­¥åˆ°è¯­é›€æµè§ˆï¼Œæˆ‘çš„åˆ·é¢˜è®°å½•åœ¨Gitbookå› ä¸ºè‡ªå·±çš„ç®—æ³•åŸºç¡€éžå¸¸è–„å¼±ï¼Œå¸Œæœ›é€šè¿‡å…”æ´¾åˆ·é¢˜çš„æ–¹å¼ï¼Œæ€€ç€å¹¸å­˜è€…çš„æ„è¯†ï¼Œèƒ½å¤Ÿè¿Žå¤´èµ¶ä¸Šã€‚ æ•°ç»„(Array)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°ç»„æ•°æ®ç»“æž„ï¼ˆè‹±è¯­ï¼šarray data structureï¼‰ï¼Œç®€ç§°æ•°ç»„ï¼ˆè‹±è¯­ï¼šArrayï¼‰ï¼Œæ˜¯ç”±ç›¸åŒç±»åž‹çš„å…ƒç´ ï¼ˆelementï¼‰çš„é›†åˆæ‰€ç»„æˆçš„æ•°æ®ç»“æž„ï¼Œåˆ†é…ä¸€å—è¿žç»­çš„å†…å­˜æ¥å­˜å‚¨ã€‚åˆ©ç”¨å…ƒç´ çš„ç´¢å¼•ï¼ˆindexï¼‰å¯ä»¥è®¡ç®—å‡ºè¯¥å…ƒç´ å¯¹åº”çš„å­˜å‚¨åœ°å€ã€‚æœ€ç®€å•çš„æ•°æ®ç»“æž„ç±»åž‹æ˜¯ä¸€ç»´æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œç´¢å¼•ä¸º0åˆ°9çš„32ä½æ•´æ•°æ•°ç»„ï¼Œå¯ä½œä¸ºåœ¨å­˜å‚¨å™¨åœ°å€2000ï¼Œ2004ï¼Œ2008ï¼Œâ€¦2036ä¸­ï¼Œå­˜å‚¨10ä¸ªå˜é‡ï¼Œå› æ­¤ç´¢å¼•ä¸ºiçš„å…ƒç´ å³åœ¨å­˜å‚¨å™¨ä¸­çš„2000+4Ã—iåœ°å€ã€‚æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å­˜å‚¨å™¨åœ°å€ç§°ä¸ºç¬¬ä¸€åœ°å€æˆ–åŸºç¡€åœ°å€ã€‚äºŒç»´æ•°ç»„ï¼Œå¯¹åº”äºŽæ•°å­¦ä¸Šçš„çŸ©é˜µæ¦‚å¿µï¼Œå¯è¡¨ç¤ºä¸ºäºŒç»´çŸ©å½¢æ ¼ã€‚ä¾‹å¦‚ï¼šåœ¨Cè¯­è¨€ä¸­è¡¨ç¤ºä¸ºint a[3][3] = {{3, 6, 2}, {0, 1, -4}, {2, -1, 0}};ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œâ€œå‘é‡â€ä¸€è¯ä¹Ÿå¯èƒ½ä»£è¡¨äºŒç»´æ•°ç»„ï¼Œè™½ç„¶åœ¨æ•°å­¦æ„ä¹‰ä¸Šæ›´ç¡®åˆ‡åœ°ç§°å‘¼ä¸ºå…ƒç»„ï¼ˆtupleï¼‰ï¼Œè€Œä¸æ˜¯å‘é‡ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè®¡ç®—æœºç§‘å­¦çš„æŸäº›é¢†åŸŸï¼Œå¦‚Matlabï¼Œå…ƒç»„æ˜¯æŒ‡ç±»ä¼¼Cè¯­è¨€structç±»åž‹ï¼Œå…·æœ‰å›ºå®šçš„å¾€å¾€æ˜¯ä¸åŒç±»åž‹çš„æ•°æ®æˆå‘˜çš„æ•°æ®ç»“æž„ã€‚æ•°ç»„é€šå¸¸ç”¨äºŽå®žçŽ°æ•°æ®åº“çš„è¡¨æ ¼ï¼Œç‰¹åˆ«æ˜¯æŸ¥è¯¢è¡¨ï¼›è¡¨æ ¼æœ‰æ—¶ä¹Ÿè¢«å½“ä½œæ˜¯æ•°ç»„çš„åŒä¹‰è¯ã€‚æ•°ç»„æ˜¯æœ€æ—©æœŸå’Œæœ€é‡è¦çš„æ•°æ®ç»“æž„ä¹‹ä¸€ï¼Œå¾ˆå¤šç¨‹åºéƒ½ä¼šç”¨åˆ°æ•°ç»„ã€‚å®ƒä»¬ä¹Ÿç”¨äºŽå®žçŽ°è®¸å¤šå…¶ä»–æ•°æ®ç»“æž„ï¼Œè­¬å¦‚åˆ—è¡¨ï¼ˆlistï¼‰å’Œå­—ç¬¦ä¸²ï¼ˆstringï¼‰ã€‚å®ƒä»¬æœ‰æˆæ•ˆåœ°å¼€å±•äº†è®¡ç®—æœºçš„å®šå€é€»è¾‘ã€‚åœ¨å¤§å¤šæ•°çŽ°ä»£è®¡ç®—æœºå’Œè®¸å¤šå¤–éƒ¨å­˜å‚¨è®¾å¤‡ä¸­ï¼Œå­˜å‚¨å™¨å¦‚åŒä¸€ç»´æ•°ç»„ï¼Œç´¢å¼•å°±æ˜¯å…¶åœ°å€ã€‚ç¼–è¯‘å™¨ã€å¤„ç†å•å…ƒï¼ˆç‰¹åˆ«æ˜¯å‘é‡å¤„ç†å™¨ï¼‰ï¼Œç»å¸¸ä¼šé’ˆå¯¹æ•°ç»„æ“ä½œè¿›è¡Œä¼˜åŒ–ã€‚å› ä¸ºåœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥è®¡ç®—å…ƒç´ çš„ç´¢å¼•ï¼Œæ•°ç»„æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚æ­¤å¤–ï¼Œä¹Ÿèƒ½ä»¥å•ä¸€è¿­ä»£è¯­å¥å°±å¤„ç†æ•°ç»„çš„è®¸å¤šå…ƒç´ ã€‚ä¸ºæ­¤ï¼Œæ•°ç»„æ•°æ®ç»“æž„çš„å…ƒç´ å¿…é¡»å…·æœ‰ç›¸åŒçš„å¤§å°ï¼Œè€Œä¸”åº”è¯¥ä½¿ç”¨ç›¸åŒçš„æ•°æ®ç±»åž‹è¡¨ç¤ºã€‚æ•°ç»„ä¸€è¯é€šå¸¸ç”¨äºŽè¡¨ç¤ºæ•°ç»„æ•°æ®ç±»åž‹ï¼Œä¸€ç§å¤§å¤šæ•°é«˜ç«¯ç¼–ç¨‹è¯­è¨€éƒ½ä¼šå†…ç½®çš„æ•°æ®ç±»åž‹ã€‚æ•°ç»„ç±»åž‹é€šå¸¸ç”±æ•°ç»„ç»“æž„æ¥å®žçŽ°ï¼›ç„¶è€Œåœ¨æŸäº›è¯­è¨€ä¸­ï¼Œå®ƒä»¬å¯ä»¥ç”±æ•£åˆ—è¡¨ã€é“¾è¡¨ã€æœç´¢æ ‘æˆ–å…¶å®ƒæ•°æ®ç»“æž„æ¥å®žçŽ°ã€‚åœ¨ç®—æ³•çš„æè¿°ä¸­ï¼Œæ•°ç»„ä¸€è¯ç‰¹åˆ«ç€é‡æ„ä¹‰ä¸ºå…³ç³»æ•°ç»„æˆ–â€œæŠ½è±¡çš„æ•°ç»„â€ï¼Œä¸€ç§ç†è®ºä¸Šçš„è®¡ç®—æœºç§‘å­¦æ¨¡åž‹ï¼ˆæŠ½è±¡æ•°æ®ç±»åž‹æˆ– ADTï¼‰ï¼Œä¸“æ³¨äºŽæ•°ç»„çš„åŸºæœ¬æ€§è´¨ä¸Šã€‚ å“ˆå¸Œè¡¨(Hash Table)æ•£åˆ—è¡¨ï¼ˆHash tableï¼Œä¹Ÿå«å“ˆå¸Œè¡¨ï¼‰ï¼Œæ˜¯æ ¹æ®é”®ï¼ˆKeyï¼‰è€Œç›´æŽ¥è®¿é—®åœ¨å†…å­˜å­˜å‚¨ä½ç½®çš„æ•°æ®ç»“æž„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒé€šè¿‡è®¡ç®—ä¸€ä¸ªå…³äºŽé”®å€¼çš„å‡½æ•°ï¼Œå°†æ‰€éœ€æŸ¥è¯¢çš„æ•°æ®æ˜ å°„åˆ°è¡¨ä¸­ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼Œè¿™åŠ å¿«äº†æŸ¥æ‰¾é€Ÿåº¦ã€‚è¿™ä¸ªæ˜ å°„å‡½æ•°ç§°åšæ•£åˆ—å‡½æ•°ï¼Œå­˜æ”¾è®°å½•çš„æ•°ç»„ç§°åšæ•£åˆ—è¡¨ã€‚ä¸€ä¸ªé€šä¿—çš„ä¾‹å­æ˜¯ï¼Œä¸ºäº†æŸ¥æ‰¾ç”µè¯ç°¿ä¸­æŸäººçš„å·ç ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‰ç…§äººåé¦–å­—æ¯é¡ºåºæŽ’åˆ—çš„è¡¨ï¼ˆå³å»ºç«‹äººåxåˆ°é¦–å­—æ¯F(x)çš„ä¸€ä¸ªå‡½æ•°å…³ç³»ï¼‰ï¼Œåœ¨é¦–å­—æ¯ä¸ºWçš„è¡¨ä¸­æŸ¥æ‰¾â€œçŽ‹â€å§“çš„ç”µè¯å·ç ï¼Œæ˜¾ç„¶æ¯”ç›´æŽ¥æŸ¥æ‰¾å°±è¦å¿«å¾—å¤šã€‚è¿™é‡Œä½¿ç”¨äººåä½œä¸ºå…³é”®å­—ï¼Œâ€œå–é¦–å­—æ¯â€æ˜¯è¿™ä¸ªä¾‹å­ä¸­æ•£åˆ—å‡½æ•°çš„å‡½æ•°æ³•åˆ™F()ï¼Œå­˜æ”¾é¦–å­—æ¯çš„è¡¨å¯¹åº”æ•£åˆ—è¡¨ã€‚å…³é”®å­—å’Œå‡½æ•°æ³•åˆ™ç†è®ºä¸Šå¯ä»¥ä»»æ„ç¡®å®šã€‚ é“¾è¡¨(Linked List)é“¾è¡¨ï¼ˆLinked listï¼‰æ˜¯ä¸€ç§å¸¸è§çš„åŸºç¡€æ•°æ®ç»“æž„ï¼Œæ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹é‡Œå­˜åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ)(Pointer)ã€‚ç”±äºŽä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°O(1)çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯O(logn)å’ŒO(1)ã€‚ä½¿ç”¨é“¾è¡¨ç»“æž„å¯ä»¥å…‹æœæ•°ç»„é“¾è¡¨éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æž„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´ï¼Œå®žçŽ°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†æ˜¯é“¾è¡¨å¤±åŽ»äº†æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶é“¾è¡¨ç”±äºŽå¢žåŠ äº†ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼Œç©ºé—´å¼€é”€æ¯”è¾ƒå¤§ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œé“¾è¡¨ä½œä¸ºä¸€ç§åŸºç¡€çš„æ•°æ®ç»“æž„å¯ä»¥ç”¨æ¥ç”Ÿæˆå…¶å®ƒç±»åž‹çš„æ•°æ®ç»“æž„ã€‚é“¾è¡¨é€šå¸¸ç”±ä¸€è¿žä¸²èŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä»»æ„çš„å®žä¾‹æ•°æ®ï¼ˆdata fieldsï¼‰å’Œä¸€æˆ–ä¸¤ä¸ªç”¨æ¥æŒ‡å‘ä¸Šä¸€ä¸ª/æˆ–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®çš„é“¾æŽ¥ï¼ˆâ€linksâ€ï¼‰ã€‚é“¾è¡¨æœ€æ˜Žæ˜¾çš„å¥½å¤„å°±æ˜¯ï¼Œå¸¸è§„æ•°ç»„æŽ’åˆ—å…³è”é¡¹ç›®çš„æ–¹å¼å¯èƒ½ä¸åŒäºŽè¿™äº›æ•°æ®é¡¹ç›®åœ¨è®°å¿†ä½“æˆ–ç£ç›˜ä¸Šé¡ºåºï¼Œæ•°æ®çš„è®¿é—®å¾€å¾€è¦åœ¨ä¸åŒçš„æŽ’åˆ—é¡ºåºä¸­è½¬æ¢ã€‚è€Œé“¾è¡¨æ˜¯ä¸€ç§è‡ªæˆ‘æŒ‡ç¤ºæ•°æ®ç±»åž‹ï¼Œå› ä¸ºå®ƒåŒ…å«æŒ‡å‘å¦ä¸€ä¸ªç›¸åŒç±»åž‹çš„æ•°æ®çš„æŒ‡é’ˆï¼ˆé“¾æŽ¥ï¼‰ã€‚é“¾è¡¨å…è®¸æ’å…¥å’Œç§»é™¤è¡¨ä¸Šä»»æ„ä½ç½®ä¸Šçš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸å…è®¸éšæœºå­˜å–ã€‚é“¾è¡¨æœ‰å¾ˆå¤šç§ä¸åŒçš„ç±»åž‹ï¼šå•å‘é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨ä»¥åŠå¾ªçŽ¯é“¾è¡¨ã€‚é“¾è¡¨å¯ä»¥åœ¨å¤šç§ç¼–ç¨‹è¯­è¨€ä¸­å®žçŽ°ã€‚åƒLispå’ŒSchemeè¿™æ ·çš„è¯­è¨€çš„å†…å»ºæ•°æ®ç±»åž‹ä¸­å°±åŒ…å«äº†é“¾è¡¨çš„è®¿é—®å’Œæ“ä½œã€‚ç¨‹åºè¯­è¨€æˆ–é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå¦‚C/C++å’ŒJavaä¾é æ˜“å˜å·¥å…·æ¥ç”Ÿæˆé“¾è¡¨ã€‚ æ•°å­¦(Math) åŒæŒ‡é’ˆ(Two Pointers) ä¸²(String)å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼Œæ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰é™åºåˆ—ã€‚ä¸€èˆ¬è®°ä¸ºã€‚å®ƒæ˜¯ç¼–ç¨‹è¯­è¨€ä¸­è¡¨ç¤ºæ–‡æœ¬çš„æ•°æ®ç±»åž‹ã€‚é€šå¸¸ä»¥ä¸²çš„æ•´ä½“ä½œä¸ºæ“ä½œå¯¹è±¡ï¼Œå¦‚ï¼šåœ¨ä¸²ä¸­æŸ¥æ‰¾æŸä¸ªå­ä¸²ã€æ±‚å–ä¸€ä¸ªå­ä¸²ã€åœ¨ä¸²çš„æŸä¸ªä½ç½®ä¸Šæ’å…¥ä¸€ä¸ªå­ä¸²ä»¥åŠåˆ é™¤ä¸€ä¸ªå­ä¸²ç­‰ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰çš„å……è¦æ¡ä»¶æ˜¯ï¼šé•¿åº¦ç›¸ç­‰ï¼Œå¹¶ä¸”å„ä¸ªå¯¹åº”ä½ç½®ä¸Šçš„å­—ç¬¦éƒ½ç›¸ç­‰ã€‚è®¾pã€qæ˜¯ä¸¤ä¸ªä¸²ï¼Œæ±‚qåœ¨pä¸­é¦–æ¬¡å‡ºçŽ°çš„ä½ç½®çš„è¿ç®—å«åšæ¨¡å¼åŒ¹é…ã€‚ä¸²çš„ä¸¤ç§æœ€åŸºæœ¬çš„å­˜å‚¨æ–¹å¼æ˜¯é¡ºåºå­˜å‚¨æ–¹å¼å’Œé“¾æŽ¥å­˜å‚¨æ–¹å¼ã€‚ äºŒåˆ†æŸ¥æ‰¾(Binary Search)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒåˆ†æœç´¢ï¼ˆè‹±è¯­ï¼šbinary searchï¼‰ï¼Œä¹Ÿç§°æŠ˜åŠæœç´¢ï¼ˆè‹±è¯­ï¼šhalf-interval searchï¼‰ã€å¯¹æ•°æœç´¢ï¼ˆè‹±è¯­ï¼šlogarithmic searchï¼‰ï¼Œæ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•ã€‚æœç´¢è¿‡ç¨‹ä»Žæ•°ç»„çš„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æžœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåˆ™æœç´¢è¿‡ç¨‹ç»“æŸï¼›å¦‚æžœæŸä¸€ç‰¹å®šå…ƒç´ å¤§äºŽæˆ–è€…å°äºŽä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨æ•°ç»„å¤§äºŽæˆ–å°äºŽä¸­é—´å…ƒç´ çš„é‚£ä¸€åŠä¸­æŸ¥æ‰¾ï¼Œè€Œä¸”è·Ÿå¼€å§‹ä¸€æ ·ä»Žä¸­é—´å…ƒç´ å¼€å§‹æ¯”è¾ƒã€‚å¦‚æžœåœ¨æŸä¸€æ­¥éª¤æ•°ç»„ä¸ºç©ºï¼Œåˆ™ä»£è¡¨æ‰¾ä¸åˆ°ã€‚è¿™ç§æœç´¢ç®—æ³•æ¯ä¸€æ¬¡æ¯”è¾ƒéƒ½ä½¿æœç´¢èŒƒå›´ç¼©å°ä¸€åŠã€‚äºŒåˆ†æœç´¢åœ¨æƒ…å†µä¸‹çš„å¤æ‚åº¦æ˜¯å¯¹æ•°æ—¶é—´ï¼Œè¿›è¡Œæ¬¡æ¯”è¾ƒæ“ä½œåœ¨æ­¤å¤„æ˜¯æ•°ç»„çš„å…ƒç´ æ•°é‡ï¼Œæ˜¯å¤§Oè®°å·ï¼Œæ˜¯å¯¹æ•°ï¼‰ã€‚äºŒåˆ†æœç´¢ä½¿ç”¨å¸¸æ•°ç©ºé—´ï¼Œæ— è®ºå¯¹ä»»ä½•å¤§å°çš„è¾“å…¥æ•°æ®ï¼Œç®—æ³•ä½¿ç”¨çš„ç©ºé—´éƒ½æ˜¯ä¸€æ ·çš„ã€‚é™¤éžè¾“å…¥æ•°æ®æ•°é‡å¾ˆå°‘ï¼Œå¦åˆ™äºŒåˆ†æœç´¢æ¯”çº¿æ€§æœç´¢æ›´å¿«ï¼Œä½†æ•°ç»„å¿…é¡»äº‹å…ˆè¢«æŽ’åºã€‚å°½ç®¡ç‰¹å®šçš„ã€ä¸ºäº†å¿«é€Ÿæœç´¢è€Œè®¾è®¡çš„æ•°æ®ç»“æž„æ›´æœ‰æ•ˆï¼ˆæ¯”å¦‚å“ˆå¸Œè¡¨ï¼‰ï¼ŒäºŒåˆ†æœç´¢åº”ç”¨é¢æ›´å¹¿ã€‚äºŒåˆ†æœç´¢æœ‰è®¸å¤šä¸­å˜ç§ã€‚æ¯”å¦‚åˆ†æ•£å±‚å å¯ä»¥æå‡åœ¨å¤šä¸ªæ•°ç»„ä¸­å¯¹åŒä¸€ä¸ªæ•°å€¼çš„æœç´¢ã€‚åˆ†æ•£å±‚å æœ‰æ•ˆçš„è§£å†³äº†è®¡ç®—å‡ ä½•å­¦å’Œå…¶ä»–é¢†åŸŸçš„è®¸å¤šæœç´¢é—®é¢˜ã€‚æŒ‡æ•°æœç´¢å°†äºŒåˆ†æœç´¢æ‹“å®½åˆ°æ— è¾¹ç•Œçš„åˆ—è¡¨ã€‚äºŒåˆ†æœç´¢æ ‘å’ŒBæ ‘æ•°æ®ç»“æž„å°±æ˜¯åŸºäºŽäºŒåˆ†æœç´¢çš„ã€‚ åˆ†æ²»ç®—æ³•(Divide and Conquer)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œåˆ†æ²»æ³•æ˜¯å»ºåŸºäºŽå¤šé¡¹åˆ†æ”¯é€’å½’çš„ä¸€ç§å¾ˆé‡è¦çš„ç®—æ³•èŒƒå¼ã€‚å­—é¢ä¸Šçš„è§£é‡Šæ˜¯â€œåˆ†è€Œæ²»ä¹‹â€ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œç›´åˆ°æœ€åŽå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æŽ¥æ±‚è§£ï¼ŒåŽŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶ã€‚è¿™ä¸ªæŠ€å·§æ˜¯å¾ˆå¤šé«˜æ•ˆç®—æ³•çš„åŸºç¡€ï¼Œå¦‚æŽ’åºç®—æ³•ï¼ˆå¿«é€ŸæŽ’åºã€å½’å¹¶æŽ’åºï¼‰ã€å‚…ç«‹å¶å˜æ¢ï¼ˆå¿«é€Ÿå‚…ç«‹å¶å˜æ¢ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼Œç†è§£åŠè®¾è®¡åˆ†æ²»æ³•ç®—æ³•çš„èƒ½åŠ›éœ€è¦ä¸€å®šæ—¶é—´åŽ»æŽŒæ¡ã€‚æ­£å¦‚ä»¥å½’çº³æ³•åŽ»è¯æ˜Žä¸€ä¸ªç†è®ºï¼Œä¸ºäº†ä½¿é€’å½’èƒ½å¤ŸæŽ¨è¡Œï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦ç”¨ä¸€ä¸ªè¾ƒä¸ºæ¦‚æ‹¬æˆ–å¤æ‚çš„é—®é¢˜åŽ»å–ä»£åŽŸæœ‰é—®é¢˜ã€‚è€Œä¸”å¹¶æ²¡æœ‰ä¸€ä¸ªç³»ç»Ÿæ€§çš„æ–¹æ³•åŽ»é€‚å½“åœ°æ¦‚æ‹¬é—®é¢˜ã€‚åˆ†æ²»æ³•è¿™ä¸ªåç§°æœ‰æ—¶äº¦ä¼šç”¨äºŽå°†é—®é¢˜ç®€åŒ–ä¸ºåªæœ‰ä¸€ä¸ªç»†é—®é¢˜çš„ç®—æ³•ï¼Œä¾‹å¦‚ç”¨äºŽåœ¨å·²æŽ’åºçš„åˆ—ä¸­æŸ¥æ‰¾å…¶ä¸­ä¸€é¡¹çš„æŠ˜åŠæœç´¢ç®—æ³•ï¼ˆæˆ–æ˜¯åœ¨æ•°å€¼åˆ†æžä¸­ç±»ä¼¼çš„å‹˜æ ¹ç®—æ³•ï¼‰ã€‚è¿™äº›ç®—æ³•æ¯”ä¸€èˆ¬çš„åˆ†æ²»ç®—æ³•æ›´èƒ½æœ‰æ•ˆåœ°è¿è¡Œã€‚å…¶ä¸­ï¼Œå‡å¦‚ç®—æ³•ä½¿ç”¨å°¾éƒ¨é€’å½’çš„è¯ï¼Œä¾¿èƒ½è½¬æ¢æˆç®€å•çš„å¾ªçŽ¯ã€‚ä½†åœ¨è¿™å¹¿ä¹‰ä¹‹ä¸‹ï¼Œæ‰€æœ‰ä½¿ç”¨é€’å½’æˆ–å¾ªçŽ¯çš„ç®—æ³•å‡è¢«è§†ä½œâ€œåˆ†æ²»ç®—æ³•â€ã€‚å› æ­¤ï¼Œæœ‰äº›ä½œè€…è€ƒè™‘â€œåˆ†æ²»æ³•â€è¿™ä¸ªåç§°åº”åªç”¨äºŽæ¯ä¸ªæœ‰æœ€å°‘ä¸¤ä¸ªå­é—®é¢˜çš„ç®—æ³•ã€‚è€Œåªæœ‰ä¸€ä¸ªå­é—®é¢˜çš„æ›¾è¢«å»ºè®®ä½¿ç”¨å‡æ²»æ³•è¿™ä¸ªåç§°ã€‚åˆ†æ²»ç®—æ³•é€šå¸¸ä»¥æ•°å­¦å½’çº³æ³•æ¥éªŒè¯ã€‚è€Œå®ƒçš„è®¡ç®—æˆæœ¬åˆ™å¤šæ•°ä»¥è§£é€’å½’å…³ç³»å¼æ¥åˆ¤å®šã€‚ åŠ¨æ€è§„åˆ’(Dynamic Programming)åŠ¨æ€è§„åˆ’ï¼ˆè‹±è¯­ï¼šDynamic programmingï¼Œç®€ç§°DPï¼‰æ˜¯ä¸€ç§åœ¨æ•°å­¦ã€ç®¡ç†ç§‘å­¦ã€è®¡ç®—æœºç§‘å­¦ã€ç»æµŽå­¦å’Œç”Ÿç‰©ä¿¡æ¯å­¦ä¸­ä½¿ç”¨çš„ï¼Œé€šè¿‡æŠŠåŽŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•ã€‚åŠ¨æ€è§„åˆ’å¸¸å¸¸é€‚ç”¨äºŽæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æž„æ€§è´¨çš„é—®é¢˜ï¼ŒåŠ¨æ€è§„åˆ’æ–¹æ³•æ‰€è€—æ—¶é—´å¾€å¾€è¿œå°‘äºŽæœ´ç´ è§£æ³•ã€‚åŠ¨æ€è§„åˆ’èƒŒåŽçš„åŸºæœ¬æ€æƒ³éžå¸¸ç®€å•ã€‚å¤§è‡´ä¸Šï¼Œè‹¥è¦è§£ä¸€ä¸ªç»™å®šé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è§£å…¶ä¸åŒéƒ¨åˆ†ï¼ˆå³å­é—®é¢˜ï¼‰ï¼Œå†æ ¹æ®å­é—®é¢˜çš„è§£ä»¥å¾—å‡ºåŽŸé—®é¢˜çš„è§£ã€‚é€šå¸¸è®¸å¤šå­é—®é¢˜éžå¸¸ç›¸ä¼¼ï¼Œä¸ºæ­¤åŠ¨æ€è§„åˆ’æ³•è¯•å›¾ä»…ä»…è§£å†³æ¯ä¸ªå­é—®é¢˜ä¸€æ¬¡ï¼Œä»Žè€Œå‡å°‘è®¡ç®—é‡ï¼šä¸€æ—¦æŸä¸ªç»™å®šå­é—®é¢˜çš„è§£å·²ç»ç®—å‡ºï¼Œåˆ™å°†å…¶è®°å¿†åŒ–å­˜å‚¨ï¼Œä»¥ä¾¿ä¸‹æ¬¡éœ€è¦åŒä¸€ä¸ªå­é—®é¢˜è§£ä¹‹æ—¶ç›´æŽ¥æŸ¥è¡¨ã€‚è¿™ç§åšæ³•åœ¨é‡å¤å­é—®é¢˜çš„æ•°ç›®å…³äºŽè¾“å…¥çš„è§„æ¨¡å‘ˆæŒ‡æ•°å¢žé•¿æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚ å›žæº¯ç®—æ³•(Backtracking)å›žæº¯æ³•ï¼ˆè‹±è¯­ï¼šbacktrackingï¼‰æ˜¯æš´åŠ›æœç´¢æ³•ä¸­çš„ä¸€ç§ã€‚å¯¹äºŽæŸäº›è®¡ç®—é—®é¢˜è€Œè¨€ï¼Œå›žæº¯æ³•æ˜¯ä¸€ç§å¯ä»¥æ‰¾å‡ºæ‰€æœ‰ï¼ˆæˆ–ä¸€éƒ¨åˆ†ï¼‰è§£çš„ä¸€èˆ¬æ€§ç®—æ³•ï¼Œå°¤å…¶é€‚ç”¨äºŽçº¦æŸæ»¡è¶³é—®é¢˜ï¼ˆåœ¨è§£å†³çº¦æŸæ»¡è¶³é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬é€æ­¥æž„é€ æ›´å¤šçš„å€™é€‰è§£ï¼Œå¹¶ä¸”åœ¨ç¡®å®šæŸä¸€éƒ¨åˆ†å€™é€‰è§£ä¸å¯èƒ½è¡¥å…¨æˆæ­£ç¡®è§£ä¹‹åŽæ”¾å¼ƒç»§ç»­æœç´¢è¿™ä¸ªéƒ¨åˆ†å€™é€‰è§£æœ¬èº«åŠå…¶å¯ä»¥æ‹“å±•å‡ºçš„å­å€™é€‰è§£ï¼Œè½¬è€Œæµ‹è¯•å…¶ä»–çš„éƒ¨åˆ†å€™é€‰è§£ï¼‰ã€‚åœ¨ç»å…¸çš„æ•™ç§‘ä¹¦ä¸­ï¼Œå…«çš‡åŽé—®é¢˜å±•ç¤ºäº†å›žæº¯æ³•çš„ç”¨ä¾‹ã€‚ï¼ˆå…«çš‡åŽé—®é¢˜æ˜¯åœ¨æ ‡å‡†å›½é™…è±¡æ£‹æ£‹ç›˜ä¸­å¯»æ‰¾å…«ä¸ªçš‡åŽçš„æ‰€æœ‰åˆ†å¸ƒï¼Œä½¿å¾—æ²¡æœ‰ä¸€ä¸ªçš‡åŽèƒ½æ”»å‡»åˆ°å¦å¤–ä¸€ä¸ªã€‚ï¼‰å›žæº¯æ³•é‡‡ç”¨è¯•é”™çš„æ€æƒ³ï¼Œå®ƒå°è¯•åˆ†æ­¥çš„åŽ»è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚åœ¨åˆ†æ­¥è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå½“å®ƒé€šè¿‡å°è¯•å‘çŽ°çŽ°æœ‰çš„åˆ†æ­¥ç­”æ¡ˆä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„æ­£ç¡®çš„è§£ç­”çš„æ—¶å€™ï¼Œå®ƒå°†å–æ¶ˆä¸Šä¸€æ­¥ç”šè‡³æ˜¯ä¸Šå‡ æ­¥çš„è®¡ç®—ï¼Œå†é€šè¿‡å…¶å®ƒçš„å¯èƒ½çš„åˆ†æ­¥è§£ç­”å†æ¬¡å°è¯•å¯»æ‰¾é—®é¢˜çš„ç­”æ¡ˆã€‚å›žæº¯æ³•é€šå¸¸ç”¨æœ€ç®€å•çš„é€’å½’æ–¹æ³•æ¥å®žçŽ°ï¼Œåœ¨åå¤é‡å¤ä¸Šè¿°çš„æ­¥éª¤åŽå¯èƒ½å‡ºçŽ°ä¸¤ç§æƒ…å†µï¼š æ‰¾åˆ°ä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„æ­£ç¡®çš„ç­”æ¡ˆ åœ¨å°è¯•äº†æ‰€æœ‰å¯èƒ½çš„åˆ†æ­¥æ–¹æ³•åŽå®£å‘Šè¯¥é—®é¢˜æ²¡æœ‰ç­”æ¡ˆ åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå›žæº¯æ³•ä¼šå¯¼è‡´ä¸€æ¬¡å¤æ‚åº¦ä¸ºæŒ‡æ•°æ—¶é—´çš„è®¡ç®—ã€‚ æ ˆ(Stack)å †æ ˆï¼ˆè‹±è¯­ï¼šstackï¼‰åˆç§°ä¸ºæ ˆæˆ–å †å ï¼Œæ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç§ç‰¹æ®Šçš„ä¸²åˆ—å½¢å¼çš„æŠ½è±¡æ•°æ®ç±»åž‹ï¼Œå…¶ç‰¹æ®Šä¹‹å¤„åœ¨äºŽåªèƒ½å…è®¸åœ¨é“¾è¡¨æˆ–æ•°ç»„çš„ä¸€ç«¯ï¼ˆç§°ä¸ºå †æ ˆé¡¶ç«¯æŒ‡é’ˆï¼Œè‹±è¯­ï¼štopï¼‰è¿›è¡ŒåŠ å…¥æ•°æ®ï¼ˆè‹±è¯­ï¼špushï¼‰å’Œè¾“å‡ºæ•°æ®ï¼ˆè‹±è¯­ï¼špopï¼‰çš„è¿ç®—ã€‚å¦å¤–å †æ ˆä¹Ÿå¯ä»¥ç”¨ä¸€ç»´æ•°ç»„æˆ–é“¾è¡¨çš„å½¢å¼æ¥å®Œæˆã€‚å †æ ˆçš„å¦å¤–ä¸€ä¸ªç›¸å¯¹çš„æ“ä½œæ–¹å¼ç§°ä¸ºé˜Ÿåˆ—ã€‚ç”±äºŽå †æ ˆæ•°æ®ç»“æž„åªå…è®¸åœ¨ä¸€ç«¯è¿›è¡Œæ“ä½œï¼Œå› è€ŒæŒ‰ç…§åŽè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰çš„åŽŸç†è¿ä½œã€‚ å †(Heap)å †ï¼ˆè‹±è¯­ï¼šHeapï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„ä¸€ç§ç‰¹åˆ«çš„æ ‘çŠ¶æ•°æ®ç»“æž„ã€‚è‹¥æ˜¯æ»¡è¶³ä»¥ä¸‹ç‰¹æ€§ï¼Œå³å¯ç§°ä¸ºå †ï¼šâ€œç»™å®šå †ä¸­ä»»æ„èŠ‚ç‚¹ P å’Œ Cï¼Œè‹¥ P æ˜¯ C çš„æ¯èŠ‚ç‚¹ï¼Œé‚£ä¹ˆ P çš„å€¼ä¼šå°äºŽç­‰äºŽï¼ˆæˆ–å¤§äºŽç­‰äºŽï¼‰ C çš„å€¼â€ã€‚è‹¥æ¯èŠ‚ç‚¹çš„å€¼æ’å°äºŽç­‰äºŽå­èŠ‚ç‚¹çš„å€¼ï¼Œæ­¤å †ç§°ä¸ºæœ€å°å †ï¼ˆmin heapï¼‰ï¼›åä¹‹ï¼Œè‹¥æ¯èŠ‚ç‚¹çš„å€¼æ’å¤§äºŽç­‰äºŽå­èŠ‚ç‚¹çš„å€¼ï¼Œæ­¤å †ç§°ä¸ºæœ€å¤§å †ï¼ˆmax heapï¼‰ã€‚åœ¨å †ä¸­æœ€é¡¶ç«¯çš„é‚£ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç§°ä½œæ ¹èŠ‚ç‚¹ï¼ˆroot nodeï¼‰ï¼Œæ ¹èŠ‚ç‚¹æœ¬èº«æ²¡æœ‰æ¯èŠ‚ç‚¹ï¼ˆparent nodeï¼‰ã€‚å †å§‹äºŽ J._W._J._Williams åœ¨ 1964 å¹´å‘è¡¨çš„å †æŽ’åºï¼ˆheap sortï¼‰ï¼Œå½“æ—¶ä»–æå‡ºäº†äºŒå‰å †æ ‘ä½œä¸ºæ­¤ç®—æ³•çš„æ•°æ®ç»“æž„ã€‚å †åœ¨æˆ´å…‹æ–¯ç‰¹æ‹‰ç®—æ³•ï¼ˆè‹±è¯­ï¼šDijkstraâ€™s algorithmï¼‰ä¸­äº¦ä¸ºé‡è¦çš„å…³é”®ã€‚åœ¨é˜Ÿåˆ—ä¸­ï¼Œè°ƒåº¦ç¨‹åºåå¤æå–é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªä½œä¸šå¹¶è¿è¡Œï¼Œå› ä¸ºå®žé™…æƒ…å†µä¸­æŸäº›æ—¶é—´è¾ƒçŸ­çš„ä»»åŠ¡å°†ç­‰å¾…å¾ˆé•¿æ—¶é—´æ‰èƒ½ç»“æŸï¼Œæˆ–è€…æŸäº›ä¸çŸ­å°ï¼Œä½†å…·æœ‰é‡è¦æ€§çš„ä½œä¸šï¼ŒåŒæ ·åº”å½“å…·æœ‰ä¼˜å…ˆæƒã€‚å †å³ä¸ºè§£å†³æ­¤ç±»é—®é¢˜è®¾è®¡çš„ä¸€ç§æ•°æ®ç»“æž„ã€‚ è´ªå¿ƒç®—æ³•(Greedy)è´ªå¿ƒç®—æ³•ï¼ˆè‹±è¯­ï¼šgreedy algorithmï¼‰ï¼Œåˆç§°è´ªå©ªç®—æ³•ï¼Œæ˜¯ä¸€ç§åœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–åœ¨å½“å‰çŠ¶æ€ä¸‹æœ€å¥½æˆ–æœ€ä¼˜ï¼ˆå³æœ€æœ‰åˆ©ï¼‰çš„é€‰æ‹©ï¼Œä»Žè€Œå¸Œæœ›å¯¼è‡´ç»“æžœæ˜¯æœ€å¥½æˆ–æœ€ä¼˜çš„ç®—æ³•ã€‚æ¯”å¦‚åœ¨æ—…è¡ŒæŽ¨é”€å‘˜é—®é¢˜ä¸­ï¼Œå¦‚æžœæ—…è¡Œå‘˜æ¯æ¬¡éƒ½é€‰æ‹©æœ€è¿‘çš„åŸŽå¸‚ï¼Œé‚£è¿™å°±æ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•ã€‚è´ªå¿ƒç®—æ³•åœ¨æœ‰æœ€ä¼˜å­ç»“æž„çš„é—®é¢˜ä¸­å°¤ä¸ºæœ‰æ•ˆã€‚æœ€ä¼˜å­ç»“æž„çš„æ„æ€æ˜¯å±€éƒ¨æœ€ä¼˜è§£èƒ½å†³å®šå…¨å±€æœ€ä¼˜è§£ã€‚ç®€å•åœ°è¯´ï¼Œé—®é¢˜èƒ½å¤Ÿåˆ†è§£æˆå­é—®é¢˜æ¥è§£å†³ï¼Œå­é—®é¢˜çš„æœ€ä¼˜è§£èƒ½é€’æŽ¨åˆ°æœ€ç»ˆé—®é¢˜çš„æœ€ä¼˜è§£ã€‚è´ªå¿ƒç®—æ³•ä¸ŽåŠ¨æ€è§„åˆ’çš„ä¸åŒåœ¨äºŽå®ƒå¯¹æ¯ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆéƒ½åšå‡ºé€‰æ‹©ï¼Œä¸èƒ½å›žé€€ã€‚åŠ¨æ€è§„åˆ’åˆ™ä¼šä¿å­˜ä»¥å‰çš„è¿ç®—ç»“æžœï¼Œå¹¶æ ¹æ®ä»¥å‰çš„ç»“æžœå¯¹å½“å‰è¿›è¡Œé€‰æ‹©ï¼Œæœ‰å›žé€€åŠŸèƒ½ã€‚è´ªå¿ƒæ³•å¯ä»¥è§£å†³ä¸€äº›æœ€ä¼˜åŒ–é—®é¢˜ï¼Œå¦‚ï¼šæ±‚å›¾ä¸­çš„æœ€å°ç”Ÿæˆæ ‘ã€æ±‚å“ˆå¤«æ›¼ç¼–ç â€¦â€¦å¯¹äºŽå…¶ä»–é—®é¢˜ï¼Œè´ªå¿ƒæ³•ä¸€èˆ¬ä¸èƒ½å¾—åˆ°æˆ‘ä»¬æ‰€è¦æ±‚çš„ç­”æ¡ˆã€‚ä¸€æ—¦ä¸€ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡è´ªå¿ƒæ³•æ¥è§£å†³ï¼Œé‚£ä¹ˆè´ªå¿ƒæ³•ä¸€èˆ¬æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€å¥½åŠžæ³•ã€‚ç”±äºŽè´ªå¿ƒæ³•çš„é«˜æ•ˆæ€§ä»¥åŠå…¶æ‰€æ±‚å¾—çš„ç­”æ¡ˆæ¯”è¾ƒæŽ¥è¿‘æœ€ä¼˜ç»“æžœï¼Œè´ªå¿ƒæ³•ä¹Ÿå¯ä»¥ç”¨ä½œè¾…åŠ©ç®—æ³•æˆ–è€…ç›´æŽ¥è§£å†³ä¸€äº›è¦æ±‚ç»“æžœä¸ç‰¹åˆ«ç²¾ç¡®çš„é—®é¢˜ã€‚ æŽ’åº(Sort)åœ¨è®¡ç®—æœºç§‘å­¦ä¸Žæ•°å­¦ä¸­ï¼Œä¸€ä¸ªæŽ’åºç®—æ³•ï¼ˆè‹±è¯­ï¼šSorting algorithmï¼‰æ˜¯ä¸€ç§èƒ½å°†ä¸€ä¸²æ•°æ®ä¾ç…§ç‰¹å®šæŽ’åºæ–¹å¼è¿›è¡ŒæŽ’åˆ—çš„ä¸€ç§ç®—æ³•ã€‚æœ€å¸¸ç”¨åˆ°çš„æŽ’åºæ–¹å¼æ˜¯æ•°å€¼é¡ºåºä»¥åŠå­—å…¸é¡ºåºã€‚æœ‰æ•ˆçš„æŽ’åºç®—æ³•åœ¨ä¸€äº›ç®—æ³•ï¼ˆä¾‹å¦‚æœç´¢ç®—æ³•ä¸Žåˆå¹¶ç®—æ³•ï¼‰ä¸­æ˜¯é‡è¦çš„ï¼Œå¦‚æ­¤è¿™äº›ç®—æ³•æ‰èƒ½å¾—åˆ°æ­£ç¡®è§£ç­”ã€‚æŽ’åºç®—æ³•ä¹Ÿç”¨åœ¨å¤„ç†æ–‡å­—æ•°æ®ä»¥åŠäº§ç”Ÿäººç±»å¯è¯»çš„è¾“å‡ºç»“æžœã€‚åŸºæœ¬ä¸Šï¼ŒæŽ’åºç®—æ³•çš„è¾“å‡ºå¿…é¡»éµå®ˆä¸‹åˆ—ä¸¤ä¸ªåŽŸåˆ™ï¼š è¾“å‡ºç»“æžœä¸ºé€’å¢žåºåˆ—ï¼ˆé€’å¢žæ˜¯é’ˆå¯¹æ‰€éœ€çš„æŽ’åºé¡ºåºè€Œè¨€ï¼‰ è¾“å‡ºç»“æžœæ˜¯åŽŸè¾“å…¥çš„ä¸€ç§æŽ’åˆ—ã€æˆ–æ˜¯é‡ç»„ è™½ç„¶æŽ’åºç®—æ³•æ˜¯ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼Œä½†æ˜¯ä»Žè®¡ç®—æœºç§‘å­¦å‘å±•ä»¥æ¥ï¼Œåœ¨æ­¤é—®é¢˜ä¸Šå·²ç»æœ‰å¤§é‡çš„ç ”ç©¶ã€‚ä¸¾ä¾‹è€Œè¨€ï¼Œå†’æ³¡æŽ’åºåœ¨1956å¹´å°±å·²ç»è¢«ç ”ç©¶ã€‚è™½ç„¶å¤§éƒ¨åˆ†äººè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå·²ç»è¢«è§£å†³çš„é—®é¢˜ï¼Œæœ‰ç”¨çš„æ–°ç®—æ³•ä»åœ¨ä¸æ–­çš„è¢«å‘æ˜Žã€‚ï¼ˆä¾‹å­ï¼šå›¾ä¹¦é¦†æŽ’åºåœ¨2004å¹´è¢«å‘è¡¨ï¼‰ ä½è¿ç®—(Bit Manipulation)ä½æ“ä½œæ˜¯ç®—æ³•æ“ä½œæ¯”å­—&amp;xid=25657,15700021,15700186,15700190,15700248&amp;usg=ALkJrhjWJGcdyh6D0YqybOhRRrQm_q3weA)çŸ­çš„ä½æˆ–å…¶ä»–æ•°æ®&amp;xid=25657,15700021,15700186,15700190,15700248&amp;usg=ALkJrhimJkNnf1ms2G_qzxH5ThHaFXOF3w)çš„è¡Œä¸ºã€‚ éœ€è¦ä½æ“ä½œçš„è®¡ç®—æœºç¼–ç¨‹ä»»åŠ¡åŒ…æ‹¬ä½Žçº§è®¾å¤‡æŽ§åˆ¶ï¼Œ é”™è¯¯æ£€æµ‹å’Œçº æ­£ç®—æ³•ï¼Œ æ•°æ®åŽ‹ç¼© ï¼Œ åŠ å¯†ç®—æ³•å’Œä¼˜åŒ–&amp;xid=25657,15700021,15700186,15700190,15700248&amp;usg=ALkJrhh_t9EuZt8FPWcE83nzA7-3KzopLw) ã€‚ å¯¹äºŽå¤§å¤šæ•°å…¶ä»–ä»»åŠ¡ï¼ŒçŽ°ä»£ç¼–ç¨‹è¯­è¨€å…è®¸ç¨‹åºå‘˜ç›´æŽ¥ä½¿ç”¨æŠ½è±¡&amp;xid=25657,15700021,15700186,15700190,15700248&amp;usg=ALkJrhgsc5qtrh0_vT7zGYTWMCKDHxCcOA)è€Œä¸æ˜¯ä»£è¡¨é‚£äº›æŠ½è±¡çš„ä½ã€‚ æ‰§è¡Œä½æ“ä½œçš„æºä»£ç ä½¿ç”¨æŒ‰ä½è¿ç®— ï¼šANDï¼ŒORï¼ŒXORï¼ŒNOTå’Œä½ç§» ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½æ“ä½œå¯ä»¥æ¶ˆé™¤æˆ–å‡å°‘å¾ªçŽ¯æ•°æ®ç»“æž„çš„éœ€è¦ï¼Œå¹¶ä¸”å¯ä»¥æä¾›å¤šå€çš„åŠ é€Ÿï¼Œå› ä¸ºå¹¶è¡Œå¤„ç†ä½æ“ä½œï¼Œä½†ä»£ç å¯èƒ½å˜å¾—æ›´éš¾ä»¥ç¼–å†™å’Œç»´æŠ¤ã€‚ æ ‘(Tree)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ ‘ï¼ˆè‹±è¯­ï¼štreeï¼‰æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç±»åž‹ï¼ˆADTï¼‰æˆ–æ˜¯å®žçŽ°è¿™ç§æŠ½è±¡æ•°æ®ç±»åž‹çš„æ•°æ®ç»“æž„ï¼Œç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æž„æ€§è´¨çš„æ•°æ®é›†åˆã€‚å®ƒæ˜¯ç”±nï¼ˆn&gt;0ï¼‰ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆä¸€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚æŠŠå®ƒå«åšâ€œæ ‘â€æ˜¯å› ä¸ºå®ƒçœ‹èµ·æ¥åƒä¸€æ£µå€’æŒ‚çš„æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯æ ¹æœä¸Šï¼Œè€Œå¶æœä¸‹çš„ã€‚å®ƒå…·æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š æ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ï¼› æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹ï¼› æ¯ä¸€ä¸ªéžæ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼› é™¤äº†æ ¹èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹å¯ä»¥åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„å­æ ‘ï¼› æ ‘é‡Œé¢æ²¡æœ‰çŽ¯è·¯(cycle) æ·±åº¦ä¼˜å…ˆæœç´¢(Depth-first Search)æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆè‹±è¯­ï¼šDepth-First-Searchï¼ŒDFSï¼‰æ˜¯ä¸€ç§ç”¨äºŽéåŽ†æˆ–æœç´¢æ ‘)æˆ–å›¾)çš„ç®—æ³•ã€‚æ²¿ç€æ ‘çš„æ·±åº¦éåŽ†æ ‘çš„èŠ‚ç‚¹ï¼Œå°½å¯èƒ½æ·±çš„æœç´¢æ ‘çš„åˆ†æ”¯ã€‚å½“èŠ‚ç‚¹vçš„æ‰€åœ¨è¾¹éƒ½å·±è¢«æŽ¢å¯»è¿‡ï¼Œæœç´¢å°†å›žæº¯åˆ°å‘çŽ°èŠ‚ç‚¹vçš„é‚£æ¡è¾¹çš„èµ·å§‹èŠ‚ç‚¹ã€‚è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°å·²å‘çŽ°ä»ŽæºèŠ‚ç‚¹å¯è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ­¢ã€‚å¦‚æžœè¿˜å­˜åœ¨æœªè¢«å‘çŽ°çš„èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä½œä¸ºæºèŠ‚ç‚¹å¹¶é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ•´ä¸ªè¿›ç¨‹åå¤è¿›è¡Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®ä¸ºæ­¢ã€‚å±žäºŽç›²ç›®æœç´¢ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æŽ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æŽ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚å› å‘æ˜Žâ€œæ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•â€ï¼Œçº¦ç¿°Â·éœæ™®å…‹æ´›å¤«ç‰¹ä¸Žç½—ä¼¯ç‰¹Â·å¡”æ‰¬åœ¨1986å¹´å…±åŒèŽ·å¾—è®¡ç®—æœºé¢†åŸŸçš„æœ€é«˜å¥–ï¼šå›¾çµå¥–ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢(Breadth-first Search)å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆè‹±è¯­ï¼šBreadth-First-Searchï¼Œç¼©å†™ä¸ºBFSï¼‰ï¼Œåˆè¯‘ä½œå®½åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ–æ¨ªå‘ä¼˜å…ˆæœç´¢ï¼Œæ˜¯ä¸€ç§å›¾å½¢æœç´¢ç®—æ³•ã€‚ç®€å•çš„è¯´ï¼ŒBFSæ˜¯ä»Žæ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ²¿ç€æ ‘çš„å®½åº¦éåŽ†æ ‘çš„èŠ‚ç‚¹ã€‚å¦‚æžœæ‰€æœ‰èŠ‚ç‚¹å‡è¢«è®¿é—®ï¼Œåˆ™ç®—æ³•ä¸­æ­¢ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å®žçŽ°ä¸€èˆ¬é‡‡ç”¨open-closedè¡¨ã€‚ å¹¶æŸ¥é›†(Union Find)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå¹¶æŸ¥é›†æ˜¯ä¸€ç§æ ‘åž‹çš„æ•°æ®ç»“æž„ï¼Œç”¨äºŽå¤„ç†ä¸€äº›ä¸äº¤é›†ï¼ˆDisjoint Setsï¼‰çš„åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜ã€‚æœ‰ä¸€ä¸ªè”åˆ-æŸ¥æ‰¾ç®—æ³•ï¼ˆunion-find algorithmï¼‰å®šä¹‰äº†ä¸¤ä¸ªç”¨äºŽæ­¤æ•°æ®ç»“æž„çš„æ“ä½œï¼š Findï¼šç¡®å®šå…ƒç´ å±žäºŽå“ªä¸€ä¸ªå­é›†ã€‚å®ƒå¯ä»¥è¢«ç”¨æ¥ç¡®å®šä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±žäºŽåŒä¸€å­é›†ã€‚ Unionï¼šå°†ä¸¤ä¸ªå­é›†åˆå¹¶æˆåŒä¸€ä¸ªé›†åˆã€‚ ç”±äºŽæ”¯æŒè¿™ä¸¤ç§æ“ä½œï¼Œä¸€ä¸ªä¸ç›¸äº¤é›†ä¹Ÿå¸¸è¢«ç§°ä¸ºè”åˆ-æŸ¥æ‰¾æ•°æ®ç»“æž„ï¼ˆunion-find data structureï¼‰æˆ–åˆå¹¶-æŸ¥æ‰¾é›†åˆï¼ˆmerge-find setï¼‰ã€‚å…¶ä»–çš„é‡è¦æ–¹æ³•ï¼ŒMakeSetï¼Œç”¨äºŽåˆ›å»ºå•å…ƒç´ é›†åˆã€‚æœ‰äº†è¿™äº›æ–¹æ³•ï¼Œè®¸å¤šç»å…¸çš„åˆ’åˆ†é—®é¢˜å¯ä»¥è¢«è§£å†³ã€‚ä¸ºäº†æ›´åŠ ç²¾ç¡®çš„å®šä¹‰è¿™äº›æ–¹æ³•ï¼Œéœ€è¦å®šä¹‰å¦‚ä½•è¡¨ç¤ºé›†åˆã€‚ä¸€ç§å¸¸ç”¨çš„ç­–ç•¥æ˜¯ä¸ºæ¯ä¸ªé›†åˆé€‰å®šä¸€ä¸ªå›ºå®šçš„å…ƒç´ ï¼Œç§°ä¸ºä»£è¡¨ï¼Œä»¥è¡¨ç¤ºæ•´ä¸ªé›†åˆã€‚æŽ¥ç€ï¼ŒFind(x) è¿”å›ž x æ‰€å±žé›†åˆçš„ä»£è¡¨ï¼Œè€Œ Union ä½¿ç”¨ä¸¤ä¸ªé›†åˆçš„ä»£è¡¨ä½œä¸ºå‚æ•°ã€‚ å›¾(Graph) è®¾è®¡(Design) æ‹“æ‰‘æŽ’åº(Topological Sort)åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œæœ‰å‘å›¾çš„æ‹“æ‰‘æŽ’åºæ˜¯å…¶é¡¶ç‚¹çš„çº¿æ€§æŽ’åºï¼Œä½¿å¾—å¯¹äºŽä»Žé¡¶ç‚¹åˆ°é¡¶ç‚¹çš„æ¯ä¸ªæœ‰å‘è¾¹ï¼Œåœ¨æŽ’åºä¸­éƒ½åœ¨ä¹‹å‰ã€‚ ä¾‹å¦‚ï¼Œå›¾å½¢çš„é¡¶ç‚¹å¯ä»¥è¡¨ç¤ºè¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶ä¸”è¾¹å¯ä»¥è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡ä¹‹å‰æ‰§è¡Œçš„çº¦æŸ; åœ¨è¿™ä¸ªåº”ç”¨ä¸­ï¼Œæ‹“æ‰‘æŽ’åºåªæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä»»åŠ¡é¡ºåºã€‚ å¦‚æžœä¸”ä»…å½“å›¾å½¢æ²¡æœ‰å®šå‘å¾ªçŽ¯ï¼Œå³å¦‚æžœå®ƒæ˜¯æœ‰å‘æ— çŽ¯å›¾ï¼ˆDAGï¼‰ï¼Œåˆ™æ‹“æ‰‘æŽ’åºæ˜¯å¯èƒ½çš„ã€‚ ä»»ä½• DAG å…·æœ‰è‡³å°‘ä¸€ä¸ªæ‹“æ‰‘æŽ’åºï¼Œå¹¶ä¸”å·²çŸ¥è¿™äº›ç®—æ³•ç”¨äºŽåœ¨çº¿æ€§æ—¶é—´å†…æž„å»ºä»»ä½• DAG çš„æ‹“æ‰‘æŽ’åºã€‚åœ¨å›¾è®ºä¸­ï¼Œç”±ä¸€ä¸ªæœ‰å‘æ— çŽ¯å›¾çš„é¡¶ç‚¹ç»„æˆçš„åºåˆ—ï¼Œå½“ä¸”ä»…å½“æ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ—¶ï¼Œç§°ä¸ºè¯¥å›¾çš„ä¸€ä¸ªæ‹“æ‰‘æŽ’åºï¼ˆè‹±è¯­ï¼šTopological sortingï¼‰ã€‚ æ¯ä¸ªé¡¶ç‚¹å‡ºçŽ°ä¸”åªå‡ºçŽ°ä¸€æ¬¡ï¼› è‹¥Aåœ¨åºåˆ—ä¸­æŽ’åœ¨Bçš„å‰é¢ï¼Œåˆ™åœ¨å›¾ä¸­ä¸å­˜åœ¨ä»ŽBåˆ°Açš„è·¯å¾„)ã€‚ å­—å…¸æ ‘(Trie)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œtrieï¼Œåˆç§°å‰ç¼€æ ‘æˆ–å­—å…¸æ ‘ï¼Œæ˜¯ä¸€ç§æœ‰åºæ ‘)ï¼Œç”¨äºŽä¿å­˜å…³è”æ•°ç»„ï¼Œå…¶ä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ã€‚ä¸ŽäºŒå‰æŸ¥æ‰¾æ ‘ä¸åŒï¼Œé”®ä¸æ˜¯ç›´æŽ¥ä¿å­˜åœ¨èŠ‚ç‚¹ä¸­ï¼Œè€Œæ˜¯ç”±èŠ‚ç‚¹åœ¨æ ‘ä¸­çš„ä½ç½®å†³å®šã€‚ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™éƒ½æœ‰ç›¸åŒçš„å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œè€Œæ ¹èŠ‚ç‚¹å¯¹åº”ç©ºå­—ç¬¦ä¸²ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æœ‰å¯¹åº”çš„å€¼ï¼Œåªæœ‰å¶å­èŠ‚ç‚¹å’Œéƒ¨åˆ†å†…éƒ¨èŠ‚ç‚¹æ‰€å¯¹åº”çš„é”®æ‰æœ‰ç›¸å…³çš„å€¼ã€‚Trieè¿™ä¸ªæœ¯è¯­æ¥è‡ªäºŽretrievalã€‚æ ¹æ®è¯æºå­¦ï¼Œtrieçš„å‘æ˜Žè€…Edward FredkinæŠŠå®ƒè¯»ä½œ/ËˆtriË/ â€œtreeâ€ã€‚ä½†æ˜¯ï¼Œå…¶ä»–ä½œè€…æŠŠå®ƒè¯»ä½œ/ËˆtraÉª/ â€œtryâ€ã€‚åœ¨å›¾ç¤ºä¸­ï¼Œé”®æ ‡æ³¨åœ¨èŠ‚ç‚¹ä¸­ï¼Œå€¼æ ‡æ³¨åœ¨èŠ‚ç‚¹ä¹‹ä¸‹ã€‚æ¯ä¸€ä¸ªå®Œæ•´çš„è‹±æ–‡å•è¯å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„æ•´æ•°ã€‚Trieå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œå°½ç®¡è¾¹ä¸Šçš„ç¬¦å·ä¸€èˆ¬æ˜¯éšå«åœ¨åˆ†æ”¯çš„é¡ºåºä¸­çš„ã€‚é”®ä¸éœ€è¦è¢«æ˜¾å¼åœ°ä¿å­˜åœ¨èŠ‚ç‚¹ä¸­ã€‚å›¾ç¤ºä¸­æ ‡æ³¨å‡ºå®Œæ•´çš„å•è¯ï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºtrieçš„åŽŸç†ã€‚trieä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒçš„ç»“æž„ã€‚trieçš„ç®—æ³•å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¿®æ”¹ä¸ºå¤„ç†å…¶å®ƒç»“æž„çš„æœ‰åºåºåˆ—ï¼Œæ¯”å¦‚ä¸€ä¸²æ•°å­—æˆ–è€…å½¢çŠ¶çš„æŽ’åˆ—ã€‚æ¯”å¦‚ï¼Œbitwise trieä¸­çš„é”®æ˜¯ä¸€ä¸²æ¯”ç‰¹ï¼Œå¯ä»¥ç”¨äºŽè¡¨ç¤ºæ•´æ•°æˆ–è€…å†…å­˜åœ°å€ã€‚ æ ‘çŠ¶æ•°ç»„(Binary Indexed Tree)æ ‘çŠ¶æ•°ç»„æˆ–äºŒå‰ç´¢å¼•æ ‘ï¼ˆè‹±è¯­ï¼šBinary Indexed Treeï¼‰ï¼Œåˆä»¥å…¶å‘æ˜Žè€…å‘½åä¸ºFenwickæ ‘ï¼Œæœ€æ—©ç”±Peter M. FenwickäºŽ1994å¹´ä»¥A New Data Structure for Cumulative Frequency Tablesä¸ºé¢˜å‘è¡¨åœ¨SOFTWARE PRACTICE AND EXPERIENCEã€‚å…¶åˆè¡·æ˜¯è§£å†³æ•°æ®åŽ‹ç¼©é‡Œçš„ç´¯ç§¯é¢‘çŽ‡ï¼ˆCumulative Frequencyï¼‰çš„è®¡ç®—é—®é¢˜ï¼ŒçŽ°å¤šç”¨äºŽé«˜æ•ˆè®¡ç®—æ•°åˆ—çš„å‰ç¼€å’Œï¼Œ åŒºé—´å’Œã€‚å®ƒå¯ä»¥ä»¥çš„æ—¶é—´å¾—åˆ°ä»»æ„å‰ç¼€å’Œï¼Œå¹¶åŒæ—¶æ”¯æŒåœ¨æ—¶é—´å†…æ”¯æŒåŠ¨æ€å•ç‚¹å€¼çš„ä¿®æ”¹ã€‚ç©ºé—´å¤æ‚åº¦ã€‚ çº¿æ®µæ ‘(Segment Tree)çº¿æ®µæ ‘ï¼ˆè‹±è¯­ï¼šSegment treeï¼‰æ˜¯ä¸€ç§äºŒå‰æ ‘å½¢æ•°æ®ç»“æž„ï¼Œ1977å¹´ç”±Jon Louis Bentleyå‘æ˜Žï¼Œç”¨ä»¥å­˜å‚¨åŒºé—´æˆ–çº¿æ®µï¼Œå¹¶ä¸”å…è®¸å¿«é€ŸæŸ¥è¯¢ç»“æž„å†…åŒ…å«æŸä¸€ç‚¹çš„æ‰€æœ‰åŒºé—´ã€‚ä¸€ä¸ªåŒ…å«ä¸ªåŒºé—´çš„çº¿æ®µæ ‘ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºï¼ŒæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦åˆ™ä¸ºï¼Œå…¶ä¸­ æ˜¯åŒ¹é…æ¡ä»¶çš„åŒºé—´æ•°é‡ã€‚æ­¤æ•°æ®ç»“æž„äº¦å¯æŽ¨å¹¿åˆ°é«˜ç»´åº¦ã€‚ äºŒå‰æœç´¢æ ‘(Binary Search Tree)äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆè‹±è¯­ï¼šBinary Search Treeï¼‰ï¼Œä¹Ÿç§°ä¸ºäºŒå‰æœç´¢æ ‘ã€æœ‰åºäºŒå‰æ ‘ï¼ˆordered binary treeï¼‰æˆ–æŽ’åºäºŒå‰æ ‘ï¼ˆsorted binary treeï¼‰ï¼Œæ˜¯æŒ‡ä¸€æ£µç©ºæ ‘æˆ–è€…å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š è‹¥ä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºŽå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼› è‹¥ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºŽå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼› ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ï¼› æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘ç›¸æ¯”äºŽå…¶ä»–æ•°æ®ç»“æž„çš„ä¼˜åŠ¿åœ¨äºŽæŸ¥æ‰¾ã€æ’å…¥çš„æ—¶é—´å¤æ‚åº¦è¾ƒä½Žã€‚ä¸ºã€‚äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯åŸºç¡€æ€§æ•°æ®ç»“æž„ï¼Œç”¨äºŽæž„å»ºæ›´ä¸ºæŠ½è±¡çš„æ•°æ®ç»“æž„ï¼Œå¦‚é›†åˆ)ã€å¤šé‡é›†ã€å…³è”æ•°ç»„ç­‰ã€‚äºŒå‰æŸ¥æ‰¾æ ‘çš„æŸ¥æ‰¾è¿‡ç¨‹å’Œæ¬¡ä¼˜äºŒå‰æ ‘ç±»ä¼¼ï¼Œé€šå¸¸é‡‡å–äºŒå‰é“¾è¡¨ä½œä¸ºäºŒå‰æŸ¥æ‰¾æ ‘çš„å­˜å‚¨ç»“æž„ã€‚ä¸­åºéåŽ†äºŒå‰æŸ¥æ‰¾æ ‘å¯å¾—åˆ°ä¸€ä¸ªå…³é”®å­—çš„æœ‰åºåºåˆ—ï¼Œä¸€ä¸ªæ— åºåºåˆ—å¯ä»¥é€šè¿‡æž„é€ ä¸€æ£µäºŒå‰æŸ¥æ‰¾æ ‘å˜æˆä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œæž„é€ æ ‘çš„è¿‡ç¨‹å³ä¸ºå¯¹æ— åºåºåˆ—è¿›è¡ŒæŸ¥æ‰¾çš„è¿‡ç¨‹ã€‚æ¯æ¬¡æ’å…¥çš„æ–°çš„ç»“ç‚¹éƒ½æ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ä¸Šæ–°çš„å¶å­ç»“ç‚¹ï¼Œåœ¨è¿›è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œä¸å¿…ç§»åŠ¨å…¶å®ƒç»“ç‚¹ï¼Œåªéœ€æ”¹åŠ¨æŸä¸ªç»“ç‚¹çš„æŒ‡é’ˆï¼Œç”±ç©ºå˜ä¸ºéžç©ºå³å¯ã€‚æœç´¢ã€æ’å…¥ã€åˆ é™¤çš„å¤æ‚åº¦ç­‰äºŽæ ‘é«˜ï¼ŒæœŸæœ›ï¼Œæœ€åï¼ˆæ•°åˆ—æœ‰åºï¼Œæ ‘é€€åŒ–æˆçº¿æ€§è¡¨ï¼‰ã€‚è™½ç„¶äºŒå‰æŸ¥æ‰¾æ ‘çš„æœ€åæ•ˆçŽ‡æ˜¯,ä½†å®ƒæ”¯æŒåŠ¨æ€æŸ¥è¯¢ï¼Œä¸”æœ‰å¾ˆå¤šæ”¹è¿›ç‰ˆçš„äºŒå‰æŸ¥æ‰¾æ ‘å¯ä»¥ä½¿æ ‘é«˜ä¸º,å¦‚SBT,AVLæ ‘ï¼Œçº¢é»‘æ ‘ç­‰ã€‚æ•…ä¸å¤±ä¸ºä¸€ç§å¥½çš„åŠ¨æ€æŸ¥æ‰¾æ–¹æ³•ã€‚ é€’å½’(Recursion)é€’å½’ï¼ˆè‹±è¯­ï¼šRecursionï¼‰ï¼Œåˆè¯‘ä¸ºé€’å›žï¼Œåœ¨æ•°å­¦ä¸Žè®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ˜¯æŒ‡åœ¨å‡½æ•°çš„å®šä¹‰ä¸­ä½¿ç”¨å‡½æ•°è‡ªèº«çš„æ–¹æ³•ã€‚é€’å½’ä¸€è¯è¿˜è¾ƒå¸¸ç”¨äºŽæè¿°ä»¥è‡ªç›¸ä¼¼æ–¹æ³•é‡å¤äº‹ç‰©çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå½“ä¸¤é¢é•œå­ç›¸äº’ä¹‹é—´è¿‘ä¼¼å¹³è¡Œæ—¶ï¼Œé•œä¸­åµŒå¥—çš„å›¾åƒæ˜¯ä»¥æ— é™é€’å½’çš„å½¢å¼å‡ºçŽ°çš„ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºè‡ªæˆ‘å¤åˆ¶çš„è¿‡ç¨‹ã€‚ è„‘ç­‹æ€¥è½¬å¼¯(Brainteaser) è®°å¿†åŒ–(Memoization)åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œè®°å¿†åŒ–ï¼ˆè‹±è¯­ï¼šmemoizationè€Œéžmemorizationï¼‰æ˜¯ä¸€ç§æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦çš„ä¼˜åŒ–æŠ€æœ¯ã€‚é€šè¿‡å‚¨å­˜å¤§è®¡ç®—é‡å‡½æ•°çš„è¿”å›žå€¼ï¼Œå½“è¿™ä¸ªç»“æžœå†æ¬¡è¢«éœ€è¦æ—¶å°†å…¶ä»Žç¼“å­˜æå–ï¼Œè€Œä¸ç”¨å†æ¬¡è®¡ç®—æ¥èŠ‚çœè®¡ç®—æ—¶é—´ã€‚ è®°å¿†åŒ–æ˜¯ä¸€ç§å…¸åž‹çš„æ—¶é—´å­˜å‚¨å¹³è¡¡æ–¹æ¡ˆã€‚ é˜Ÿåˆ—(Queue)é˜Ÿåˆ—ï¼Œåˆç§°ä¸ºä¼«åˆ—ï¼ˆqueueï¼‰ï¼Œæ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFO, First-In-First-Outï¼‰çš„çº¿æ€§è¡¨ã€‚åœ¨å…·ä½“åº”ç”¨ä¸­é€šå¸¸ç”¨é“¾è¡¨æˆ–è€…æ•°ç»„æ¥å®žçŽ°ã€‚é˜Ÿåˆ—åªå…è®¸åœ¨åŽç«¯ï¼ˆç§°ä¸ºrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œï¼Œåœ¨å‰ç«¯ï¼ˆç§°ä¸ºfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œã€‚é˜Ÿåˆ—çš„æ“ä½œæ–¹å¼å’Œå †æ ˆç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºŽé˜Ÿåˆ—åªå…è®¸æ–°æ•°æ®åœ¨åŽç«¯è¿›è¡Œæ·»åŠ ã€‚ æžå°åŒ–æžå¤§(Minimax)Minimaxç®—æ³•ï¼ˆäº¦ç§° MinMax or MMï¼‰åˆåæžå°åŒ–æžå¤§ç®—æ³•ï¼Œæ˜¯ä¸€ç§æ‰¾å‡ºå¤±è´¥çš„æœ€å¤§å¯èƒ½æ€§ä¸­çš„æœ€å°å€¼çš„ç®—æ³•ã€‚ è“„æ°´æ± æŠ½æ ·(Reservoir Sampinh) Map å‡ ä½•(Geometry) Rendom Rejection Samping å‚è€ƒä»¥ä¸Šå†…å®¹å‡æ¥è‡ªwikipedia]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[LInuxå­¦ä¹ 5]]></title>
    <url>%2F2019%2F01%2Fyuque%2Flinux_learning5%2F</url>
    <content type="text"><![CDATA[ç½‘ç»œå‘½ä»¤ ç¼–è¯‘ï¼špeida é“¾æŽ¥ï¼šhttps://www.cnblogs.com/peida/archive/2012/12/05/2803591.html ifconfigå‘½ä»¤ æ¦‚è¿°è®¸å¤šWindowséžå¸¸ç†Ÿæ‚‰ipconfigå‘½ä»¤å·¥å…·ï¼Œå®ƒè¢«ç”¨æ¥èŽ·å–ç½‘ç»œæŽ¥å£é…ç½®ä¿¡æ¯å¹¶å¯¹æ­¤è¿›è¡Œä¿®æ”¹ã€‚Linuxç³»ç»Ÿæ‹¥æœ‰ç±»ä¼¼çš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯ifconfigï¼ˆinterfaces configï¼‰ã€‚é€šå¸¸éœ€è¦ä»¥rootèº«ä»½ç™»å½•æˆ–è€…ä½¿ç”¨sudoä»¥ä¾¿åœ¨LInuxæœºå™¨ä¸Šä½¿ç”¨ifconfigå·¥å…·ã€‚ä¾èµ–äºŽifconfigå‘½ä»¤ä¸­ä½¿ç”¨ä¸€äº›é€‰é¡¹å±žæ€§ï¼Œifconfigå·¥å…·ä¸ä»…å¯ä»¥è¢«ç”¨æ¥ç®€å•åœ°èŽ·å–ç½‘ç»œæŽ¥å£é…ç½®ä¿¡æ¯ç­‰ï¼Œè¿˜å¯ä»¥ä¿®æ”¹è¿™äº›é…ç½® å‘½ä»¤æ ¼å¼ifconfig[ç½‘ç»œè®¾å¤‡][å‚æ•°] å‘½ä»¤å‚æ•°12345678910111213141516171819up å¯åŠ¨æŒ‡å®šç½‘ç»œè®¾å¤‡/ç½‘å¡ã€‚down å…³é—­æŒ‡å®šç½‘ç»œè®¾å¤‡/ç½‘å¡ã€‚è¯¥å‚æ•°å¯ä»¥æœ‰æ•ˆåœ°é˜»æ­¢é€šè¿‡æŒ‡å®šæŽ¥å£çš„IPä¿¡æ¯æµï¼Œå¦‚æžœæƒ³æ°¸ä¹…åœ°å…³é—­ä¸€ä¸ªæŽ¥å£ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä»Žæ ¸å¿ƒè·¯ç”±è¡¨ä¸­å°†è¯¥æŽ¥å£çš„è·¯ç”±ä¿¡æ¯å…¨éƒ¨åˆ é™¤ã€‚arp è®¾ç½®æŒ‡å®šç½‘å¡æ˜¯å¦æ”¯æŒARPåè®®ã€‚-promisc è®¾ç½®æ˜¯å¦æ”¯æŒç½‘å¡çš„promiscuousæ¨¡å¼ï¼Œå¦‚æžœé€‰æ‹©æ­¤å‚æ•°ï¼Œç½‘å¡å°†æŽ¥æ”¶ç½‘ç»œä¸­å‘ç»™å®ƒæ‰€æœ‰çš„æ•°æ®åŒ…-allmulti è®¾ç½®æ˜¯å¦æ”¯æŒå¤šæ’­æ¨¡å¼ï¼Œå¦‚æžœé€‰æ‹©æ­¤å‚æ•°ï¼Œç½‘å¡å°†æŽ¥æ”¶ç½‘ç»œä¸­æ‰€æœ‰çš„å¤šæ’­æ•°æ®åŒ…-a æ˜¾ç¤ºå…¨éƒ¨æŽ¥å£ä¿¡æ¯-s æ˜¾ç¤ºæ‘˜è¦ä¿¡æ¯ï¼ˆç±»ä¼¼äºŽ netstat -iï¼‰add ç»™æŒ‡å®šç½‘å¡é…ç½®IPv6åœ°å€del åˆ é™¤æŒ‡å®šç½‘å¡çš„IPv6åœ°å€&lt;ç¡¬ä»¶åœ°å€&gt; é…ç½®ç½‘å¡æœ€å¤§çš„ä¼ è¾“å•å…ƒmtu&lt;å­—èŠ‚æ•°&gt; è®¾ç½®ç½‘å¡çš„æœ€å¤§ä¼ è¾“å•å…ƒ (bytes)netmask&lt;å­ç½‘æŽ©ç &gt; è®¾ç½®ç½‘å¡çš„å­ç½‘æŽ©ç ã€‚æŽ©ç å¯ä»¥æ˜¯æœ‰å‰ç¼€0xçš„32ä½åå…­è¿›åˆ¶æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨ç‚¹åˆ†å¼€çš„4ä¸ªåè¿›åˆ¶æ•°ã€‚å¦‚æžœä¸æ‰“ç®—å°†ç½‘ç»œåˆ†æˆå­ç½‘ï¼Œå¯ä»¥ä¸ç®¡è¿™ä¸€é€‰é¡¹ï¼›å¦‚æžœè¦ä½¿ç”¨å­ç½‘ï¼Œé‚£ä¹ˆè¯·è®°ä½ï¼Œç½‘ç»œä¸­æ¯ä¸€ä¸ªç³»ç»Ÿå¿…é¡»æœ‰ç›¸åŒå­ç½‘æŽ©ç ã€‚tunel å»ºç«‹éš§é“dstaddr è®¾å®šä¸€ä¸ªè¿œç«¯åœ°å€ï¼Œå»ºç«‹ç‚¹å¯¹ç‚¹é€šä¿¡-broadcast&lt;åœ°å€&gt; ä¸ºæŒ‡å®šç½‘å¡è®¾ç½®å¹¿æ’­åè®®-pointtopoint&lt;åœ°å€&gt; ä¸ºç½‘å¡è®¾ç½®ç‚¹å¯¹ç‚¹é€šè®¯åè®®multicast ä¸ºç½‘å¡è®¾ç½®ç»„æ’­æ ‡å¿—address ä¸ºç½‘å¡è®¾ç½®IPv4åœ°å€txqueuelen&lt;é•¿åº¦&gt; ä¸ºç½‘å¡è®¾ç½®ä¼ è¾“åˆ—é˜Ÿçš„é•¿åº¦ å¸¸ç”¨å‘½ä»¤å®žä¾‹ï¼šæ˜¾ç¤ºç½‘ç»œè®¾å¤‡ä¿¡æ¯ï¼ˆæ¿€æ´»çŠ¶æ€çš„ï¼‰å‘½ä»¤ï¼šifconfig[root@localhost ~]# ifconfigeth0 Link encap:Ethernet HWaddr 00:50:56:BF:26:20 inet addr:192.168.120.204 Bcast:192.168.120.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:8700857 errors:0 dropped:0 overruns:0 frame:0 TX packets:31533 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:596390239 (568.7 MiB) TX bytes:2886956 (2.7 MiB)lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packets:68 errors:0 dropped:0 overruns:0 frame:0 TX packets:68 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:2856 (2.7 KiB) TX bytes:2856 (2.7 KiB)è¯´æ˜Žï¼šeth0è¡¨ç¤ºç¬¬ä¸€å—ç½‘å¡ï¼Œå…¶ä¸­HWaddrè¡¨ç¤ºç½‘å¡çš„ç‰©ç†åœ°å€ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰è¿™ä¸ªç½‘å¡çš„ç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰æ˜¯ 00:50:56:BF:26:20inet addr ç”¨æ¥è¡¨ç¤ºç½‘å¡çš„IPåœ°å€ï¼Œæ­¤ç½‘å¡çš„ IPåœ°å€æ˜¯ 192.168.120.204ï¼Œå¹¿æ’­åœ°å€ï¼Œ Bcast:192.168.120.255ï¼ŒæŽ©ç åœ°å€Mask:255.255.255.0 lo æ˜¯è¡¨ç¤ºä¸»æœºçš„å›žååœ°å€ï¼Œè¿™ä¸ªä¸€èˆ¬æ˜¯ç”¨æ¥æµ‹è¯•ä¸€ä¸ªç½‘ç»œç¨‹åºï¼Œä½†åˆä¸æƒ³è®©å±€åŸŸç½‘æˆ–å¤–ç½‘çš„ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹ï¼Œåªèƒ½åœ¨æ­¤å°ä¸»æœºä¸Šè¿è¡Œå’ŒæŸ¥çœ‹æ‰€ç”¨çš„ç½‘ç»œæŽ¥å£ã€‚æ¯”å¦‚æŠŠ HTTPDæœåŠ¡å™¨çš„æŒ‡å®šåˆ°å›žååœ°å€ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ 127.0.0.1 å°±èƒ½çœ‹åˆ°ä½ æ‰€æž¶WEBç½‘ç«™äº†ã€‚ä½†åªæ˜¯æ‚¨èƒ½çœ‹å¾—åˆ°ï¼Œå±€åŸŸç½‘çš„å…¶å®ƒä¸»æœºæˆ–ç”¨æˆ·æ— ä»ŽçŸ¥é“ã€‚ç¬¬ä¸€è¡Œï¼šè¿žæŽ¥ç±»åž‹ï¼šEthernetï¼ˆä»¥å¤ªç½‘ï¼‰HWaddrï¼ˆç¡¬ä»¶macåœ°å€ï¼‰ç¬¬äºŒè¡Œï¼šç½‘å¡çš„IPåœ°å€ã€å­ç½‘ã€æŽ©ç ç¬¬ä¸‰è¡Œï¼šUPï¼ˆä»£è¡¨ç½‘å¡å¼€å¯çŠ¶æ€ï¼‰RUNNINGï¼ˆä»£è¡¨ç½‘å¡çš„ç½‘çº¿è¢«æŽ¥ä¸Šï¼‰MULTICASTï¼ˆæ”¯æŒç»„æ’­ï¼‰MTU:1500ï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼‰ï¼š1500å­—èŠ‚ç¬¬å››ã€äº”è¡Œï¼šæŽ¥æ”¶ã€å‘é€æ•°æ®åŒ…æƒ…å†µç»Ÿè®¡ç¬¬ä¸ƒè¡Œï¼šæŽ¥æ”¶ã€å‘é€æ•°æ®å­—èŠ‚æ•°ç»Ÿè®¡ä¿¡æ¯ã€‚ å®žä¾‹ï¼šå¯åŠ¨å…³é—­æŒ‡å®šç½‘å¡å‘½ä»¤ï¼šifconfig eth0 upifconfig eth0 downè¯´æ˜Žï¼šifconfig eth0 up ä¸ºå¯åŠ¨ç½‘å¡eth0 ï¼›ifconfig eth0 down ä¸ºå…³é—­ç½‘å¡eth0ã€‚sshç™»é™†linuxæœåŠ¡å™¨æ“ä½œè¦å°å¿ƒï¼Œå…³é—­äº†å°±ä¸èƒ½å¼€å¯äº†ï¼Œé™¤éžä½ æœ‰å¤šç½‘å¡ã€‚ å®žä¾‹ï¼šä¸ºç½‘å¡é…ç½®å’Œåˆ é™¤IPv6åœ°å€å‘½ä»¤ï¼šifconfig eth0 add 33ffe:3240:800:1005::2/64ifconfig eth0 del 33ffe:3240:800:1005::2/64è¯´æ˜Žï¼šifconfig eth0 add 33ffe:3240:800:1005::2/64 ä¸ºç½‘å¡eth0é…ç½®IPv6åœ°å€ï¼›ifconfig eth0 add 33ffe:3240:800:1005::2/64 ä¸ºç½‘å¡eth0åˆ é™¤IPv6åœ°å€ï¼›ç»ƒä¹ çš„æ—¶å€™ï¼Œsshç™»é™†linuxæœåŠ¡å™¨æ“ä½œè¦å°å¿ƒï¼Œå…³é—­äº†å°±ä¸èƒ½å¼€å¯äº†ï¼Œé™¤éžä½ æœ‰å¤šç½‘å¡ã€‚ å®žä¾‹ï¼šç”¨ifconfigä¿®æ”¹MACåœ°å€å‘½ä»¤ï¼šifconfig eth0 hw ether 00:AA:BB:CC:DD:EE[root@localhost ~]# ifconfig eth0 down //å…³é—­ç½‘å¡[root@localhost ~]# ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE //ä¿®æ”¹MACåœ°å€[root@localhost ~]# ifconfig eth0 up //å¯åŠ¨ç½‘å¡[root@localhost ~]# ifconfigeth0 Link encap:Ethernet HWaddr 00:AA:BB:CC:DD:EE inet addr:192.168.120.204 Bcast:192.168.120.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:8700857 errors:0 dropped:0 overruns:0 frame:0 TX packets:31533 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:596390239 (568.7 MiB) TX bytes:2886956 (2.7 MiB)lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packets:68 errors:0 dropped:0 overruns:0 frame:0 TX packets:68 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:2856 (2.7 KiB) TX bytes:2856 (2.7 KiB)[root@localhost ~]# ifconfig eth0 hw ether 00:50:56:BF:26:20 //å…³é—­ç½‘å¡å¹¶ä¿®æ”¹MACåœ°å€ [root@localhost ~]# ifconfig eth0 up //å¯åŠ¨ç½‘å¡[root@localhost ~]# ifconfigeth0 Link encap:Ethernet HWaddr 00:50:56:BF:26:20 inet addr:192.168.120.204 Bcast:192.168.120.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:8700857 errors:0 dropped:0 overruns:0 frame:0 TX packets:31533 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:596390239 (568.7 MiB) TX bytes:2886956 (2.7 MiB)lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packets:68 errors:0 dropped:0 overruns:0 frame:0 TX packets:68 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:2856 (2.7 KiB) TX bytes:2856 (2.7 KiB) å®žä¾‹ï¼šé…ç½®IPåœ°å€å‘½ä»¤ï¼š[root@localhost ~]# ifconfig eth0 192.168.120.56 [root@localhost ~]# ifconfig eth0 192.168.120.56 netmask 255.255.255.0 [root@localhost ~]# ifconfig eth0 192.168.120.56 netmask 255.255.255.0 broadcast 192.168.120.255è¯´æ˜Žï¼šifconfig eth0 192.168.120.56 ç»™eth0ç½‘å¡é…ç½®IPåœ°ï¼š192.168.120.56 ifconfig eth0 192.168.120.56 netmask 255.255.255.0 ç»™eth0ç½‘å¡é…ç½®IPåœ°å€ï¼š192.168.120.56 ï¼Œå¹¶åŠ ä¸Šå­æŽ©ç ï¼š255.255.255.0ifconfig eth0 192.168.120.56 netmask 255.255.255.0 broadcast 192.168.120.255/ç»™eth0ç½‘å¡é…ç½®IPåœ°å€ï¼š192.168.120.56ï¼ŒåŠ ä¸Šå­æŽ©ç ï¼š255.255.255.0ï¼ŒåŠ ä¸Šä¸ªå¹¿æ’­åœ°å€ï¼š 192.168.120.255 å®žä¾‹ï¼šå¯åŠ¨å’Œå…³é—­ARPåè®®å‘½ä»¤ï¼š[root@localhost ~]# ifconfig eth0 arp [root@localhost ~]# ifconfig eth0 -arpè¯´æ˜Žï¼šifconfig eth0 arp å¼€å¯ç½‘å¡eth0 çš„arpåè®®ï¼›ifconfig eth0 -arp å…³é—­ç½‘å¡eth0 çš„arpåè®®ï¼› å®žä¾‹ï¼šè®¾ç½®æœ€å¤§ä¼ è¾“å•å…ƒå‘½ä»¤ï¼šifconfig eth0 mtu 1500[root@localhost ~]# ifconfig eth0 mtu 1480[root@localhost ~]# ifconfigeth0 Link encap:Ethernet HWaddr 00:50:56:BF:26:1F inet addr:192.168.120.203 Bcast:192.168.120.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1480 Metric:1 RX packets:8712395 errors:0 dropped:0 overruns:0 frame:0 TX packets:36631 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:597062089 (569.4 MiB) TX bytes:2643973 (2.5 MiB) [root@localhost ~]# ifconfig eth0 mtu 1500[root@localhost ~]# ifconfigeth0 Link encap:Ethernet HWaddr 00:50:56:BF:26:1F inet addr:192.168.120.203 Bcast:192.168.120.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:8712548 errors:0 dropped:0 overruns:0 frame:0 TX packets:36685 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:597072333 (569.4 MiB) TX bytes:2650581 (2.5 MiB)è¯´æ˜Žï¼šè®¾ç½®èƒ½é€šè¿‡çš„æœ€å¤§æ•°æ®åŒ…å¤§å°ä¸º1500byteså¤‡æ³¨ï¼šç”¨ifconfigå‘½ä»¤é…ç½®çš„ç½‘å¡ä¿¡æ¯ï¼Œåœ¨ç½‘å¡é‡å¯åŽæœºå™¨é‡å¯åŽï¼Œé…ç½®å°±ä¸å­˜åœ¨ï¼Œè¦æƒ³å°†ä¸Šè¿°çš„é…ç½®ä¿¡æ¯æ°¸è¿œçš„å­˜åœ¨ç”µè„‘é‡Œï¼Œé‚£å°±è¦ä¿®æ”¹ç½‘å¡çš„é…ç½®æ–‡ä»¶äº†ã€‚ routeå‘½ä»¤ æ¦‚è¿°Linuxç³»ç»Ÿçš„touteå‘½ä»¤ç”¨äºŽæ˜¾ç¤ºå’Œæ“ä½œIPè·¯ç”±è¡¨ï¼ˆshow / manipulate the IP routing tableï¼‰ã€‚è¦å®žçŽ°ä¸¤ä¸ªä¸åŒçš„å­ç½‘ä¹‹é—´çš„é€šä¿¡ï¼Œéœ€è¦ä¸€å°è¿žæŽ¥ä¸¤ä¸ªç½‘ç»œçš„è·¯ç”±å™¨ï¼Œæˆ–è€…åŒæ—¶ä½äºŽä¸¤ä¸ªç½‘ç»œçš„ç½‘å…³æ¥å®žçŽ°ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œè®¾ç½®è·¯ç”±é€šå¸¸æ˜¯ä¸ºäº†è§£å†³ä»¥ä¸‹é—®é¢˜ï¼šè¯¥ Linux ç³»ç»Ÿåœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œå±€åŸŸç½‘ä¸­æœ‰ä¸€ä¸ªç½‘å…³ï¼Œèƒ½å¤Ÿè®©æœºå™¨è®¿é—® Internetï¼Œé‚£ä¹ˆå°±éœ€è¦å°†è¿™å°æœºå™¨çš„ IP åœ°å€è®¾ç½®ä¸º Linux æœºå™¨çš„é»˜è®¤è·¯ç”±ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œç›´æŽ¥åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œ route å‘½ä»¤æ¥æ·»åŠ è·¯ç”±ï¼Œä¸ä¼šæ°¸ä¹…ä¿å­˜ï¼Œå½“ç½‘å¡é‡å¯æˆ–è€…æœºå™¨é‡å¯ä¹‹åŽï¼Œè¯¥è·¯ç”±å°±å¤±æ•ˆäº†ï¼›å¯ä»¥åœ¨ / etc/rc.local ä¸­æ·»åŠ  route å‘½ä»¤æ¥ä¿è¯è¯¥è·¯ç”±è®¾ç½®æ°¸ä¹…æœ‰æ•ˆã€‚ å‘½ä»¤æ ¼å¼route [-f] [-p] [Command [Destination] [mask Netmask] [Gateway] [metric Metric]] [if Interface]] å‘½ä»¤åŠŸèƒ½Routeå‘½ä»¤æ˜¯ç”¨äºŽæ“ä½œåŸºäºŽå†…æ ¸ipè·¯ç”±è¡¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªé™æ€è·¯ç”±è®©æŒ‡å®šä¸€ä¸ªä¸»æœºæˆ–è€…ä¸€ä¸ªç½‘ç»œé€šè¿‡ä¸€ä¸ªç½‘ç»œè¿žæŽ¥å£ï¼Œå¦‚eth0ã€‚å½“ä½¿ç”¨å‚æ•°æ—¶ï¼Œè·¯ç”±è¡¨è¢«ä¿®æ”¹ï¼Œå¦‚æžœæ²¡æœ‰å‚æ•°ï¼Œåˆ™æ˜¾ç¤ºè·¯ç”±è¡¨å½“å‰å†…å®¹ å‘½ä»¤å‚æ•°1234567891011121314151617181920-c æ˜¾ç¤ºæ›´å¤šä¿¡æ¯-n ä¸è§£æžåå­—-v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯-F æ˜¾ç¤ºå‘é€ä¿¡æ¯-C æ˜¾ç¤ºè·¯ç”±ç¼“å­˜-f æ¸…é™¤æ‰€æœ‰ç½‘å…³å…¥å£çš„è·¯ç”±è¡¨ã€‚ -p ä¸Ž add å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ä½¿è·¯ç”±å…·æœ‰æ°¸ä¹…æ€§ã€‚add: æ·»åŠ ä¸€æ¡æ–°è·¯ç”±ã€‚del: åˆ é™¤ä¸€æ¡è·¯ç”±ã€‚-net: ç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªç½‘ç»œã€‚-host: ç›®æ ‡åœ°å€æ˜¯ä¸€ä¸ªä¸»æœºã€‚netmask: å½“æ·»åŠ ä¸€ä¸ªç½‘ç»œè·¯ç”±æ—¶ï¼Œéœ€è¦ä½¿ç”¨ç½‘ç»œæŽ©ç ã€‚gw: è·¯ç”±æ•°æ®åŒ…é€šè¿‡ç½‘å…³ã€‚æ³¨æ„ï¼Œä½ æŒ‡å®šçš„ç½‘å…³å¿…é¡»èƒ½å¤Ÿè¾¾åˆ°ã€‚metricï¼šè®¾ç½®è·¯ç”±è·³æ•°ã€‚Command æŒ‡å®šæ‚¨æƒ³è¿è¡Œçš„å‘½ä»¤ (Add/Change/Delete/Print)ã€‚ Destination æŒ‡å®šè¯¥è·¯ç”±çš„ç½‘ç»œç›®æ ‡ã€‚ mask Netmask æŒ‡å®šä¸Žç½‘ç»œç›®æ ‡ç›¸å…³çš„ç½‘ç»œæŽ©ç ï¼ˆä¹Ÿè¢«ç§°ä½œå­ç½‘æŽ©ç ï¼‰ã€‚ Gateway æŒ‡å®šç½‘ç»œç›®æ ‡å®šä¹‰çš„åœ°å€é›†å’Œå­ç½‘æŽ©ç å¯ä»¥åˆ°è¾¾çš„å‰è¿›æˆ–ä¸‹ä¸€è·ƒç‚¹ IP åœ°å€ã€‚ metric Metric ä¸ºè·¯ç”±æŒ‡å®šä¸€ä¸ªæ•´æ•°æˆæœ¬å€¼æ ‡ï¼ˆä»Ž 1 è‡³ 9999ï¼‰ï¼Œå½“åœ¨è·¯ç”±è¡¨ (ä¸Žè½¬å‘çš„æ•°æ®åŒ…ç›®æ ‡åœ°å€æœ€åŒ¹é…) çš„å¤šä¸ªè·¯ç”±ä¸­è¿›è¡Œé€‰æ‹©æ—¶å¯ä»¥ä½¿ç”¨ã€‚ if Interface ä¸ºå¯ä»¥è®¿é—®ç›®æ ‡çš„æŽ¥å£æŒ‡å®šæŽ¥å£ç´¢å¼•ã€‚è‹¥è¦èŽ·å¾—ä¸€ä¸ªæŽ¥å£åˆ—è¡¨å’Œå®ƒä»¬ç›¸åº”çš„æŽ¥å£ç´¢å¼•ï¼Œä½¿ç”¨ route print å‘½ä»¤çš„æ˜¾ç¤ºåŠŸèƒ½ã€‚å¯ä»¥ä½¿ç”¨åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶å€¼è¿›è¡ŒæŽ¥å£ç´¢å¼•ã€‚ å¸¸ç”¨å‘½ä»¤å®žä¾‹ï¼šæ˜¾ç¤ºå½“å‰è·¯ç”±å‘½ä»¤ï¼šrouteroute -n[root@localhost ~]# routeKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Iface192.168.120.0 * 255.255.255.0 U 0 0 0 eth0e192.168.0.0 192.168.120.1 255.255.0.0 UG 0 0 0 eth010.0.0.0 192.168.120.1 255.0.0.0 UG 0 0 0 eth0default 192.168.120.240 0.0.0.0 UG 0 0 0 eth0[root@localhost ~]# route -nKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Iface192.168.120.0 0.0.0.0 255.255.255.0 U 0 0 0 eth0192.168.0.0 192.168.120.1 255.255.0.0 UG 0 0 0 eth010.0.0.0 192.168.120.1 255.0.0.0 UG 0 0 0 eth00.0.0.0 192.168.120.240 0.0.0.0 UG 0 0 0 eth0è¯´æ˜Žï¼šç¬¬ä¸€è¡Œè¡¨ç¤ºä¸»æœºæ‰€åœ¨ç½‘ç»œçš„åœ°å€ä¸º192.168.120.0ï¼Œè‹¥æ•°æ®ä¼ é€ç›®æ ‡æ˜¯åœ¨æœ¬å±€åŸŸç½‘å†…é€šä¿¡ï¼Œåˆ™å¯ç›´æŽ¥é€šè¿‡eth0è½¬å‘æ•°æ®åŒ…;ç¬¬å››è¡Œè¡¨ç¤ºæ•°æ®ä¼ é€ç›®çš„æ˜¯è®¿é—®Internetï¼Œåˆ™ç”±æŽ¥å£eth0ï¼Œå°†æ•°æ®åŒ…å‘é€åˆ°ç½‘å…³192.168.120.240å…¶ä¸­Flagsä¸ºè·¯ç”±æ ‡å¿—ï¼Œæ ‡è®°å½“å‰ç½‘ç»œèŠ‚ç‚¹çš„çŠ¶æ€ã€‚Flagsæ ‡å¿—è¯´æ˜Žï¼š 1234567U Upè¡¨ç¤ºæ­¤è·¯ç”±å½“å‰ä¸ºå¯åŠ¨çŠ¶æ€H Hostï¼Œè¡¨ç¤ºæ­¤ç½‘å…³ä¸ºä¸€ä¸»æœºG Gatewayï¼Œè¡¨ç¤ºæ­¤ç½‘å…³ä¸ºä¸€è·¯ç”±å™¨aR Reinstate Routeï¼Œä½¿ç”¨åŠ¨æ€è·¯ç”±é‡æ–°åˆå§‹åŒ–çš„è·¯ç”±D Dynamically,æ­¤è·¯ç”±æ˜¯åŠ¨æ€æ€§åœ°å†™å…¥aM Modifiedï¼Œæ­¤è·¯ç”±æ˜¯ç”±è·¯ç”±å®ˆæŠ¤ç¨‹åºæˆ–å¯¼å‘å™¨åŠ¨æ€ä¿®æ”¹! è¡¨ç¤ºæ­¤è·¯ç”±å½“å‰ä¸ºå…³é—­çŠ¶æ€ å¤‡æ³¨ï¼šroute -n (-n è¡¨ç¤ºä¸è§£æžåå­—,åˆ—å‡ºé€Ÿåº¦ä¼šæ¯”route å¿«) å®žä¾‹ï¼šæ·»åŠ ç½‘å…³/è®¾ç½®ç½‘ç®¡å‘½ä»¤ï¼šroute add -net 224.0.0.0 netmask 240.0.0.0 dev eth0è¯´æ˜Žï¼šå¢žåŠ ä¸€æ¡ åˆ°è¾¾ 244.0.0.0 çš„è·¯ç”± å®žä¾‹ï¼šåˆ é™¤è·¯ç”±è®°å½•å‘½ä»¤ï¼šroute del -net 224.0.0.0 netmask 240.0.0.0route del -net 224.0.0.0 netmask 240.0.0.0 rejectè¯´æ˜Žï¼šåˆ é™¤224.0.0.0çš„è·¯ç”±è®°å½• å®žä¾‹ ï¼šåˆ é™¤å’Œæ·»åŠ è®¾ç½®é»˜è®¤ç½‘å…³å‘½ä»¤ï¼šroute del default gw 192.168.120.240route add default gw 192.168.120.240 pingå‘½ä»¤ æ¦‚è¿°Linuxç³»ç»Ÿçš„pingå‘½ä»¤æ˜¯å¸¸ç”¨çš„ç½‘ç»œå‘½ä»¤ï¼Œå®ƒé€šå¸¸ç”¨æ¥æµ‹è¯•ä¸Žç›®æ ‡ä¸»æœºçš„è¿žé€šæ€§ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šè¯´â€pingä¸€ä¸‹æŸæœºå™¨ï¼Œçœ‹æ˜¯ä¸æ˜¯å¼€ç€â€œã€ä¸èƒ½æ‰“å¼€ç½‘é¡µæ—¶ä¼šè¯´â€â€ä½ å…ˆpingç½‘å…³åœ°å€192.168.1.1è¯•è¯•â€œã€‚å®ƒé€šè¿‡å‘é€ICMP ECHO_REQUESTæ•°æ®åŒ…åˆ°ç½‘ç»œä¸»æœºï¼ˆsend ICMP ECHO_REQUEST to network hostsï¼‰ï¼Œå¹¶æ˜¾ç¤ºå“åº”æƒ…å†µï¼Œè¿™æ ·è€Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å®ƒè¾“å‡ºçš„ä¿¡æ¯æ¥ç¡®å®šç›®æ ‡ä¸»æœºæ˜¯å¦å¯è®¿é—®ï¼ˆä½†è¿™ä¸æ˜¯ç»å¯¹çš„ï¼‰ã€‚æœ‰äº›æœåŠ¡å™¨ä¸ºäº†é˜²æ­¢é€šè¿‡pingæŽ¢æµ‹åˆ°ï¼Œé€šè¿‡é˜²ç«å¢™è®¾ç½®äº†ç¦æ­¢pingæˆ–è€…åœ¨å†…æ ¸å‚æ•°ä¸­ç¦æ­¢pingï¼Œè¿™æ ·å°±ä¸èƒ½é€šè¿‡pingç¡®å®šè¯¥ä¸»æœºæ˜¯å¦è¿˜å¤„äºŽå¼€å¯çŠ¶æ€ã€‚linuxä¸‹çš„pingå’Œwindowsä¸‹çš„pingç¨æœ‰åŒºåˆ«,linuxä¸‹pingä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢,éœ€è¦æŒ‰ctrl+cç»ˆæ­¢æˆ–è€…ç”¨å‚æ•°-cæŒ‡å®šè¦æ±‚å®Œæˆçš„å›žåº”æ¬¡æ•°ã€‚ å‘½ä»¤æ ¼å¼ping [å‚æ•°] [ä¸»æœºåæˆ–IPåœ°å€] å‘½ä»¤åŠŸèƒ½pingå‘½ä»¤ç”¨äºŽï¼šç¡®å®šç½‘ç»œå’Œå„å¤–éƒ¨ä¸»æœºçš„çŠ¶æ€ï¼›è·Ÿè¸ªå’Œéš”ç¦»ç¡¬ä»¶å’Œè½¯ä»¶é—®é¢˜ï¼›æµ‹è¯•ã€è¯„ä¼°å’Œç®¡ç†ç½‘ç»œã€‚å¦‚æžœä¸»æœºæ­£åœ¨è¿è¡Œå¹¶è¿žåœ¨ç½‘ä¸Šï¼Œå®ƒå°±å¯¹å›žé€ä¿¡å·è¿›è¡Œå“åº”ã€‚æ¯ä¸ªå›žé€ä¿¡å·è¯·æ±‚åŒ…å«ä¸€ä¸ªç½‘é™…åè®®ï¼ˆIPï¼‰å’Œ ICMP å¤´ï¼ŒåŽé¢ç´§è·Ÿä¸€ä¸ª tim ç»“æž„ï¼Œä»¥åŠæ¥å¡«å†™è¿™ä¸ªä¿¡æ¯åŒ…çš„è¶³å¤Ÿçš„å­—èŠ‚ã€‚ç¼ºçœæƒ…å†µæ˜¯è¿žç»­å‘é€å›žé€ä¿¡å·è¯·æ±‚ç›´åˆ°æŽ¥æ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼ˆCtrl-Cï¼‰ã€‚ping å‘½ä»¤æ¯ç§’å‘é€ä¸€ä¸ªæ•°æ®æŠ¥å¹¶ä¸”ä¸ºæ¯ä¸ªæŽ¥æ”¶åˆ°çš„å“åº”æ‰“å°ä¸€è¡Œè¾“å‡ºã€‚ping å‘½ä»¤è®¡ç®—ä¿¡å·å¾€è¿”æ—¶é—´å’Œ(ä¿¡æ¯)åŒ…ä¸¢å¤±æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨å®Œæˆä¹‹åŽæ˜¾ç¤ºä¸€ä¸ªç®€è¦æ€»ç»“ã€‚ping å‘½ä»¤åœ¨ç¨‹åºè¶…æ—¶æˆ–å½“æŽ¥æ”¶åˆ° SIGINT ä¿¡å·æ—¶ç»“æŸã€‚Host å‚æ•°æˆ–è€…æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¸»æœºåæˆ–è€…æ˜¯å› ç‰¹ç½‘åœ°å€ã€‚ å‘½ä»¤å‚æ•°1234567891011121314-d ä½¿ç”¨Socketçš„SO_DEBUGåŠŸèƒ½ã€‚-f æžé™æ£€æµ‹ã€‚å¤§é‡ä¸”å¿«é€Ÿåœ°é€ç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œçœ‹å®ƒçš„å›žåº”ã€‚-n åªè¾“å‡ºæ•°å€¼ã€‚-q ä¸æ˜¾ç¤ºä»»ä½•ä¼ é€å°åŒ…çš„ä¿¡æ¯ï¼Œåªæ˜¾ç¤ºæœ€åŽçš„ç»“æžœã€‚-r å¿½ç•¥æ™®é€šçš„Routing Tableï¼Œç›´æŽ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Šã€‚é€šå¸¸æ˜¯æŸ¥çœ‹æœ¬æœºçš„ç½‘ç»œæŽ¥å£æ˜¯å¦æœ‰é—®é¢˜ã€‚-R è®°å½•è·¯ç”±è¿‡ç¨‹ã€‚-v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ã€‚&lt;p&gt;-c æ•°ç›®ï¼šåœ¨å‘é€æŒ‡å®šæ•°ç›®çš„åŒ…åŽåœæ­¢ã€‚-i ç§’æ•°ï¼šè®¾å®šé—´éš”å‡ ç§’é€ä¸€ä¸ªç½‘ç»œå°åŒ…ç»™ä¸€å°æœºå™¨ï¼Œé¢„è®¾å€¼æ˜¯ä¸€ç§’é€ä¸€æ¬¡ã€‚-I ç½‘ç»œç•Œé¢ï¼šä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ…ã€‚-l å‰ç½®è½½å…¥ï¼šè®¾ç½®åœ¨é€å‡ºè¦æ±‚ä¿¡æ¯ä¹‹å‰ï¼Œå…ˆè¡Œå‘å‡ºçš„æ•°æ®åŒ…ã€‚-p èŒƒæœ¬æ ·å¼ï¼šè®¾ç½®å¡«æ»¡æ•°æ®åŒ…çš„èŒƒæœ¬æ ·å¼ã€‚-s å­—èŠ‚æ•°ï¼šæŒ‡å®šå‘é€çš„æ•°æ®å­—èŠ‚æ•°ï¼Œé¢„è®¾å€¼æ˜¯56ï¼ŒåŠ ä¸Š8å­—èŠ‚çš„ICMPå¤´ï¼Œä¸€å…±æ˜¯64ICMPæ•°æ®å­—èŠ‚ã€‚-t å­˜æ´»æ•°å€¼ï¼šè®¾ç½®å­˜æ´»æ•°å€¼TTLçš„å¤§å°ã€‚ å¸¸ç”¨å‘½ä»¤å®žä¾‹ï¼špingçš„é€šçš„æƒ…å†µå‘½ä»¤ï¼šping 192.168.120.205è¾“å‡ºï¼š[root@localhost ~]# ping 192.168.120.205PING 192.168.120.205 (192.168.120.205) 56(84) bytes of data.64 bytes from 192.168.120.205: icmp_seq=1 ttl=64 time=0.720 ms64 bytes from 192.168.120.205: icmp_seq=2 ttl=64 time=0.181 ms64 bytes from 192.168.120.205: icmp_seq=3 ttl=64 time=0.191 ms64 bytes from 192.168.120.205: icmp_seq=4 ttl=64 time=0.188 ms64 bytes from 192.168.120.205: icmp_seq=5 ttl=64 time=0.189 ms â€” 192.168.120.205 ping statistics â€”5 packets transmitted, 5 received, 0% packet loss, time 4000msrtt min/avg/max/mdev = 0.181/0.293/0.720/0.214 ms[root@localhost ~]# å®žä¾‹ï¼špingä¸é€šçš„æƒ…å†µå‘½ä»¤ï¼šping 192.168.120.202è¾“å‡ºï¼š[root@localhost ~]# ping 192.168.120.202PING 192.168.120.202 (192.168.120.202) 56(84) bytes of data.From 192.168.120.204 icmp_seq=1 Destination Host UnreachableFrom 192.168.120.204 icmp_seq=2 Destination Host Unreachable å®žä¾‹ï¼špingæŒ‡å®šæ¬¡æ•°å‘½ä»¤ï¼šping -c 10 192.168.120.206 å®žä¾‹ï¼šæ—¶é—´é—´éš”å’Œæ¬¡æ•°é™åˆ¶çš„pingå‘½ä»¤ï¼šping -c 10 -i 0.5 192.168.120.206 å®žä¾‹ï¼šå¤šå‚æ•°ä½¿ç”¨å‘½ä»¤ï¼šping -i 3 -s 1024 -t 255 192.168.120.206è¯´æ˜Žï¼š-i 3 å‘é€å‘¨æœŸä¸º 3ç§’ -s è®¾ç½®å‘é€åŒ…çš„å¤§å°ä¸º1024 -t è®¾ç½®TTLå€¼ä¸º 255 tracerouteå‘½ä»¤ æ¦‚è¿°é€šè¿‡tracerouteæˆ‘ä»¬å¯ä»¥çŸ¥é“ä¿¡æ¯ä»Žä½ çš„è®¡ç®—æœºåˆ°äº’è”ç½‘å¦ä¸€ç«¯çš„ä¸»æœºæ˜¯èµ°çš„ä»€ä¹ˆè·¯å¾„ã€‚å½“ç„¶æ¯æ¬¡æ•°æ®åŒ…ç”±æŸä¸€åŒæ ·çš„å‡ºå‘ç‚¹ï¼ˆsourceï¼‰åˆ°è¾¾æŸä¸€åŒæ ·çš„ç›®çš„åœ°(destination)èµ°çš„è·¯å¾„å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œä½†åŸºæœ¬ä¸Šæ¥è¯´å¤§éƒ¨åˆ†æ—¶å€™æ‰€èµ°çš„è·¯ç”±æ˜¯ç›¸åŒçš„ã€‚linuxç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºtraceroute,åœ¨MS Windowsä¸­ä¸ºtracertã€‚ tracerouteé€šè¿‡å‘é€å°çš„æ•°æ®åŒ…åˆ°ç›®çš„è®¾å¤‡ç›´åˆ°å…¶è¿”å›žï¼Œæ¥æµ‹é‡å…¶éœ€è¦å¤šé•¿æ—¶é—´ã€‚ä¸€æ¡è·¯å¾„ä¸Šçš„æ¯ä¸ªè®¾å¤‡tracerouteè¦æµ‹3æ¬¡ã€‚è¾“å‡ºç»“æžœä¸­åŒ…æ‹¬æ¯æ¬¡æµ‹è¯•çš„æ—¶é—´(ms)å’Œè®¾å¤‡çš„åç§°ï¼ˆå¦‚æœ‰çš„è¯ï¼‰åŠå…¶IPåœ°å€ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨linuxä¸»æœºç³»ç»Ÿä¸‹ï¼Œç›´æŽ¥æ‰§è¡Œå‘½ä»¤è¡Œï¼štraceroute hostnameè€Œåœ¨Windowsç³»ç»Ÿä¸‹æ˜¯æ‰§è¡Œtracertçš„å‘½ä»¤ï¼štracert hostname å‘½ä»¤æ ¼å¼traceroute[å‚æ•°][ä¸»æœº] å‘½ä»¤åŠŸèƒ½tracerouteå‘½ä»¤è®©ä½ è¿½è¸ªç½‘ç»œæ•°æ®åŒ…çš„è·¯ç”±é€”å¾„ï¼Œé¢„è®¾æ•°æ®åŒ…å¤§å°æ˜¯40Bytesï¼Œç”¨æˆ·å¯å¦è¡Œè®¾ç½®ã€‚å…·ä½“å‚æ•°æ ¼å¼ï¼štraceroute [-dFlnrvx][-f&lt;å­˜æ´»æ•°å€¼&gt;][-g&lt;ç½‘å…³&gt;â€¦][-i&lt;ç½‘ç»œç•Œé¢&gt;][-m&lt;å­˜æ´»æ•°å€¼&gt;][-p&lt;é€šä¿¡ç«¯å£&gt;][-s&lt;æ¥æºåœ°å€&gt;][-t&lt;æœåŠ¡ç±»åž‹&gt;][-w&lt;è¶…æ—¶ç§’æ•°&gt;][ä¸»æœºåç§°æˆ–IPåœ°å€][æ•°æ®åŒ…å¤§å°] å‘½ä»¤å‚æ•°123456789101112131415-d ä½¿ç”¨Socketå±‚çº§çš„æŽ’é”™åŠŸèƒ½ã€‚-f è®¾ç½®ç¬¬ä¸€ä¸ªæ£€æµ‹æ•°æ®åŒ…çš„å­˜æ´»æ•°å€¼TTLçš„å¤§å°ã€‚-F è®¾ç½®å‹¿ç¦»æ–­ä½ã€‚-g è®¾ç½®æ¥æºè·¯ç”±ç½‘å…³ï¼Œæœ€å¤šå¯è®¾ç½®8ä¸ªã€‚-i ä½¿ç”¨æŒ‡å®šçš„ç½‘ç»œç•Œé¢é€å‡ºæ•°æ®åŒ…ã€‚-I ä½¿ç”¨ICMPå›žåº”å–ä»£UDPèµ„æ–™ä¿¡æ¯ã€‚-m è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„æœ€å¤§å­˜æ´»æ•°å€¼TTLçš„å¤§å°ã€‚-n ç›´æŽ¥ä½¿ç”¨IPåœ°å€è€Œéžä¸»æœºåç§°ã€‚-p è®¾ç½®UDPä¼ è¾“åè®®çš„é€šä¿¡ç«¯å£ã€‚-r å¿½ç•¥æ™®é€šçš„Routing Tableï¼Œç›´æŽ¥å°†æ•°æ®åŒ…é€åˆ°è¿œç«¯ä¸»æœºä¸Šã€‚-s è®¾ç½®æœ¬åœ°ä¸»æœºé€å‡ºæ•°æ®åŒ…çš„IPåœ°å€ã€‚-t è®¾ç½®æ£€æµ‹æ•°æ®åŒ…çš„TOSæ•°å€¼ã€‚-v è¯¦ç»†æ˜¾ç¤ºæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ã€‚-w è®¾ç½®ç­‰å¾…è¿œç«¯ä¸»æœºå›žæŠ¥çš„æ—¶é—´ã€‚-x å¼€å¯æˆ–å…³é—­æ•°æ®åŒ…çš„æ­£ç¡®æ€§æ£€éªŒã€‚ å¸¸ç”¨å‘½ä»¤å®žä¾‹1ï¼štraceroute ç”¨æ³•ç®€å•ã€æœ€å¸¸ç”¨çš„ç”¨æ³•å‘½ä»¤ï¼štraceroute www.baidu.comè¾“å‡ºï¼š[root@localhost ~]# traceroute www.baidu.comtraceroute to www.baidu.com (61.135.169.125), 30 hops max, 40 byte packets 1 192.168.74.2 (192.168.74.2) 2.606 ms 2.771 ms 2.950 ms 2 211.151.56.57 (211.151.56.57) 0.596 ms 0.598 ms 0.591 ms 3 211.151.227.206 (211.151.227.206) 0.546 ms 0.544 ms 0.538 ms 4 210.77.139.145 (210.77.139.145) 0.710 ms 0.748 ms 0.801 ms 5 202.106.42.101 (202.106.42.101) 6.759 ms 6.945 ms 7.107 ms 6 61.148.154.97 (61.148.154.97) 718.908 ms bt-228-025.bta.net.cn (202.106.228.25) 5.177 ms 7 124.65.58.213 (124.65.58.213) 4.343 ms 4.336 ms 4.367 ms 8 202.106.35.190 (202.106.35.190) 1.795 ms 61.148.156.138 (61.148.156.138) 1.899 ms 1.951 ms 9 30 *[root@localhost ~]# è¯´æ˜Žï¼šè®°å½•æŒ‰åºåˆ—å·ä»Ž1å¼€å§‹ï¼Œæ¯ä¸ªçºªå½•å°±æ˜¯ä¸€è·³ ï¼Œæ¯è·³è¡¨ç¤ºä¸€ä¸ªç½‘å…³ï¼Œæˆ‘ä»¬çœ‹åˆ°æ¯è¡Œæœ‰ä¸‰ä¸ªæ—¶é—´ï¼Œå•ä½æ˜¯ msï¼Œå…¶å®žå°±æ˜¯-qçš„é»˜è®¤å‚æ•°ã€‚æŽ¢æµ‹æ•°æ®åŒ…å‘æ¯ä¸ªç½‘å…³å‘é€ä¸‰ä¸ªæ•°æ®åŒ…åŽï¼Œç½‘å…³å“åº”åŽè¿”å›žçš„æ—¶é—´ï¼›å¦‚æžœæ‚¨ç”¨ traceroute -q 4 www.58.com ï¼Œè¡¨ç¤ºå‘æ¯ä¸ªç½‘å…³å‘é€4ä¸ªæ•°æ®åŒ…ã€‚æœ‰æ—¶æˆ‘ä»¬traceroute ä¸€å°ä¸»æœºæ—¶ï¼Œä¼šçœ‹åˆ°æœ‰ä¸€äº›è¡Œæ˜¯ä»¥æ˜Ÿå·è¡¨ç¤ºçš„ã€‚å‡ºçŽ°è¿™æ ·çš„æƒ…å†µï¼Œå¯èƒ½æ˜¯é˜²ç«å¢™å°æŽ‰äº†ICMPçš„è¿”å›žä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ä¸åˆ°ä»€ä¹ˆç›¸å…³çš„æ•°æ®åŒ…è¿”å›žæ•°æ®ã€‚æœ‰æ—¶æˆ‘ä»¬åœ¨æŸä¸€ç½‘å…³å¤„å»¶æ—¶æ¯”è¾ƒé•¿ï¼Œæœ‰å¯èƒ½æ˜¯æŸå°ç½‘å…³æ¯”è¾ƒé˜»å¡žï¼Œä¹Ÿå¯èƒ½æ˜¯ç‰©ç†è®¾å¤‡æœ¬èº«çš„åŽŸå› ã€‚å½“ç„¶å¦‚æžœæŸå°DNSå‡ºçŽ°é—®é¢˜æ—¶ï¼Œä¸èƒ½è§£æžä¸»æœºåã€åŸŸåæ—¶ï¼Œä¹Ÿä¼š æœ‰å»¶æ—¶é•¿çš„çŽ°è±¡ï¼›æ‚¨å¯ä»¥åŠ -n å‚æ•°æ¥é¿å…DNSè§£æžï¼Œä»¥IPæ ¼å¼è¾“å‡ºæ•°æ®ã€‚å¦‚æžœåœ¨å±€åŸŸç½‘ä¸­çš„ä¸åŒç½‘æ®µä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡traceroute æ¥æŽ’æŸ¥é—®é¢˜æ‰€åœ¨ï¼Œæ˜¯ä¸»æœºçš„é—®é¢˜è¿˜æ˜¯ç½‘å…³çš„é—®é¢˜ã€‚å¦‚æžœæˆ‘ä»¬é€šè¿‡è¿œç¨‹æ¥è®¿é—®æŸå°æœåŠ¡å™¨é‡åˆ°é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ç”¨åˆ°traceroute è¿½è¸ªæ•°æ®åŒ…æ‰€ç»è¿‡çš„ç½‘å…³ï¼Œæäº¤IDCæœåŠ¡å•†ï¼Œä¹Ÿæœ‰åŠ©äºŽè§£å†³é—®é¢˜ï¼›ä½†ç›®å‰çœ‹æ¥åœ¨å›½å†…è§£å†³è¿™æ ·çš„é—®é¢˜æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œå°±æ˜¯æˆ‘ä»¬å‘çŽ°é—®é¢˜æ‰€åœ¨ï¼ŒIDCæœåŠ¡å•†ä¹Ÿä¸å¯èƒ½å¸®åŠ©æˆ‘ä»¬è§£å†³ã€‚ Tracerouteçš„å·¥ä½œåŽŸç†Tracerouteæœ€ç®€å•çš„åŸºæœ¬ç”¨æ³•æ˜¯ï¼štraceroute hostnameTracerouteç¨‹åºçš„è®¾è®¡æ˜¯åˆ©ç”¨ICMPåŠIP headerçš„TTLï¼ˆTime To Liveï¼‰æ ä½ï¼ˆfieldï¼‰ã€‚é¦–å…ˆï¼Œtracerouteé€å‡ºä¸€ä¸ªTTLæ˜¯1çš„IP datagramï¼ˆå…¶å®žï¼Œæ¯æ¬¡é€å‡ºçš„ä¸º3ä¸ª40å­—èŠ‚çš„åŒ…ï¼ŒåŒ…æ‹¬æºåœ°å€ï¼Œç›®çš„åœ°å€å’ŒåŒ…å‘å‡ºçš„æ—¶é—´æ ‡ç­¾ï¼‰åˆ°ç›®çš„åœ°ï¼Œå½“è·¯å¾„ä¸Šçš„ç¬¬ä¸€ä¸ªè·¯ç”±å™¨ï¼ˆrouterï¼‰æ”¶åˆ°è¿™ä¸ªdatagramæ—¶ï¼Œå®ƒå°†TTLå‡1ã€‚æ­¤æ—¶ï¼ŒTTLå˜ä¸º0äº†ï¼Œæ‰€ä»¥è¯¥è·¯ç”±å™¨ä¼šå°†æ­¤datagramä¸¢æŽ‰ï¼Œå¹¶é€å›žä¸€ä¸ªã€ŒICMP time exceededã€æ¶ˆæ¯ï¼ˆåŒ…æ‹¬å‘IPåŒ…çš„æºåœ°å€ï¼ŒIPåŒ…çš„æ‰€æœ‰å†…å®¹åŠè·¯ç”±å™¨çš„IPåœ°å€ï¼‰ï¼Œtraceroute æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åŽï¼Œä¾¿çŸ¥é“è¿™ä¸ªè·¯ç”±å™¨å­˜åœ¨äºŽè¿™ä¸ªè·¯å¾„ä¸Šï¼ŒæŽ¥ç€traceroute å†é€å‡ºå¦ä¸€ä¸ªTTLæ˜¯2 çš„datagramï¼Œå‘çŽ°ç¬¬2 ä¸ªè·¯ç”±å™¨â€¦â€¦ traceroute æ¯æ¬¡å°†é€å‡ºçš„datagramçš„TTL åŠ 1æ¥å‘çŽ°å¦ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè¿™ä¸ªé‡å¤çš„åŠ¨ä½œä¸€ç›´æŒç»­åˆ°æŸä¸ªdatagram æŠµè¾¾ç›®çš„åœ°ã€‚å½“datagramåˆ°è¾¾ç›®çš„åœ°åŽï¼Œè¯¥ä¸»æœºå¹¶ä¸ä¼šé€å›žICMP time exceededæ¶ˆæ¯ï¼Œå› ä¸ºå®ƒå·²æ˜¯ç›®çš„åœ°äº†ï¼Œé‚£ä¹ˆtracerouteå¦‚ä½•å¾—çŸ¥ç›®çš„åœ°åˆ°è¾¾äº†å‘¢ï¼ŸTracerouteåœ¨é€å‡ºUDP datagramsåˆ°ç›®çš„åœ°æ—¶ï¼Œå®ƒæ‰€é€‰æ‹©é€è¾¾çš„port number æ˜¯ä¸€ä¸ªä¸€èˆ¬åº”ç”¨ç¨‹åºéƒ½ä¸ä¼šç”¨çš„å·ç ï¼ˆ30000 ä»¥ä¸Šï¼‰ï¼Œæ‰€ä»¥å½“æ­¤UDP datagram åˆ°è¾¾ç›®çš„åœ°åŽè¯¥ä¸»æœºä¼šé€å›žä¸€ä¸ªã€ŒICMP port unreachableã€çš„æ¶ˆæ¯ï¼Œè€Œå½“traceroute æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯æ—¶ï¼Œä¾¿çŸ¥é“ç›®çš„åœ°å·²ç»åˆ°è¾¾äº†ã€‚æ‰€ä»¥traceroute åœ¨Serverç«¯ä¹Ÿæ˜¯æ²¡æœ‰æ‰€è°“çš„Daemon ç¨‹å¼ã€‚Tracerouteæå–å‘ ICMP TTLåˆ°æœŸæ¶ˆæ¯è®¾å¤‡çš„IPåœ°å€å¹¶ä½œåŸŸåè§£æžã€‚æ¯æ¬¡ ï¼ŒTracerouteéƒ½æ‰“å°å‡ºä¸€ç³»åˆ—æ•°æ®,åŒ…æ‹¬æ‰€ç»è¿‡çš„è·¯ç”±è®¾å¤‡çš„åŸŸååŠ IPåœ°å€,ä¸‰ä¸ªåŒ…æ¯æ¬¡æ¥å›žæ‰€èŠ±æ—¶é—´ã€‚ scpå‘½ä»¤ æ¦‚è¿°scpå‘½ä»¤æ˜¯secure copyçš„ç®€å†™ï¼Œç”¨äºŽåœ¨Linuxä¸‹è¿›è¡Œè¿œç¨‹æ‹·è´æ–‡ä»¶çš„å‘½ä»¤ï¼Œå’Œå®ƒç±»ä¼¼çš„å‘½ä»¤æœ‰cpï¼Œä¸è¿‡cpçŸ¥è¯†åœ¨æœ¬æœºè¿›è¡Œæ‹·è´ä¸èƒ½è·¨æœåŠ¡å™¨ï¼Œè€Œä¸”scpä¼ è¾“æ˜¯åŠ å¯†çš„ã€‚å¯èƒ½ä¼šç¨å¾®å½±å“ä¸€ä¸‹é€Ÿåº¦ã€‚å½“ä½ æœåŠ¡å™¨ç¡¬ç›˜å˜ä¸ºåªè¯»read only systemæ—¶ï¼Œç”¨scpå¯ä»¥å¸®ä½ æŠŠæ–‡ä»¶ç§»å‡ºæ¥ã€‚å¦å¤–scpè¿˜éžå¸¸ä¸å èµ„æºï¼Œä¸ä¼šæé«˜å¤šå°‘ç³»ç»Ÿè´Ÿè·ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šrsyncå°±è¿œè¿œä¸åŠå®ƒäº†ã€‚è™½ç„¶rsyncæ¯”scpä¼šå¿«ä¸€ç‚¹ï¼Œä½†å½“å°æ–‡ä»¶ä¼—å¤šçš„æƒ…å†µä¸‹ï¼Œrsyncä¼šå¯¼è‡´ç¡¬ç›˜I/Oéžå¸¸é«˜ï¼Œè€ŒscpåŸºæœ¬ä¸å½±å“ç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ã€‚ å‘½ä»¤æ ¼å¼scp [å‚æ•°] [åŽŸè·¯å¾„] [ç›®æ ‡è·¯å¾„] å‘½ä»¤åŠŸèƒ½scpæ˜¯secure copyçš„ç¼©å†™ï¼Œscpæ˜¯Linuxç³»ç»ŸåŸºäºŽsshç™»é™†è¿›è¡Œå®‰å…¨çš„è¿œç¨‹æ–‡ä»¶æ‹·è´å‘½ä»¤ã€‚linuxçš„scpå‘½ä»¤å¯ä»¥åœ¨LinuxæœåŠ¡å™¨ä¹‹é—´å¤åˆ¶æ–‡ä»¶å’Œç›®å½•ã€‚ å‘½ä»¤å‚æ•°1234567891011121314151617-1 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh1 -2 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh2 -4 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv4å¯»å€ -6 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv6å¯»å€ -B ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼ï¼ˆä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¯¢é—®ä¼ è¾“å£ä»¤æˆ–çŸ­è¯­ï¼‰ -C å…è®¸åŽ‹ç¼©ã€‚ï¼ˆå°†-Cæ ‡å¿—ä¼ é€’ç»™sshï¼Œä»Žè€Œæ‰“å¼€åŽ‹ç¼©åŠŸèƒ½ï¼‰ -p ä¿ç•™åŽŸæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼Œè®¿é—®æ—¶é—´å’Œè®¿é—®æƒé™ã€‚ -q ä¸æ˜¾ç¤ºä¼ è¾“è¿›åº¦æ¡ã€‚ -r é€’å½’å¤åˆ¶æ•´ä¸ªç›®å½•ã€‚ -v è¯¦ç»†æ–¹å¼æ˜¾ç¤ºè¾“å‡ºã€‚scpå’Œssh(1)ä¼šæ˜¾ç¤ºå‡ºæ•´ä¸ªè¿‡ç¨‹çš„è°ƒè¯•ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç”¨äºŽè°ƒè¯•è¿žæŽ¥ï¼ŒéªŒè¯å’Œé…ç½®é—®é¢˜ã€‚ -c cipher ä»¥cipherå°†æ•°æ®ä¼ è¾“è¿›è¡ŒåŠ å¯†ï¼Œè¿™ä¸ªé€‰é¡¹å°†ç›´æŽ¥ä¼ é€’ç»™sshã€‚ -F ssh_config æŒ‡å®šä¸€ä¸ªæ›¿ä»£çš„sshé…ç½®æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æŽ¥ä¼ é€’ç»™sshã€‚ -i identity_file ä»ŽæŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ä¼ è¾“æ—¶ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æŽ¥ä¼ é€’ç»™sshã€‚ -l limit é™å®šç”¨æˆ·æ‰€èƒ½ä½¿ç”¨çš„å¸¦å®½ï¼Œä»¥Kbit/sä¸ºå•ä½ã€‚ -o ssh_option å¦‚æžœä¹ æƒ¯äºŽä½¿ç”¨ssh_config(5)ä¸­çš„å‚æ•°ä¼ é€’æ–¹å¼ï¼Œ -P port æ³¨æ„æ˜¯å¤§å†™çš„P, portæ˜¯æŒ‡å®šæ•°æ®ä¼ è¾“ç”¨åˆ°çš„ç«¯å£å· -S program æŒ‡å®šåŠ å¯†ä¼ è¾“æ—¶æ‰€ä½¿ç”¨çš„ç¨‹åºã€‚æ­¤ç¨‹åºå¿…é¡»èƒ½å¤Ÿç†è§£ssh(1)çš„é€‰é¡¹ã€‚ å¸¸ç”¨å‘½ä»¤å®žä¾‹ï¼šä»Žè¿œå¤„å¤åˆ¶åˆ°æœ¬åœ°/ä»Žæœ¬åœ°å¤åˆ¶åˆ°è¿œå¤„å‘½ä»¤ï¼šscp -r root@192.168.120.204:/opt/soft/mongodb /opt/soft/scp -r /opt/soft/mongodb root@192.168.120.204:/opt/soft/scptestè¯´æ˜Žï¼šä»Ž192.168.120.204æœºå™¨ä¸Šçš„/opt/soft/ä¸­ä¸‹è½½mongodb ç›®å½•åˆ°æœ¬åœ°çš„/opt/soft/ç›®å½•æ¥ã€‚]]></content>
      <categories>
        <category>Linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Vim å®žç”¨æŠ€å·§]]></title>
    <url>%2F2019%2F01%2Fyuque%2Fvim_skill%2F</url>
    <content type="text"><![CDATA[å¸Œæœ›ç”±åŽšè‡³è–„ æ¦‚è¿° å­¦ä¹ Vimï¼Œæœ€éš¾å—çš„å°±æ˜¯å®ƒå¯¹æ–°æ‰‹å‡ºåçš„ä¸å‹å¥½ï¼Œç½‘ä¸Šä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè¿˜æ˜¯è‡ªå·±è¿›è¡Œå­¦ä¹ å¯¹è‡ªå·±çš„å¸®åŠ©æœ€å¤§ã€‚å»ºè®®é¦–å…ˆå­¦ä¹  :vimtutor å…¥é—¨vimå­¦ä¹ ã€‚æœ€å¥½ä¼šç›²æ‰“ï¼Œè‡ªå·±çœ‹äº†è¿™æœ¬ vim å®žç”¨æŠ€å·§ã€‚ ç¬¬ 1 ç«  Vimè§£å†³é—®é¢˜çš„æ–¹å¼{char} æ˜¯æŒ‡ä»»æ„å­—ç¬¦ æŒ‡cwä¼šåˆ é™¤å…‰æ ‡ä½ç½®åˆ°å½“å‰è¯ä½ç½®ç»“å°¾å¤„çš„æ–‡æœ¬ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼&gt;Gæ˜¯é¦–è¡Œç¼©è¿›C=c$ åˆ é™¤åˆ°è¡Œå°¾å†æ’å…¥o=Aä¸‹ä¸€è¡Œæ’å…¥såˆ é™¤å…‰æ ‡å¤„å†æ’å…¥@ï¼šé‡å¤å‘½ä»¤è¡Œå‘½ä»¤&amp;é‡å¤æ›¿æ¢å‘½ä»¤f{char} æœç´¢ï¼Œ; ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œ, ä¸Šä¸€ä¸ªå­—ç¬¦* å¯ä»¥æŸ¥çœ‹å½“å‰å…‰æ ‡ä¸‹çš„å•è¯ç†æƒ³æ¨¡å¼ï¼šç”¨ä¸€ä¸ªé”®ç§»åŠ¨ï¼Œå¦ä¸€é”®æ‰§è¡Œã€‚åˆç§°ä¸º â€œ.èŒƒå¼â€ã€‚ ç¬¬ä¸€éƒ¨åˆ† æ¨¡å¼Vim æä¾›ä¸€ä¸ªåŒºåˆ†æ¨¡å¼çš„ç”¨æˆ·ç•Œé¢ï¼Œå°±æ˜¯è¯´åœ¨ Vim ä¸­æŒ‰é”®ç›˜ä¸Šçš„ä»»æ„é”®æ‰€äº§ç”Ÿçš„ç»“æžœå¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œè€Œè¿™å–å†³äºŽå½“å‰æ­£å¤„äºŽå“ªç§æ¨¡å¼ï¼Œä»¥åŠå¦‚ä½•åœ¨å„æ¨¡å¼é—´åˆ‡æ¢ï¼Œæ˜¯æžå…¶é‡è¦çš„ã€‚åœ¨æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å­¦ä¹ æ¯ç§æ¨¡å¼çš„å·¥ä½œæ–¹å¼åŠå…¶ç”¨é€”ã€‚ ç¬¬ 2 ç«  æ™®é€šæ¨¡å¼b æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å•è¯å¼€å¤´daw åœ¨å•è¯æœ«å°¾ä¹Ÿèƒ½åˆ é™¤ åœ¨æ•°å­—ä¸Šæ‰§è¡ŒåŠ ä¸€ï¼Œä¸åœ¨æ•°å­—ä¸Šï¼Œåœ¨å½“å‰è¡Œæ­£å‘æŸ¥æ‰¾ä¸€ä¸ªæ•°å­—ï¼Œ10 åœ¨æ•°å­—ä¸Šæ‰§è¡Œå‡ä¸€æœ€å¥½ä¸è¦ç”¨æ•°å­— d2w è¿™æ ·ï¼Œå› ä¸º . èƒ½å¾ˆå¥½ä»£æ›¿ï¼Œä½†æ˜¯ c3w æœ‰ç”¨ï¼Œè¡Œä¸­é—´æ¥å¿«é€Ÿè¿›è¡Œä¿®æ”¹g~ åè½¬å¤§å°å†™ï¼Œgu è½¬æˆå°å†™ï¼ŒgUè½¬æˆå¤§å†™ã€‚gUap å°†ä¸€æ®µè½¬æ¢ä¸ºå¤§å†™ï¼Œg å½“æˆæ“ä½œç¬¦å‰ç¼€gc{motion} åˆ‡æ¢ä¸ºæ³¨é‡ŠçŠ¶æ€ï¼Œgcap åˆ‡æ¢å½“å‰æ®µè½çš„æ³¨é‡ŠçŠ¶æ€ã€‚gcG å½“å‰è¡Œåˆ°æ–‡ä»¶ç»“å°¾é—´çš„æ‰€æœ‰å†…å®¹æ³¨é‡ŠæŽ‰ï¼Œgcc æ³¨é‡Šå½“å‰è¡Œï¼Œgg=G è‡ªåŠ¨ç¼©è¿›æ•´ä¸ªæ–‡ä»¶ã€‚ ç¬¬ 3 ç«  æ’å…¥æ¨¡å¼åœ¨è¾“å…¥é”™è¯¯æ—¶ï¼Œä¸“ä¸šæ‰“å­—å‘˜ä¼šå»ºè®®å…ˆåˆ é™¤æ•´ä¸ªå•è¯ï¼Œç„¶åŽå†é‡æ–°è¾“å…¥ä¸€éã€‚ åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ï¼ˆåŒé€€æ ¼é”®ï¼‰ åˆ é™¤å‰ä¸€ä¸ªå•è¯ åˆ è‡³è¡Œé¦–ã€‚&lt;c-[&gt;åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼ï¼Œ åˆ‡æ¢åˆ°æ’å…¥-æ™®é€šæ¨¡å¼ã€‚åœ¨æ­¤æ¨¡å¼ä¸­ï¼Œå¯ä»¥æ‰§è¡Œä¸€ä¸ªæ™®é€šæ¨¡å¼å‘½ä»¤ï¼Œæ‰§è¡Œå®ŒåŽï¼Œé©¬ä¸Šåˆè¿”å›žåˆ°æ’å…¥æ¨¡å¼ æŒ‰é”®æ“ä½œ ç¼“å†²åŒºå†…å®¹ yt, Practical Vim, by Drew NeilRead Drew Neilâ€™s jAâ£ Practical Vim, by Drew NeilRead Drew Neilâ€™s 0 Practical Vim, by Drew NeilRead Drew Neilâ€™s Practical Vim . Practical Vim, by Drew NeilRead Drew Neilâ€™s Practical Vim. yt, å‘½ä»¤æŠŠâ€œPractical Vimâ€å¤åˆ¶åˆ°å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ä¸­,0 æŠŠåˆšæ‰å¤åˆ¶çš„æ–‡æœ¬ç²˜è´´åˆ°å…‰æ ‡æ‰€åœ¨ä½ç½®= ç¬¦å·æŒ‡æ˜Žä½¿ç”¨è¡¨è¾¾å¼å¯„å­˜å™¨,=6*35ï¼Œå°†æ‰§è¡Œç»“æžœæ’å…¥åˆ°æ–‡æ¡£çš„å½“å‰ä½ç½®{code}æ ¹æ®å­—ç¬¦ç¼–ç æ’å…¥å­—ç¬¦ï¼Œ{code} æ˜¯è¦æ’å…¥å­—ç¬¦çš„ç¼–ç ï¼Œ065æ’å…¥Au{1234} ä»¥åå…­è¿›åˆ¶å­—ç¬¦ç¼–ç æ’å…¥å­—ç¬¦ga åˆ†åˆ«ä»¥åè¿›åˆ¶å’Œåå…­è¿›åˆ¶çš„å½¢å¼æ˜¾ç¤ºå‡ºå…¶å­—ç¬¦ç¼–ç {char1}{char2} æ’å…¥ä»¥äºŒåˆå­—æ¯{char1}{char2}è¡¨ç¤ºçš„å­—ç¬¦ï¼Œ?I è¡¨ç¤ºçš„â€œÂ¿â€å­—ç¬¦ï¼ŒäºŒåˆå­—æ¯ 12 æŒ‡1â„2R å‘½ä»¤å¯ä»¥ç”±æ™®é€šæ¨¡å¼è¿›å…¥æ›¿æ¢æ¨¡å¼ï¼Œâ€œ,â£bâ€ æ›¿æ¢åŽŸæœ‰çš„â€œ. â£ Bâ€å­—ç¬¦gR è¿›å…¥è™šæ‹Ÿæ›¿æ¢æ¨¡å¼(Virtual Replace mode)ï¼ŒæŠŠåˆ¶è¡¨ç¬¦å½“æˆä¸€ç»„ç©ºæ ¼è¿›è¡Œå¤„ç†ï¼Œè¾“å…¥åˆ¶è¡¨ç¬¦å æ®çš„æœ€åŽä¸€ä¸ªå­—ç¬¦ï¼Œè¯¥å­—ç¬¦ä¼šæ›¿æ¢åˆ¶è¡¨ç¬¦ã€‚ ç¬¬ 4 ç«  å¯è§†æ¨¡å¼viw æ¥é«˜äº®é€‰æ‹©è¿™ä¸ªè¯,ç”¨ c å‘½ä»¤è¿›è¡Œä¿®æ”¹V æ¿€æ´»é¢å‘è¡Œçš„å¯è§†æ¨¡å¼ æ¿€æ´»é¢å‘åˆ—å—çš„å¯è§†æ¨¡å¼gv é‡é€‰ä¸Šæ¬¡çš„é«˜äº®é€‰åŒºo åˆ‡æ¢é«˜äº®é€‰åŒºçš„æ´»åŠ¨ç«¯ï¼Œvbb ï¼Œo ï¼Œeé‡å¤æ‰§è¡Œé¢å‘è¡Œçš„å¯è§†å‘½ä»¤ï¼ŒVj ï¼Œ&gt;.vit å¯è¢«è§£è¯»ä¸ºé«˜äº®é€‰ä¸­æ ‡ç­¾å†…éƒ¨çš„å†…å®¹(visually select inside the tag),it å‘½ä»¤æ˜¯ä¸€ç§è¢«ç§°ä¸ºæ–‡æœ¬å¯¹è±¡(text object)gUit è¦ä¼˜äºŽ vitU å‘½ä»¤ï¼Œé¦–é€‰æ“ä½œç¬¦å‘½ä»¤ï¼Œå†è€…æ˜¯å¯æ˜¯æ¨¡å¼å‘½ä»¤ï¼Œå¯è§†æ¨¡å¼æ“…é•¿ä¸€æ¬¡æ€§å¤„ç†å’ŒåŠ¨ä½œå‘½ä»¤éš¾ä»¥æž„å»ºçš„æ–‡æœ¬èŒƒå›´æŠ€å·§24 é¢å‘åˆ—å—çš„å¯æ˜¯æ¨¡å¼ç¼–è¾‘è¡¨æ ¼æ•°æ®ï¼Œåœ¨ä¸€è¡Œä¸‹ç”Ÿæˆåˆ†å‰²çº¿ yypï¼ŒVr-åˆ—å—å¯è§†æ¨¡å¼,æ’å…¥æ“ä½œåªå½±å“é¡¶è¡Œï¼Œä½†å®žé™…å½±å“æ‰€æœ‰ï¼Œæ’å…¥æ¨¡å¼æ—¶é—´å¾ˆçŸ­æš‚I å‘½ä»¤æŠŠå…‰æ ‡ç½®äºŽå½“å‰è¡Œçš„å¼€å¤´ ç¬¬ 5 ç«  å‘½ä»¤è¡Œæ¨¡å¼æœ‰äº›å‘½ä»¤åœ¨æ’å…¥æ¨¡å¼å’Œå‘½ä»¤è¡Œæ¨¡å¼ä¸­å¯ä»¥é€šç”¨ã€‚ä¾‹å¦‚,å¯ä»¥ç”¨ å’Œ åˆ†åˆ«åˆ é™¤è‡³ä¸Šä¸ªå•è¯çš„å¼€å¤´åŠè¡Œé¦–,ä¹Ÿå¯ä»¥ç”¨ æˆ– æ¥æ’å…¥é”®ç›˜ä¸Šæ‰¾ä¸åˆ°çš„å­—ç¬¦,è¿˜å¯ä»¥ç”¨ {register} å‘½ä»¤æŠŠä»»æ„å¯„å­˜å™¨çš„å†…å®¹æ’å…¥åˆ°å‘½ä»¤è¡Œã€‚Ex å‘½ä»¤å¯ä»¥åœ¨ä»»æ„ä½ç½®æ‰§è¡Œ :3d ç­‰äºŽ 3G dd ä¸€å®šç¨‹åº¦ä¸Šè¦æ¯”æ™®é€šæ¨¡å¼å‘½ä»¤è¦å¿«. ä»£è¡¨å½“å‰è¡Œçš„åœ°å€ï¼Œ:.,$d è¿™æ ·çš„å‘½ä»¤å¯èƒ½å¾ˆå®žç”¨% ä»£è¡¨å½“å‰æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œï¼Œ:%s/Practical/Pragmatic/å¯è§†æ¨¡å¼åŠ å‘½ä»¤è¡Œæ¨¡å¼ï¼ŒVGï¼Œè¾“å…¥ ï¼šå‘½ä»¤è¡Œä¸Šå°±ä¼šé¢„å…ˆå¡«å……ä¸€ä¸ªèŒƒå›´ :â€™&lt;,â€™&gt; ã€‚ä»£è¡¨é«˜äº®é€‰åŒºçš„èŒƒå›´:6copy. å‘½ä»¤è§£è¯»ä¸ºâ€œä¸ºç¬¬ 6 è¡Œåˆ›å»ºä¸€ä»½å‰¯æœ¬,å¹¶æ”¾åˆ°å½“å‰è¡Œä¸‹æ–¹â€ï¼Œ:copy ç®€å†™:co æˆ–æ˜¯ :t:t6 æŠŠå½“å‰è¡Œå¤åˆ¶åˆ°ç¬¬ 6 è¡Œä¸‹æ–¹ï¼Œ:t$ æŠŠå½“å‰è¡Œå¤åˆ¶åˆ°æ–‡æœ¬ç»“å°¾å¿«é€Ÿè·³å›žåŽŸå…ˆçš„ä½ç½®( )ï¼Œåœ¨å¤åˆ¶è·ç¦»è¾ƒè¿œçš„è¡Œæ—¶, :t å‘½ä»¤é€šå¸¸æ›´åŠ é«˜æ•ˆã€‚: yyp ä¼šä½¿ç”¨å¯„å­˜å™¨ï¼Œä¸æƒ³è¦†ç›–é»˜è®¤å¯„å­˜å™¨ä¸­çš„å½“å‰å†…å®¹æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ :t. æ¥å¤åˆ¶è¡Œ:â€™&lt;,â€™&gt;m$ ç­‰äºŽ :â€™&lt;,â€™&gt;m$ï¼Œé‡å¤ä¸Šæ¬¡çš„ Ex å‘½ä»¤ @:â€˜&lt;,â€™&gt;normal . å‘½ä»¤å¯ä»¥è§£è¯»ä¸ºâ€œå¯¹é«˜äº®é€‰åŒºä¸­çš„æ¯ä¸€è¡Œ,å¯¹å…¶æ‰§è¡Œæ™®é€šæ¨¡å¼ä¸‹çš„ . å‘½ä»¤â€ã€‚:%normal i// æŠŠæ•´ä¸ª JavaScript æ–‡ä»¶æ³¨é‡ŠæŽ‰:normal å‘½ä»¤åˆ™è®©æˆ‘ä»¬å¯ä»¥æŠŠå…·æœ‰å¼ºå¤§è¡¨çŽ°åŠ›çš„ Vim æ™®é€šæ¨¡å¼å‘½ä»¤ä¸Žå…·æœ‰å¤§èŒƒå›´å½±å“åŠ›çš„ Ex å‘½ä»¤ç»“åˆåœ¨ä¸€èµ·éåŽ†ç¼“å†²åŒºåˆ—è¡¨çš„æ¡ç›®ï¼Œ:bn[ext] å¯ä»¥åœ¨åˆ—è¡¨ä¸­é€é¡¹æ­£å‘ç§»åŠ¨,è€Œ :bp[revious] å‘½ä»¤åˆ™è¿›è¡Œåå‘ç§»åŠ¨ é€ä¸ªæŸ¥çœ‹æ¯ä¸ªç¼“å†²åŒº :bnextï¼Œ@: å‘½ä»¤å’Œ:bprevious å‘½ä»¤å¯èƒ½ä¼šå‡ºçŽ°åå‘éåŽ†ç¼“å†²åŒºåˆ—è¡¨ï¼Œå°†äººæžç³Šæ¶‚ï¼Œæ›´å¥½ç”¨ å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šå›žåˆ°è·³è½¬åˆ—è¡¨çš„ä¸Šæ¡è®°å½•ã€‚æƒ³å¾€å›žè·³,å°±ç”¨ å‘½ä»¤ã€‚ å‘½ä»¤ä¼šè®© Vim æ˜¾ç¤ºå¯ç”¨çš„è¡¥å…¨åˆ—è¡¨ï¼ŒæŒ‰ é”®ä¾æ¬¡æ˜¾ç¤º ç”¨äºŽæ’å…¥å…‰æ ‡ä¸‹çš„å•è¯ï¼Œæ’å…¥å…‰æ ‡ä¸‹çš„å­—ä¸²ï¼Œä¸€èˆ¬å’Œ * ã€:%s ä¸€èµ·ä½¿ç”¨ï¼Œ:%s///gå‘½ä»¤è¡Œçª—å£å°±åƒæ˜¯ä¸€ä¸ªå¸¸è§„çš„ Vim ç¼“å†²åŒº,åªä¸è¿‡å®ƒçš„æ¯è¡Œå†…å®¹éƒ½å¯¹åº”ç€å‘½ä»¤åŽ†å²ä¸­çš„ä¸€ä¸ªæ¡ç›®ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ k åŠ j é”®åœ¨åŽ†å²ä¸­å‘å‰æˆ–å‘åŽç§»åŠ¨,ä¹Ÿå¯ä»¥ç”¨ Vim çš„æŸ¥æ‰¾åŠŸèƒ½æŸ¥æ‰¾æŸä¸€è¡Œã€‚åœ¨æŒ‰ä¸‹ é”®æ—¶,å°†ä¼šæŠŠå½“å‰è¡Œçš„å†…å®¹å½“æˆ Ex å‘½ä»¤åŠ ä»¥æ‰§è¡Œã€‚å¥½å¤„æ˜¯å¼ºå¤§çš„vimç¼–è¾‘èƒ½åŠ›å¯ä»¥æ´¾ä¸Šç”¨åœºã€‚q: è°ƒå‡ºå‘½ä»¤è¡Œçª—å£ï¼ŒJ å‘½ä»¤åˆå¹¶ä¸‹ä¸€è¡Œï¼Œå‘½ä»¤è¡Œçª—å£å¤„äºŽæ‰“å¼€çŠ¶æ€æ—¶,å®ƒä¼šå§‹ç»ˆæ‹¥æœ‰ç„¦ç‚¹ã€‚ ä»Žå‘½ä»¤è¡Œæ¨¡å¼åˆ‡æ¢åˆ°å‘½ä»¤è¡Œçª—å£ï¼Œå·²ç»è¾“å…¥åˆ°å‘½ä»¤è¡Œä¸Šçš„å†…å®¹ä»ç„¶ä¼šå¾—ä»¥ä¿ç•™:!ls æ‰§è¡Œ Shell ä¸­çš„ç¨‹åºï¼Œåœ¨ Vim çš„å‘½ä»¤è¡Œä¸­,ç¬¦å· % ä»£è¡¨å½“å‰æ–‡ä»¶å(æŒ‡è°ƒç”¨äº†shellç¨‹åºæ—¶)æ‰§è¡Œå‡ æ¡å‘½ä»¤:shell å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªäº¤äº’çš„ shell ä¼šè¯,ç”¨ exit å‘½ä»¤å¯ä»¥é€€å‡ºæ­¤ shell å¹¶è¿”å›ž VimæŠŠ Vim ç½®äºŽåŽå°ï¼Œçœ‹ä¹¦ p 94 å‘½ä»¤ä¼šäº§ç”Ÿå¤§é‡è¾“å‡ºï¼Œç”¨:read !{cmd} å‘½ä»¤ï¼Œå®ƒè®©æˆ‘ä»¬æŠŠå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°ç¼“å†²åŒºã€‚:write !{cmd} åšç›¸åçš„äº‹ã€‚å®ƒæŠŠç¼“å†²åŒºå†…å®¹ä½œä¸ºæŒ‡å®š {cmd} çš„æ ‡å‡†è¾“å…¥:write! sh æŠŠç¼“å†²åŒºå†…å®¹å†™åˆ°ä¸€ä¸ªåä¸º sh çš„æ–‡ä»¶ï¼Œå¹å·æ”¾å¾—ä½ç½®ä¸åŒ,å‘½ä»¤çš„ä½œç”¨]ä¹Ÿå¤§ç›¸å¾„åº­ã€‚:write !sh å‘½ ä»¤ çš„ ä½œ ç”¨ æ˜¯ åœ¨ shell ä¸­ æ‰§ è¡Œ å½“ å‰ ç¼“ å†² åŒº ä¸­ çš„ æ¯ è¡Œ å†… å®¹Vim æŠŠè¿‡æ»¤å™¨å®šä¹‰ä¸ºâ€œä¸€ä¸ªç”±æ ‡å‡†è¾“å…¥è¯»å–æ–‡æœ¬,å¹¶å¯¹å…¶è¿›è¡ŒæŸç§å½¢å¼çš„ä¿®æ”¹åŽè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºçš„ç¨‹åºâ€:2,$!sort -tâ€™,â€™ -k2ï¼Œå‘½ä»¤è¡Œç»“åˆ shell æ¥å¯¹æ–‡æœ¬è¿›è¡Œå¤„ç†ã€‚Vim æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„å¿«æ·æ–¹å¼æ¥è®¾ç½® :[range]!{filter} å‘½ä»¤ä¸­çš„èŒƒå›´ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ !{motion} æ“ä½œç¬¦åˆ‡æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼,å¹¶æŠŠæŒ‡å®š {motion} æ‰€æ¶µç›–çš„èŒƒå›´é¢„ç½®åœ¨å‘½ä»¤è¡Œä¸Šï¼Œå¦‚æžœæˆ‘ä»¬æŠŠå…‰æ ‡ç§»åˆ°ç¬¬ 2 è¡Œ,ç„¶åŽæ‰§è¡Œ !G ,Vim å°±ä¼šæ‰“å¼€å‘½ä»¤è¡Œå¹¶æŠŠèŒƒå›´ :.,$! é¢„ç½®åœ¨å‘½ä»¤è¡Œä¸Šã€‚è™½ç„¶æ­¤åŽæˆ‘ä»¬ä»éœ€è¾“å…¥å‰©ä¸‹çš„ {filter} å‘½ä»¤,ä½†è¿™æ¯•ç«ŸèŠ‚çœäº†éƒ¨åˆ†å·¥ä½œã€‚:read !{cmd} åœ¨ shell ä¸­æ‰§è¡Œ {cmd} ,å¹¶æŠŠå…¶æ ‡å‡†è¾“å‡ºæ’å…¥åˆ°å…‰æ ‡ä¸‹æ–¹:[range]write !{cmd} åœ¨ shell ä¸­æ‰§è¡Œ {cmd} ,ä»¥ [range] ä½œä¸ºå…¶æ ‡å‡†è¾“å…¥:[range]!{filter} ä½¿ç”¨å¤–éƒ¨ç¨‹åº {filter} è¿‡æ»¤æŒ‡å®šçš„ [range] ç¬¬äºŒéƒ¨åˆ† æ–‡ä»¶åœ¨æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨æ–‡ä»¶åŠç¼“å†²åŒºã€‚Vim å…è®¸åœ¨ä¸€ä¸ªç¼–è¾‘ä¼šè¯ä¸­ç¼–è¾‘å¤šä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥æ¯æ¬¡æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŠŠå·¥ä½œåŒºåˆ†æˆè‹¥å¹²ä¸ªåˆ†å‰²çª—å£æˆ–æ ‡ç­¾é¡µï¼Œæ¯ä¸ªçª—å£æˆ–æ ‡ç­¾é¡µåŒ…å«ä¸€ä¸ªç‹¬ç«‹çš„ç¼“å†²åŒºã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°åœ¨ Vim ä¸­æ‰“å¼€æ–‡ä»¶çš„æœºç§ä¸åŒæ–¹å¼ï¼Œå¹¶æŽŒæ¡ä¸€äº›æ–¹æ³•æ¥è§£å†³æ— æ³•æŠŠç¼“å†²åŒºä¿å­˜åˆ°æ–‡ä»¶çš„é—®é¢˜ã€‚ ç¬¬ 6 ç«  ç®¡ç†å¤šä¸ªæ–‡ä»¶æˆ‘ä»¬ç¼–è¾‘çš„åªæ˜¯å†…å­˜ä¸­çš„æ˜ åƒï¼Œä¹Ÿå°±æ˜¯ Vim æœ¯è¯­ä¸­çš„â€œç¼“å†²åŒºâ€ã€‚ :ls å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰è¢«è½½å…¥åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒºçš„åˆ—è¡¨ï¼Œ :bnext å‘½ä»¤å¯ä»¥åˆ‡æ¢åˆ°åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªç¼“å†²åŒºï¼Œ% ç¬¦å·æŒ‡æ˜Žå“ªä¸ªç¼“å†²åŒºåœ¨å½“å‰çª—å£ä¸­å¯è§ï¼Œè€Œ # ç¬¦å·åˆ™ä»£è¡¨è½®æ¢æ–‡ä»¶ã€‚æŒ‰ &lt;C-^&gt; å¯ä»¥åœ¨å½“å‰æ–‡ä»¶å’Œè½®æ¢æ–‡ä»¶é—´å¿«é€Ÿåˆ‡æ¢ã€‚ :bprev (bp) å’Œ :bnext (bn)åœ¨åˆ—è¡¨ä¸­åå‘æˆ–æ­£å‘ç§»åŠ¨ï¼›è€Œ :bfirst å’Œ :blast åˆ™åˆ†åˆ«è·³åˆ°åˆ—è¡¨çš„å¼€å¤´å’Œç»“å°¾ 12ã€Š 1 # "a.txt" line 1 2 %a "b.txt" line 1 :buffer N å‘½ä»¤ç›´æŽ¥å‡­ç¼–å·è·³è½¬åˆ°ä¸€ä¸ªç¼“å†²åŒºï¼Œ:buffer {bufname} æ ¼å¼å®žçŽ°åŒæ ·çš„åŠŸèƒ½ã€‚{bufname} åªéœ€åŒ…å«æ–‡ä»¶è·¯å¾„ä¸­ è¶³ä»¥å”¯ä¸€æ ‡è¯†æ­¤ç¼“å†²åŒºçš„å­—ç¬¦å³å¯ åˆ é™¤ç¼“å†²åŒºï¼Œå¯ä»¥ç”¨ :bdelete å‘½ä»¤, :5,10bd ,åˆ é™¤ç¼–å· 5ï½ž10ï¼ˆåŒ…å« 5 å’Œ 10ï¼‰çš„ç¼“å†²åŒº ç”¨ :argdo å‘½ä»¤å¯ä»¥åœ¨å‚æ•°åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ–‡ä»¶ä¸Šæ‰§è¡Œä¸€æ¡ Ex å‘½ä»¤ã€‚ å½“ä¸å¸¦å‚æ•°è¿è¡Œ :args å‘½ä»¤æ—¶ï¼Œå®ƒä¼šæ‰“å°å½“å‰å‚æ•°åˆ—è¡¨çš„å†…å®¹ã€‚ :args {arglist} {arglist} å¯ä»¥åŒ…æ‹¬æ–‡ä»¶åã€é€šé…ç¬¦ï¼Œç”šè‡³æ˜¯ä¸€æ¡ shell å‘½ä»¤çš„è¾“å‡ºç»“æžœ å¡«å……å‚æ•°åˆ—è¡¨æœ€ç®€å•çš„æ–¹å¼æ˜¯é€ä¸€æŒ‡å®šæ–‡ä»¶çš„åå­—ï¼šâž¾ :args index.html app.js é€šé…ç¬¦ä¹ŸåŒ¹é… 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œä½†å®ƒå¯ä»¥é€’å½’è¿›å…¥æŒ‡å®šç›®å½•çš„å­ç›®å½• :args /.js , :args **/.js */.css :args cat .chapters æŒ‰ Go åœ¨ç¼“å†²åŒºçš„ç»“å°¾å¢žåŠ ä¸€ä¸ªç©ºè¡Œ,ç¼“å†²åŒº a.txt å‰æœ‰ä¸€ä¸ª + å·ï¼Œè¡¨ç¤ºè¿™ä¸ªç¼“å†²åŒºè¢«ä¿®æ”¹è¿‡äº†,è¢«æ ‡è®°ä¸º hï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªéšè—ç¼“å†²åŒºï¼ˆhiddenï¼‰ :w[rite] æŠŠç¼“å†²åŒºå†…å®¹å†™å…¥ç£ç›˜ :e[dit]! æŠŠç£ç›˜æ–‡ä»¶å†…å®¹è¯»å…¥ç¼“å†²åŒºï¼ˆå³å›žæ»šæ‰€åšä¿®æ”¹ï¼‰ :qa[ll]! å…³é—­æ‰€æœ‰çª—å£ï¼Œæ‘’å¼ƒä¿®æ”¹è€Œæ— éœ€è­¦å‘Š :wa[ll]! æŠŠæ‰€æœ‰æ”¹å˜çš„ç¼“å†²åŒºå†™å…¥ç£ç›˜ å¯ç”¨â€˜hiddenâ€™é€‰é¡¹,è¿è¡Œå®Œ :argdo {cmd} åŽ,ä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥è¿è¡Œ :argdo write ï¼ˆæˆ– :wallï¼‰æ¥ä¿å­˜æ‰€æœ‰çš„ç¼“å†²åŒºã€‚ ç”¨ s å‘½ä»¤å¯ä»¥æ°´å¹³åˆ‡åˆ†æ­¤çª—å£ï¼Œä½¿ä¹‹æˆ ä¸ºä¸¤ä¸ªé«˜åº¦ç›¸åŒçš„çª—å£ï¼›æˆ–è€…å¯ä»¥ç”¨ v å‘½ä»¤å¯¹å…¶è¿›è¡Œåž‚ç›´åˆ‡åˆ†ï¼Œè¿™æ ·ä¼šäº§ç”Ÿä¸¤ ä¸ªå®½åº¦ç›¸åŒçš„çª—å£ ç¼–è¾‘é•¿æ–‡ä»¶æ—¶,å¯ä»¥æ»šåŠ¨å…¶ä¸­ä¸€ä¸ªçª—å£ï¼Œä½¿ä¹‹æ˜¾ç¤ºç¼“å†²åŒºçš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·ï¼Œåœ¨ä¿®æ”¹ç¬¬äºŒ ä¸ªçª—å£ä¸­ç¼“å†²åŒºçš„å¦å¤–ä¸€éƒ¨åˆ†æ—¶ï¼Œå°±å¯ä»¥å‚è€ƒç¬¬ä¸€ä¸ªçª—å£ä¸­çš„å†…å®¹ã€‚ :sp[lit] {file} æ°´å¹³åˆ‡åˆ†å½“å‰çª—å£ï¼Œå¹¶åœ¨æ–°çª—å£ä¸­è½½å…¥{file} :vsp[lit] {file} åž‚ç›´åˆ‡åˆ†å½“å‰çª—å£ï¼Œå¹¶åœ¨æ–°çª—å£ä¸­è½½å…¥{file}w åœ¨çª—å£é—´å¾ªçŽ¯åˆ‡æ¢ h åˆ‡æ¢åˆ°å·¦è¾¹çš„çª—å£ j åˆ‡æ¢åˆ°ä¸‹è¾¹çš„çª—å£ k åˆ‡æ¢åˆ°ä¸Šè¾¹çš„çª—å£ l åˆ‡æ¢åˆ°å³è¾¹çš„çª—å£,æŒ‰ä½ é”®ï¼Œç„¶åŽå†è¾“å…¥ ww ï¼ˆæˆ– wj ï¼Œæˆ–ä¸Šè¡¨ä¸­çš„å…¶ä»–å‘½ä»¤ï¼‰æ¥åˆ‡æ¢æ´»åŠ¨çª—å£ã€‚ = ä½¿æ‰€æœ‰çª—å£ç­‰å®½ã€ç­‰é«˜ _ æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„é«˜åº¦ | æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„å®½åº¦ [N]_ æŠŠæ´»åŠ¨çª—å£çš„é«˜åº¦è®¾ä¸º[N]è¡Œ [N]| æŠŠæ´»åŠ¨çª—å£çš„å®½åº¦è®¾ä¸º[N]åˆ—,ç”¨é¼ æ ‡åšæœ€å¥½ ç”¨ :edit å‘½ä»¤æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼ŒVim å´ä¸ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ ä¸ªæ–°æ ‡ç­¾é¡µï¼Œè€Œæ˜¯ä¼šåˆ›å»ºä¸€ä¸ªæ–°ç¼“å†²åŒºï¼Œå¹¶æŠŠè¯¥ç¼“å†²åŒºæ˜¾ç¤ºåˆ°å½“å‰çª—å£ã€‚åº”è¯¥æŠŠæ ‡ç­¾é¡µæƒ³æˆå®¹çº³ä¸€ç³» åˆ—çª—å£çš„å®¹å™¨ :lcd {path} å‘½ä»¤è®©æˆ‘ä»¬å¯ä»¥è®¾ç½®å½“å‰çª—å£çš„æœ¬åœ°å·¥ä½œç›®å½•ã€‚å¦‚æžœæˆ‘ä»¬åˆ›å»ºäº†ä¸€ ä¸ªæ–°æ ‡ç­¾é¡µï¼Œå¹¶ç”¨ :lcd å‘½ä»¤åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç›®å½•ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŠŠæ¯ä¸ªæ ‡ç­¾é¡µé™åˆ¶åœ¨ä¸ åŒçš„å·¥ç¨‹èŒƒå›´å†…ã€‚ç”¨ :tabedit {filename} å‘½ä»¤å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µï¼Œå¦‚æžœçœç•¥äº† {filename} å‚æ•°çš„è¯ï¼Œé‚£ä¹ˆ Vim ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ ‡ç­¾é¡µï¼Œé‡Œé¢åŒ…å«ä¸€ä¸ªç©ºç¼“å†²åŒº T å‘½ ä»¤æŠŠå½“å‰çª—å£ç§»åˆ°ä¸€ä¸ªæ–°æ ‡ç­¾é¡µä¸­ :tabc[lose] å…³é—­å½“å‰æ ‡ç­¾é¡µåŠå…¶ä¸­çš„æ‰€æœ‰çª—å£ :tabo[nly] åªä¿ç•™æ´»åŠ¨æ ‡ç­¾é¡µï¼Œå…³é—­æ‰€æœ‰å…¶ä»–æ ‡ç­¾é¡µ :tabmove [N] å‘½ä»¤å¯ä»¥é‡æ–°æŽ’åˆ—æ ‡ç­¾é¡µã€‚çœç•¥äº† [N]ï¼Œå½“å‰æ ‡ç­¾é¡µä¼šè¢«ç§»åˆ°ç»“å°¾ï¼Œå¦‚æžœæ”¯æŒé¼ æ ‡ï¼Œåˆ™ç”¨é¼ æ ‡æ‹–æ‹½ ç¬¬ 7 ç«  æ‰“å¼€åŠä¿å­˜æ–‡ä»¶:edit {file} å‘½ä»¤å¯ä»¥æŽ¥å—ç›¸å¯¹äºŽå·¥ä½œç›®å½•çš„æ–‡ä»¶è·¯å¾„ % ç¬¦å·ä»£è¡¨æ´»åŠ¨ç¼“å†²åŒºçš„å®Œæ•´æ–‡ä»¶è·¯å¾„ï¼Œ:h ä¿®é¥°ç¬¦ä¼šåŽ»é™¤æ–‡ä»¶åï¼Œä½†ä¿ç•™è·¯å¾„ä¸­çš„å…¶ä»–éƒ¨åˆ† :edit %:hM $ vim . åœ¨æŒ‰ é”®æ—¶ï¼ŒVim ä¼šæ‰“å¼€å…‰æ ‡ä¸‹çš„æ¡ ç›®ã€‚å¦‚æžœå…‰æ ‡ä½äºŽç›®å½•ä¸Šï¼Œé‚£ä¹ˆæ­¤çª—å£çš„å†…å®¹ä¼šæ›´æ–°ä¸ºè¯¥ç›®å½•çš„å†…å®¹ï¼›å¦‚æžœå…‰æ ‡ä½äºŽæ–‡ä»¶ä¸Šï¼Œé‚£ä¹ˆè¯¥æ–‡ä»¶ä¼šè¢«è½½å…¥ä¸€ä¸ªç¼“å†²åŒºé‡Œï¼Œå¹¶æŠŠå®ƒæ˜¾ç¤ºåœ¨å½“å‰çª—å£ä¸­ã€‚è¿™å°†å¯¼è‡´å½“ å‰çª—å£ä¸­çš„æ–‡ä»¶ç®¡ç†å™¨è¢«è¯¥ç¼“å†²åŒºçš„å†…å®¹æ‰€æ›¿ä»£ :edit . :e. æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨ï¼Œå¹¶æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½• :Explore :E æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨ï¼Œå¹¶æ˜¾ç¤ºæ´»åŠ¨ç¼“å†²åŒºæ‰€åœ¨çš„ç›®å½• :E åŠ :e. å‘½ä»¤è¡¨çŽ°å¾—æœ‰äº›å¤æ€ªï¼Œå› ä¸ºå®ƒä»¬ä¼šç”¨æ–‡ä»¶ç®¡ç†å™¨æ›¿æ¢æŽ‰å½“å‰çª—å£çš„å†…å®¹ï¼Œæƒ³è±¡æˆä¸€å¼ çº¸ç‰Œï¼Œå¦‚æžœåœ¨è°ƒå‡ºæ–‡ ä»¶ç®¡ç†å™¨åŽï¼Œåˆæƒ³åˆ‡æ¢å›žåˆšæ‰æ­£åœ¨ç¼–è¾‘çš„é‚£ä¸ªæ–‡ä»¶ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ &lt;C-^&gt; å‘½ä»¤ã€‚ æ€æ‰‹çº§åŠŸèƒ½ï¼Œå…¶åå­—æ­£å› ä¸ºæ­¤åŠŸèƒ½è€Œæ¥ï¼Œå³ netrw å¯ ä»¥é€šè¿‡ç½‘ç»œè¯»å†™æ–‡ä»¶ã€‚è¯¥æ’ä»¶å¯ä»¥åˆ©ç”¨å¤šç§åè®®è¯»å†™ç½‘ç»œæ–‡ä»¶ï¼ŒåŒ…æ‹¬ scpã€ftpã€curl åŠ wgetï¼Œè¿™å–å†³äºŽä½ çš„ç³»ç»Ÿä¸Šå¯ä»¥ç”¨å“ªäº›åè®®ã€‚ï¼ˆæ‰‹åŠ¨æµæ±—ï¼‰ å‘½ä»¤ç”¨äºŽæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„æ–‡ä»¶ååŠçŠ¶æ€ï¼Œä»¥è¶…çº§ç”¨æˆ·æ‰§è¡Œï¼Œtee /etc/hosts &gt; /dev/nullã€‚è¿™æ¡å‘½ä»¤ä¼šæŠŠç¼“å†²åŒºçš„å†…å®¹å½“ä½œæ ‡å‡†è¾“å…¥ï¼Œå¹¶ç”¨å®ƒæ¥è¦†ç›– /etc/hosts æ–‡ä»¶çš„å†…å®¹ï¼Œä¸‹é¢æ–‡ä»¶ä¸Žç¼“å†²åŒºçš„å†…å®¹åˆšå¥½æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ ç¬¬ä¸‰éƒ¨åˆ† æ›´å¿«åœ°ç§»åŠ¨åŠè·³è½¬åŠ¨ä½œå‘½ä»¤æ˜¯è¿›è¡Œ Vim æ“ä½œçš„æœ€é‡è¦çš„ä¸€äº›å‘½ä»¤ã€‚æˆ‘ä»¬ä¸ä»…å¯ä»¥ç”¨å®ƒä»¬å››å¤„ç§»åŠ¨å…‰æ ‡ï¼Œè¿˜èƒ½å¤Ÿç”¨å®ƒä»¬ä¸Žæ“ä½œç¬¦å¾…å†³æ¨¡å¼é…åˆä½¿ç”¨ï¼ŒæŒ‡å®šä¸€æ®µæ–‡æœ¬èŒƒå›´å¹¶åœ¨å…¶ä¸Šè¿›è¡Œæ“ä½œã€‚åœ¨æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ç»“è¯†ä¸€äº›æœ€ä¸ºæœ‰ç”¨çš„åŠ¨ä½œå‘½ä»¤ï¼Œå¦å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šå­¦ä¹  Vim çš„è·³è½¬å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤è®©æˆ‘ä»¬å¯ä»¥åœ¨æ–‡ä»¶é—´å¿«é€Ÿåœ°è·³è½¬ã€‚ ç¬¬ 8 ç«  ç”¨åŠ¨ä½œå‘½ä»¤åœ¨æ–‡æ¡£ä¸­ç§»åŠ¨æˆ‘ä»¬ä¸ç”¨æŠŠæ‰‹ä»Žæœ¬ä½è¡Œä¸Šç§»å¼€ï¼Œå°±å¯ä»¥ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œæ“ä½œç¬¦å¾…å†³æ¨¡å¼ä¸­æœ€å‡ºå½©çš„æ˜Žæ˜Ÿæ˜¯æ–‡æœ¬å¯¹è±¡å¦‚æžœä½ åœ¨ä¸€è¡Œä¸­è¿žç»­æŒ‰äº†ä¸¤æ¬¡ä»¥ä¸Šçš„ h é”®ï¼Œé‚£å°±æ˜¯åœ¨æµªè´¹æ—¶é—´ï¼ˆæ‰‹åŠ¨æµæ±—ï¼‰ã€‚ å³ jã€kã€0å’Œ $ éƒ½ç”¨äºŽæ“ä½œå®žé™…è¡Œï¼Œè€Œå¦‚æžœåœ¨è¿™äº› é”®å‰åŠ ä¸Š g å‰ç¼€çš„è¯ï¼Œå°±ä¼šè®© Vim å¯¹å±å¹•è¡Œè¿›è¡Œæ“ä½œ w æ­£å‘ç§»åŠ¨åˆ°ä¸‹ä¸€å•è¯çš„å¼€å¤´ (for-)wordb åå‘ç§»åŠ¨åˆ°å½“å‰å•è¯/ä¸Šä¸€å•è¯çš„å¼€å¤´ back-worde æ­£å‘ç§»åŠ¨åˆ°å½“å‰å•è¯/ä¸‹ä¸€å•è¯çš„ç»“å°¾ge åå‘ç§»åŠ¨åˆ°ä¸Šä¸€å•è¯çš„ç»“å°¾ea å‘½ä»¤è¿žåœ¨ä¸€èµ·å¯è¢«è§£è¯»ä¸ºâ€œåœ¨å½“å‰å•è¯ç»“å°¾åŽæ·»åŠ â€gea å‘½ä»¤å½“æˆâ€œåœ¨ä¸Šä¸€å•è¯ç»“å°¾åŽ æ·»åŠ â€çš„å‘½ä»¤ æˆ‘ä»¬ä¹‹å‰é‡åˆ°è¿‡çš„æ¯ä¸ªé¢å‘å•è¯çš„åŠ¨ä½œå‘½ä»¤ï¼Œéƒ½æœ‰ä¸€ä¸ªé¢å‘å­—ä¸²çš„å‘½ä»¤ä¸Žå…¶å¯¹ åº”ï¼Œè¿™å½“ä¸­åŒ…æ‹¬ Wã€Bã€Eå’Œ gEä¸€ä¸ªå•è¯ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œæˆ–å…¶ä»–éžç©ºç™½å­—ç¬¦çš„åºåˆ—ç»„æˆï¼Œå•è¯é—´ä»¥ç©ºç™½ å­—ç¬¦åˆ†éš”ï¼Œå­—ä¸²çš„å®šä¹‰åˆ™æ›´ç®€å•ï¼Œå®ƒç”±éžç©ºç™½å­—ç¬¦åºåˆ—ç»„æˆï¼Œ å­—ä¸²é—´ä»¥ç©ºç™½å­—ç¬¦åˆ†éš” Vim ä¼šè®°å½• ä¸Šæ¬¡æ‰§è¡Œè¿‡çš„ f{char} å‘½ä»¤ï¼ŒéšåŽç”¨ ; å‘½ä»¤å°±å¯ä»¥é‡å¤è¯¥å‘½ä»¤äº†ï¼Œç”¨ , å‘½ä»¤å°±å¯ä»¥å†è·³å›žæ¥f{char} æ­£å‘ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª {char} æ‰€åœ¨ä¹‹å¤„F{char} åå‘ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª {char} æ‰€åœ¨ä¹‹å¤„t{char} æ­£å‘ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª {char} æ‰€åœ¨ä¹‹å¤„çš„å‰ä¸€ä¸ªå­—ç¬¦ä¸ŠT{char} åå‘ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª {char} æ‰€åœ¨ä¹‹å¤„çš„åŽä¸€ä¸ªå­—ç¬¦ä¸Š; é‡å¤ä¸Šæ¬¡çš„å­—ç¬¦æŸ¥æ‰¾å‘½ä»¤, åè½¬æ–¹å‘æŸ¥æ‰¾ä¸Šæ¬¡çš„å­—ç¬¦æŸ¥æ‰¾å‘½ä»¤ f,dt.è®­ç»ƒæˆæ‰‹æŒ‡çš„ä¸‹æ„è¯†åŠ¨ä½œï¼ˆåˆ é™¤ , å’Œ . ä¹‹é—´çš„å†…å®¹ï¼‰ ç¼ºçœçš„ é”®æ˜¯ \ æŸ¥æ‰¾å‘½ä»¤ä¸ä»…é™äºŽåœ¨æ™®é€šæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å¯è§†æ¨¡å¼åŠæ“ä½œç¬¦å¾…å†³æ¨¡å¼ ä¸­ä½¿ç”¨å®ƒï¼Œç”¨æ¥å®Œæˆå®žé™…çš„å·¥ä½œåˆ é™¤å·¥ä½œä¼šæ›´æ–¹ä¾¿ï¼Œå…ˆé«˜äº®ç„¶åŽé€šè¿‡å‘½ä»¤è¡Œæ¨¡å¼è¿›è¡Œå¤§èŒƒå›´é€‰æ‹©ã€‚d/ge ç”¨ /ge æŸ¥æ‰¾åŠ¨ä½œå‘Šè¯‰ d{motion} å‘½ä»¤åˆ é™¤ä»€ä¹ˆã€‚æŸ¥æ‰¾å‘½ä»¤æ˜¯ ä¸€ä¸ªå¼€åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶å…‰æ ‡æ˜¯åœ¨å•è¯â€œgetsâ€å¼€å¤´çš„â€œgâ€ä¸Šçš„ï¼Œä½†æ­¤å­—ç¬¦å´è¢« æŽ’é™¤åœ¨åˆ é™¤æ“ä½œä¹‹å¤–ï¼Œç”¨ v è¿˜éœ€è¦ h ä¸€ä¸‹æŠŠ d{motion} æ“ä½œç¬¦ä¸ŽæŸ¥æ‰¾åŠ¨ä½œç»“ åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œè¿™æ˜¯ä¸ªå¾ˆå¤§çš„è¿›æ­¥ï¼Œä½ å¯ä»¥å¥½å¥½åœ¨æœ‹å‹å’ŒåŒäº‹ä»¬é¢å‰ç‚«è€€ä¸€ç•ªäº† å¯ä»¥æŠŠ i æƒ³æˆâ€œinsideâ€ï¼Œè€ŒæŠŠ a æƒ³æˆ â€œaroundâ€ æˆ–â€œallâ€ã€‚ æ–‡æœ¬å¯¹è±¡è‡ªèº«å¹¶ä¸æ˜¯åŠ¨ä½œå‘½ä»¤ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨å®ƒä»¬åœ¨æ–‡æ¡£ä¸­ç§»åŠ¨ã€‚ä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥ åœ¨å¯è§†æ¨¡å¼åŠæ“ä½œç¬¦å¾…å†³æ¨¡å¼ä¸­ä½¿ç”¨æ–‡æœ¬å¯¹è±¡ ï¼šæ¯å½“åœ¨å‘½ä»¤è¯­æ³•é‡Œçœ‹åˆ° {motion} æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªåœ°æ–¹ä½¿ç”¨æ–‡æœ¬å¯¹è±¡ï¼Œå¸¸è§çš„ä¾‹å­åŒ…æ‹¬ d{motion}ã€ c{motion}å’Œ y{motion} æŠŠ ciâ€ å‘½ä»¤è§£è¯»ä¸ºâ€œä¿®æ”¹åŒå¼•å·å†…éƒ¨çš„å†…å®¹â€ï¼ŒæŠŠ cit å‘½ä»¤è§£è¯»ä¸ºâ€œä¿® æ”¹æ ‡ç­¾å†…éƒ¨çš„å†…å®¹â€ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ yit å‘½ä»¤æ‹·è´æ ‡ç­¾å†…çš„æ–‡æœ¬ï¼Œæˆ– è€…æ˜¯ç”¨ dit åˆ é™¤è¿™äº›æ–‡æœ¬ã€‚ å¦‚æžœè¯´ f{char} å’Œ /pattern å‘½ä»¤å¦‚åŒå•è¶³é£žè¸¹ï¼Œ é‚£ä¹ˆæ–‡æœ¬å¯¹è±¡åˆ™åƒæ˜¯ä¸€æ¬¡æ”»å‡»ä¸¤ä¸ªç›®æ ‡çš„å‰ªåˆ€è…¿ iw å’Œ aw ä¹‹é—´çš„åŒºåˆ«å¾ˆå¾®å¦™ï¼Œä¸ºä»€ä¹ˆä¼šéœ€è¦è¿™æ ·ä¸¤ä¸ªæ–‡æœ¬å¯¹è±¡å‘¢ï¼Ÿciw å‘½ä»¤åªåˆ é™¤è¯¥å•è¯ï¼Œè€Œä¸åˆ é™¤å…¶å‰åŽçš„ç©ºç™½å­—ç¬¦ï¼ŒéšåŽå®ƒä¼šè¿›å…¥æ’å…¥æ¨¡å¼ï¼Œ è¿™åˆšå¥½æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæžœã€‚å¦‚æžœç”¨çš„æ˜¯ caw çš„è¯ï¼Œé‚£æœ€åŽä¸¤ä¸ªå•è¯å°±ä¼šè¿žåœ¨ä¸€èµ·ä¸€èˆ¬æ¥è¯´ï¼Œd{motion} å‘½ä»¤å’Œ awã€as å’Œ ap é…åˆèµ·æ¥ä½¿ç”¨æ¯”è¾ƒå¥½ï¼Œè€Œ c{motion} å‘½ä»¤å’Œ iw åŠç±»ä¼¼çš„æ–‡æœ¬å¯¹è±¡ä¸€èµ·ç”¨æ•ˆæžœä¼šæ›´å¥½ã€‚ m{a-zA-Z} å‘½ä»¤ä¼šç”¨é€‰å®šçš„å­—æ¯æ ‡è®°å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®,mm å’Œ `m å‘½ä»¤æ˜¯ä¸€å¯¹ä¾¿äºŽä½¿ç”¨çš„å‘½ä»¤ï¼Œå®ƒä»¬åˆ†åˆ«è®¾ç½®ä½ç½®æ ‡è®° mï¼Œä»¥åŠè·³è½¬åˆ° è¯¥æ ‡è®°% å‘½ä»¤å…è®¸æˆ‘ä»¬åœ¨ä¸€ç»„å¼€ã€é—­æ‹¬å·é—´è·³è½¬,åœ¨æ‰§è¡Œ % å‘½ä»¤æ—¶ï¼ŒVim ä¼š è‡ªåŠ¨ä¸ºå‘ç”Ÿè·³è½¬çš„åœ°æ–¹è®¾ç½®ä¸€ä¸ªä½ç½®æ ‡è®°, % å‘½ä»¤åªèƒ½ç”¨åœ¨é…å¯¹çš„æ‹¬å·ä¸Š,æ‰€ä»¥åˆ©ç”¨æ›¿æ¢å‘½ä»¤æ—¶æœ€å¥½åˆ©ç”¨ä½ç½®æ ‡è®°ï¼Œé˜²æ­¢é™·é˜±ã€‚ ç¬¬ 9 ç«  åœ¨æ–‡ä»¶é—´è·³è½¬:jumps æŸ¥çœ‹è·³è½¬åˆ—è¡¨çš„å†…å®¹ï¼Œå¦‚æžœæˆ‘ä»¬è¿è¡Œ :edit å‘½ä»¤ æ‰“å¼€äº†ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ å’Œ å‘½ä»¤åœ¨è¿™ä¸ªæ–°æ–‡ ä»¶ä»¥åŠåŽŸæœ¬çš„æ–‡ä»¶ä¹‹é—´æ¥å›žè·³è½¬ï¼Œä¼šå§‹ç»ˆåœ¨ å½“å‰æ´»åŠ¨çª—å£çš„è·³è½¬åˆ—è¡¨èŒƒå›´å†…è¿›è¡Œè·³è½¬ï¼Œ Vim æœ¬æ¥å°±æŠŠ å’Œ å½“æˆåŒä¸€ä¸ªä¸œè¥¿ã€‚æ˜ å°„éœ€è°¨æ…Žã€‚ Vim ä¼šåœ¨ç¼–è¾‘ä¼šè¯æœŸé—´ç»´æŠ¤ä¸€å¼ è¡¨ï¼Œé‡Œé¢è®°è½½æˆ‘ä»¬å¯¹æ¯ä¸ªç¼“å†²åŒºæ‰€åšçš„ä¿®æ”¹ï¼Œ æ­¤è¡¨å°±æ˜¯æ‰€è°“çš„æ”¹å˜åˆ—è¡¨ :changesï¼Œç”¨ g; å’Œ g, å‘½ä»¤åå‘æˆ–æ­£å‘éåŽ†æ”¹å˜åˆ—è¡¨ã€‚æ”¹å˜åˆ—è¡¨ä¸­åˆ™ä¿å­˜äº†å¤šç»„ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥å¤šæ¬¡æŒ‰ g; å‘½ä»¤ï¼Œæ¯æ¬¡å®ƒéƒ½ä¼šæŠŠ æˆ‘ä»¬å¸¦åˆ°æ”¹å˜åˆ—è¡¨ä¸­è¾ƒæ—©çš„ä¸€ä¸ªä½ç½®ï¼Œè€Œ `. åˆ™æ€»æ˜¯æŠŠæˆ‘ä»¬å¸¦åˆ°æ”¹å˜åˆ—è¡¨çš„æœ€åŽä¸€é¡¹ã€‚ æ‰§è¡Œ gf å‘½ä»¤â€œgo to fileâ€åŠ ä¸Š .rb æ‰©å±•åï¼Œç”¨ â€˜suffixesaddâ€™ é€‰é¡¹åšåˆ°è¿™ä¸€ç‚¹ :set suffixesadd+=.rbæŸ¥çœ‹ â€˜pathâ€™ é€‰é¡¹çš„å€¼:set path?ã€Š path=.,/usr/include,,&lt;C-]&gt; å‘½ä»¤çš„ä½œç”¨ä¹Ÿç±»ä¼¼ã€‚å®ƒä¹Ÿéœ€è¦è¿›è¡Œä¸€äº›é…ç½®ï¼ˆåœ¨æŠ€å·§ 102 ä¸­è®¨è®ºï¼‰ï¼Œç„¶è€Œ ä¸€æ—¦æ­£ç¡®é…ç½®å¥½ï¼Œå®ƒå°±å…è®¸æˆ‘ä»¬ä»Žå‡½æ•°è°ƒç”¨çš„åœ°æ–¹ç›´æŽ¥è·³åˆ°è¯¥å‡½æ•°å®šä¹‰çš„åœ°æ–¹ ç”¨ä¸¤æ¬¡æŒ‰é”®å°±å¯ä»¥æ‰“å¼€ä½ çš„ vimrc æ–‡ä»¶ï¼Œå…ˆæ‰“å¼€ä½ çš„ vimrc æ–‡ä»¶ï¼ŒæŒ‰ mV è®¾ç½®ä¸€ä¸ªå…¨å±€æ ‡è®°ï¼ˆåŠ©è®°è¯ V ä»£ è¡¨ vimrcï¼‰ï¼Œç„¶åŽåˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­æŒ‰ `V ç¼ºçœæƒ…å†µä¸‹ï¼Œ:vimgrep ä¼šç›´æŽ¥è·³åˆ°å®ƒæ‰€æ‰¾åˆ°çš„ç¬¬ä¸€å¤„åŒ¹é…ä¸Šï¼Œè¿™æˆ–è®¸ä¼šåˆ‡æ¢åˆ° å¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¦å…»æˆåœ¨ä½¿ç”¨ä¸Ž quickfix åˆ—è¡¨æœ‰å…³çš„å‘½ä»¤å‰ï¼Œå¦‚:grepã€:vimgrep åŠ:makeï¼Œè®¾ç½®å…¨å±€æ ‡è®°çš„ä¹ æƒ¯ã€‚å¦å¤–ï¼Œåœ¨æ‰§è¡Œä¸Žç¼“å†²åŒºåˆ—è¡¨æˆ–å‚æ•°åˆ—è¡¨æœ‰å…³çš„å‘½ä»¤å‰ï¼Œ å¦‚:args {arglist}å’Œ:argdoï¼ˆå‚è§æŠ€å·§ 37ï¼‰ï¼Œä¹Ÿè¦è®¾ç½®å…¨å±€æ ‡è®°ã€‚ ä½ æ€»å…±å¯ä»¥è®¾ç½® 26 ä¸ªå…¨å±€ä½ç½®æ ‡è®°ï¼Œå¯ä»¥è¿…é€Ÿè·³å›žã€‚ ç¬¬å››éƒ¨åˆ† å¯„å­˜å™¨Vim çš„å¯„å­˜å™¨æ˜¯ä¸€ç»„ç”¨äºŽä¿å­˜æ–‡ä»¶çš„ç®€å•å®¹å™¨ã€‚å®ƒä»¬æ—¢å¯åƒå‰ªè´´æ¿é‚£æ ·ï¼Œå‰ªåˆ‡ã€å¤åˆ¶å’Œç²˜è´´æ–‡æœ¬ï¼›ä¹Ÿå¯ä»¥è®°å½•ä¸€ç³»åˆ—æŒ‰é”®æ“ä½œï¼ŒæŠŠå®ƒä»¬å½•åˆ¶æˆå®ã€‚é€šè¿‡æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æŽŒæ¡è¿™ä¸€æ ¸å¿ƒåŠŸèƒ½ã€‚ ç¬¬ 10 ç«  å¤åˆ¶ä¸Žç²˜è´´xpï¼Œå¯è¢«ç”¨äºŽâ€œè°ƒæ¢å…‰æ ‡ä¹‹åŽçš„ä¸¤ä¸ªå­—ç¬¦â€ddpï¼Œå¯è¢«ç”¨äºŽâ€œè°ƒæ¢å½“å‰è¡Œå’Œå®ƒçš„ä¸‹ä¸€è¡Œâ€ diw å‘½ä»¤ä¸ä»…åˆ é™¤äº†å•è¯ï¼Œè€Œä¸”è¿˜å°†å®ƒæ‹·è´åˆ°äº†æ— åå¯„å­˜å™¨ï¼ŒæŒ‰ Pæ—¶å¾—åˆ°çš„æ˜¯åˆšåˆšåˆ é™¤çš„å•è¯ï¼Œè€Œä¸æ˜¯ä¹‹å‰å¤åˆ¶çš„å•è¯ï¼Œç»™å‘½ä»¤åŠ  â€œ{register} å‰ç¼€çš„æ–¹å¼æŒ‡å®šè¦ç”¨çš„å¯„å­˜å™¨ï¼ŒVim å°†ç¼ºçœä½¿ç”¨æ—  åå¯„å­˜å™¨ã€‚â€ayiwå¤åˆ¶ï¼Œç”¨ â€œbddåˆ é™¤ï¼Œâ€apç²˜è´´ï¼Œå¯ä»¥è§£å†³æ— åå¯„å­˜å™¨çš„é—®é¢˜ï¼Œä½¿ç”¨å¤åˆ¶å¯„å­˜å™¨ä¹Ÿå¯ä»¥è§£å†³ï¼Œé»‘æ´žé›†è®­å™¨ä»Žåˆ é™¤æ–¹é¢ä¹Ÿå¯ä»¥è§£å†³ Vim çš„ delete å‘½ä»¤ä¹Ÿä¸Žæ ‡å‡†å‰ªåˆ‡æ“ä½œçš„ä½œç”¨ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥å‘½ä»¤ä¼šå…ˆæŠŠ æŒ‡å®šæ–‡æœ¬å¤åˆ¶åˆ°å¯„å­˜å™¨åŽå†ä»Žæ–‡æ¡£ä¸­åˆ æŽ‰ï¼Œå¼•ç”¨é»‘æ´žå¯„å­˜å™¨ï¼Œâ€_d{motion}ä¼šæ‰§è¡ŒçœŸæ­£çš„åˆ é™¤æ“ä½œã€‚ æ— åå¯„å­˜å™¨ï¼ˆâ€â€ï¼‰ï¼Œ â€œâ€pï¼Œå®ƒå®Œå…¨ç­‰åŒäºŽ på‘½ä»¤ï¼Œx å’Œ d{motion} ç»å¸¸è¢«å½“ä½œâ€œåˆ é™¤â€å‘½ ä»¤ã€‚è¿™å…¶å®žæ˜¯ç”¨è¯ä¸å½“ï¼ŒæŠŠå®ƒä»¬ç†è§£ä¸ºâ€œå‰ªåˆ‡â€å‘½ä»¤ä¼šæ›´åˆé€‚ å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ï¼ˆâ€0ï¼‰ä½¿ç”¨ y{motion} å‘½ä»¤æ—¶ï¼Œè¦å¤åˆ¶çš„æ–‡æœ¬ä¸ä»…ä¼šè¢«æ‹·è´åˆ°æ— åå¯„å­˜å™¨ä¸­ï¼Œè€Œä¸”ä¹Ÿè¢«æ‹·è´åˆ°äº†å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ä¸­ï¼Œå› ä¸ºä¸“ç”¨ï¼Œåªæœ‰ y èƒ½è§¦å‘ æ£€æŸ¥æ— åå¯„å­˜å™¨å’Œå¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨çš„å†…å®¹ï¼Œ:reg â€œ0 ï¼Œå°é—®é¢˜ç”¨å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ï¼Œå¦‚æžœç¢°åˆ°éœ€è¦å°†ä¸€æ®µæˆ–å¤šæ®µæ–‡æœ¬ç²˜è´´åˆ°å¤šå¤„çš„æƒ…å†µï¼Œæœ‰åå¯„å­˜å™¨å°±ä¼šå¤§æ˜¾ç¥žé€šã€‚ç”¨å°å†™å­—æ¯å¼•ç”¨æœ‰åå¯„å­˜å™¨ï¼Œä¼šè¦†ç›–è¯¥å¯„å­˜å™¨çš„åŽŸæœ‰å†…å®¹ï¼Œè€Œæ¢ç”¨å¤§å†™å­—æ¯çš„è¯ï¼Œåˆ™ä¼šå°†æ–°å†…å®¹æ·»åŠ åˆ°è¯¥å¯„å­˜å™¨çš„åŽŸæœ‰å†…å®¹ä¹‹åŽ å¦‚æžœæˆ‘ä»¬åœ¨å¤–éƒ¨ç¨‹åºä¸­ç”¨å‰ªåˆ‡æˆ–å¤åˆ¶å‘½ä»¤èŽ·å–äº†æ–‡æœ¬ï¼Œå°±å¯ä»¥é€šè¿‡ â€œ+p å‘½ä»¤ï¼ˆæˆ– åœ¨æ’å…¥æ¨¡å¼ä¸‹ç”¨ +ï¼‰å°†å…¶ç²˜è´´åˆ° Vim å†…éƒ¨ã€‚ç›¸ååœ°ï¼Œå¦‚æžœåœ¨ Vim çš„å¤åˆ¶æˆ–åˆ é™¤ å‘½ä»¤ä¹‹å‰åŠ å…¥ â€œ+ ï¼Œç›¸åº”çš„æ–‡æœ¬å°†è¢«æ•èŽ·è‡³ç³»ç»Ÿå‰ªè´´æ¿ã€‚â€œ+ X11 å‰ªè´´æ¿ï¼Œç”¨å‰ªåˆ‡ã€å¤åˆ¶ä¸Žç²˜è´´å‘½ä»¤æ“ä½œ â€œ X11 ä¸»å‰ªè´´æ¿ï¼Œç”¨é¼ æ ‡ä¸­é”®æ“ä½œæŠŠå®ƒä»¬ç²˜è´´å‡ºæ¥ï¼ŒWindowsä¸ŽMac OS Xæ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰ä¸»å‰ªè´´æ¿çš„æ¦‚å¿µï¼Œå› æ­¤ â€œ+ å¯„å­˜å™¨ä¸Ž â€œ å¯„ å­˜å™¨å¯ä»¥æ··ç”¨ï¼Œå®ƒä»¬éƒ½ä»£è¡¨ç³»ç»Ÿå‰ªè´´æ¿ã€‚ è¡¨è¾¾å¼å¯„å­˜å™¨ï¼ˆâ€=ï¼‰å½“æˆ‘ä»¬ä»Žè¡¨è¾¾å¼å¯„å­˜å™¨èŽ·å–å†…å®¹æ—¶ï¼ŒVim å°†è·³åˆ°å‘½ ä»¤è¡Œæ¨¡å¼ï¼Œå¹¶æ˜¾ç¤ºæç¤ºç¬¦â€œ=â€ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ä¸€æ®µ Vim è„šæœ¬è¡¨è¾¾å¼å¹¶æŒ‰ æ‰§è¡Œï¼Œå¦‚æžœè¿”å›žçš„æ˜¯å­—ç¬¦ä¸²ï¼ˆæˆ–è€…å¯è¢«å¼ºåˆ¶è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ•°æ®ï¼‰ï¼ŒVim å°†ä¼šä½¿ç”¨å®ƒ åªè¯»å¯„å­˜å™¨ â€œ% å½“å‰æ–‡ä»¶å â€œ# è½®æ¢æ–‡ä»¶å â€œ. ä¸Šæ¬¡æ’å…¥çš„æ–‡æœ¬ â€œ: ä¸Šæ¬¡æ‰§è¡Œçš„Exå‘½ä»¤ â€œ/ ä¸Šæ¬¡æŸ¥æ‰¾çš„æ¨¡å¼ åœ¨å¯è§†æ¨¡å¼ä¸‹ä½¿ç”¨ p å‘½ä»¤æ—¶ï¼ŒVim å°†ç”¨æˆ‘ä»¬æŒ‡å®šçš„å¯„å­˜å™¨å†…å®¹æ¥æ›¿æ¢é«˜äº®é€‰åŒºä¸­çš„æ–‡æœ¬ï¼Œå¯è§†å†æ¬¡è§£å†³äº†æ–‡æœ¬â€ä¸¢å¤±â€çŽ°è±¡ï¼Œæˆ‘ä»¬è¾“å…¥ u æ’¤é”€ä¸Šæ¬¡çš„ä¿®æ”¹ã€‚ç„¶åŽï¼ŒæŒ‰ gvé‡é€‰ä¸Šä¸€æ¬¡é«˜äº®é€‰åŒºçš„å†…å®¹ï¼Œå†æŒ‰ä¸€æ¬¡ pé”®ã€‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿæ˜¾ç„¶ä»€ä¹ˆä¹Ÿæ²¡å‘ç”Ÿï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ pæ—¶ï¼Œä¹‹æ‰€ä»¥æˆåŠŸï¼Œæ˜¯å› ä¸ºæ— åå¯„å­˜å™¨æ°å·§åŒ…å«äº†æˆ‘ä»¬æƒ³è¦çš„ æ–‡æœ¬ã€‚ä½†åœ¨ç¬¬äºŒæ¬¡ä½¿ç”¨ pæ—¶ï¼Œæ— åå¯„å­˜å™¨åŒ…å«çš„æ˜¯è¢«è¦†ç›–çš„å†…å®¹ï¼Œæ‰€ä»¥å¯æ˜¯æ¨¡å¼æ›¿æ¢å†…å®¹ä¹Ÿä¼šè¿›å…¥æ— åå¯„å­˜å™¨ åœ¨ Vim çš„å¯è§†æ¨¡å¼ä¸‹ä½¿ç”¨ på‘½ä»¤æ—¶ã€‚é¦–å…ˆï¼Œä»Žæ— åå¯„å­˜å™¨é‡Œå–å‡ºå†…å®¹ï¼Œç„¶åŽï¼ŒæŠŠé«˜äº®é€‰åŒºä¸­çš„å†…å®¹å­˜å…¥æ— åå¯„å­˜å™¨ã€‚ï¼ˆèŠ±é‡Œèƒ¡å“¨ï¼‰ c3wå‘½ä»¤åˆ é™¤â€œchips and fishâ€å¹¶é‡æ–°è¾“å…¥â€œfish and chipsâ€ï¼Œ åº”è¯¥ä¼šæ›´å¿«åœ°å®Œæˆä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œä»¥ä¸Šæ–¹æ³•å¯è¢«ç”¨äºŽäº¤æ¢æ›´é•¿çš„çŸ­è¯­ p å‘½ä»¤æ—¨åœ¨å°†å¯„å­˜å™¨ä¸­çš„æ–‡æœ¬ç²˜è´´åˆ°å…‰æ ‡ä¹‹åŽï¼ŒP å‘½ä»¤ç”¨äºŽå°†æ–‡æœ¬æ’å…¥åˆ°å…‰æ ‡ä¹‹å‰ï¼ŒpuP å’Œ Pupå‡ ä¹Žæˆäº†ä¸‹æ„è¯†åŠ¨ä½œã€‚å½“è¦ç²˜è´´çš„å†…å®¹æ¥è‡ªäºŽé¢å‘è¡Œçš„å¯„å­˜å™¨æ—¶ï¼Œp å’Œ P å‘½ä»¤ä¼šæŠŠå®ƒä»¬ç²˜è´´è‡³å½“å‰è¡Œçš„ ä¸Šä¸€è¡Œæˆ–ä¸‹ä¸€è¡Œã€‚è¿™ä¸€ç‚¹æ¯”é¢å‘å­—ç¬¦çš„è¡Œä¸ºæ›´ç›´è§‚ åœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ â€œ æ¥æ’å…¥æ— åå¯„å­˜å™¨çš„å†…å®¹ï¼Œæˆ–è€…è¾“å…¥ 0æ¥æ’å…¥å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨çš„å†…å®¹gpå’Œ gPå‘½ä»¤ä¹Ÿå€¼å¾—å…³æ³¨ï¼Œå®ƒä»¬ä¼šæŠŠå…‰æ ‡çš„ä½ç½®ç§»åˆ°è¢«ç²˜è´´å‡ºæ¥çš„æ–‡æœ¬ç»“å°¾è€Œä¸æ˜¯å¼€å¤´ã€‚ å½“å¤åˆ¶å¤šè¡Œæ–‡æœ¬æ—¶ï¼ŒgPå‘½ä»¤å°¤ä¸ºç®¡ç”¨ï¼ŒP å’Œ gP å‘½ä»¤åŒºåˆ« å¦‚æžœä½ è¿è¡Œçš„ Vim æ˜¯å·²é›†æˆç³»ç»Ÿå‰ªè´´æ¿çš„ç‰ˆæœ¬ï¼Œå°±å¯ä»¥å®Œå…¨é¿å…ä¸Žâ€™pasteâ€™ é€‰é¡¹æ‰“äº¤é“äº†ã€‚æ™®é€šæ¨¡å¼ä¸‹çš„ â€œ+p å‘½ä»¤ç”¨æ¥ç²˜è´´åŠ å·å¯„å­˜å™¨ä¸­çš„å†…å®¹ï¼Œå³ç³»ç»Ÿå‰ª è´´æ¿çš„é•œåƒã€‚ ç¬¬ 11ç«  å®]]></content>
      <categories>
        <category>Vim</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[servletå­¦ä¹ ing]]></title>
    <url>%2F2018%2F11%2Fservlet%2F</url>
    <content type="text"><![CDATA[httpåè®®ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®æ¦‚å¿µå’Œä½œç”¨ç‰¹ç‚¹ä½œç”¨ï¼šè§„èŒƒæµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ä¸ŽæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤äº’ ç‰¹ç‚¹ï¼šç®€å•ã€å¿«æ·ã€çµæ´»ã€æ— è¿žæŽ¥ï¼ˆhttp1.1åŽæ”¯æŒå¯æŒç»­è¿žæŽ¥ï¼‰ã€æ— çŠ¶æ€ï¼ˆæ²¡æœ‰è®°å¿†ï¼Œæ•°æ®é‡å¤§ï¼Œæ–°åº”ç­”å¿«é€Ÿï¼‰ äº¤äº’æµç¨‹ã€è¯·æ±‚æ ¼å¼ã€è¯·æ±‚æ–¹å¼äº¤äº’æµç¨‹ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å»ºç«‹è¿žæŽ¥å®¢æˆ·ç«¯æ³•å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯æœåŠ¡å™¨ç«¯æŽ¥æ”¶åˆ°è¯·æ±‚åŽè¿›è¡Œå¤„ç†ï¼Œç„¶åŽå°†å¤„ç†ç»“æžœç›¸åº”å®¢æˆ·ç«¯å…³é—­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„è¿žæŽ¥ï¼ˆHTTP1.1åŽä¸ä¼šç«‹å³å…³é—­ï¼‰è¯·æ±‚æ ¼å¼ï¼šç»“æž„ï¼šè¯·æ±‚å¤´ã€è¯·æ±‚è¡Œã€ç©ºè¡Œã€è¯·æ±‚æ•°æ®â€‹â€‹è¯·æ±‚æ–¹å¼ï¼ˆç»“æž„å¤§è‡´ä¸€æ ·ï¼Œæ–¹å¼å¯èƒ½ä¸åŒï¼‰ï¼šHTTP1.0ï¼šGETï¼ˆï¼ŸåŽæœ‰è¯·æ±‚æ•°æ®ï¼Œä¸å®‰å…¨ï¼‰ã€POSTã€HEADæ–¹æ³•HTTP1.1ï¼šOPTIONSã€PUTã€DELETEã€TRACEã€CONNECTæ–¹æ³•â€‹ å“åº”æ ¼å¼çš„ç»“æž„å’Œå¸¸è§çš„çŠ¶æ€ç å“åº”è¡Œï¼ˆçŠ¶æ€è¡Œï¼‰ï¼šHTTPç‰ˆæœ¬ã€çŠ¶æ€ç ã€çŠ¶æ€æ¶ˆæ¯å“åº”å¤´ï¼šæ¶ˆæ¯æŠ¥å¤´ã€å®¢æˆ·ç«¯ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ç©ºè¡Œï¼šå“åº”å¤´å’Œå“åº”å®žä½“ä¹‹é—´å¿…é¡»çš„å“åº”å®žä½“ï¼šæ­£æ–‡ï¼ŒæœåŠ¡å™¨è¿”å›žæµè§ˆå™¨çš„ä¿¡æ¯â€‹â€‹å¸¸è§çš„çŠ¶æ€ç ï¼ˆå‘Šè¯‰æµè§ˆå™¨ï¼‰ï¼šâ€‹â€‹ æœåŠ¡å™¨ï¼ˆä¸»æµæ˜¯Tomcatï¼‰ï¼šæœ¬è´¨ï¼šå®žé™…ä¸Šå°±æ˜¯javaç½‘ç»œç¼–ç¨‹ç”¨ä»£ç ç¼–å†™çš„ä¸€ä¸ªå®¹å™¨Tomcatç›®å½•ç»“æž„ï¼šâ€‹â€‹å› ä¸ºå«æœ‰classæ–‡ä»¶ï¼Œæ‰€ä»¥ä¸€å®šè¦ä¾é jdkï¼Œjavaè™šæ‹ŸçŽ¯å¢ƒ ServletæŠ€æœ¯ï¼šæ¦‚å¿µå’Œä»‹ç» ç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å¦‚æžœèƒ½å¤ŸæŒ‰ç…§æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«çš„è§„åˆ™è¿›è¡Œç¼–å†™ï¼Œæµè§ˆå™¨æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™è¿›è¡Œå‘é€è¯·æ±‚ï¼ˆæœåŠ¡å™¨è¯†åˆ«å°±ç±»ä¼¼äºŽJVMæ‰¾mainï¼ˆï¼‰æ–¹æ³•ä¼¼çš„ï¼Œæœ‰æŒ‡å®šçš„è§„åˆ™ï¼‰ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±å¯ä»¥è°ƒç”¨å¹¶æ‰§è¡Œå“åº”çš„é€»è¾‘ä»£ç è¿›è¡Œè¯·æ±‚å¤„ç†äº†ã€‚ â€‹â€‹ æœ¬è´¨ä¸Šå°±æ˜¯æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«çš„æŽ¥å£è§„èŒƒ1.åˆ›å»ºæ™®é€šçš„javaç±»å¹¶ç»§æ‰¿HttpServletæ–¹æ³•2.è¦†å†™serviceæ–¹æ³•3.åœ¨serviceæ–¹æ³•ä¸­ä¹¦å†™é€»è¾‘ä»£ç å°±è¡Œ4.åœ¨webRootä¸‹çš„WEB-INFæ–‡ä»¶å¤¹ä¸‹çš„web.xmlæ–‡ä»¶ä¸­é…ç½®servletï¼ˆç¡®ä¿èƒ½æ‰¾åˆ°ï¼‰çŽ°åœ¨å¾ˆå¤šIDEçŽ¯å¢ƒä¸éœ€è¦å°†classæ–‡ä»¶ç§»äº¤åˆ°ç›¸åº”çš„Tomcatä¸‹ è¿è¡Œï¼ˆè®¿é—®ï¼‰æµç¨‹ï¼šURL: http://localhost:8080/01.MyServlet/my2ç»„æˆï¼šæœåŠ¡å™¨åœ°å€ï¼šç«¯å£å·/æœåŠ¡å™¨ä¸‹webappsä¸‹çš„æ–‡ä»¶å¤¹çš„åç§°ï¼ˆè™šæ‹Ÿé¡¹ç›®åï¼‰/ï¼ˆservletçš„åˆ«åï¼‰è¦æ‰§è¡Œçš„servletçš„url-patternï¼ˆå› ä¸ºé˜²æ­¢åŒ…åç±»åè¢«é»‘å®¢åˆ©ç”¨ï¼Œéœ€æœ‰ä¸€å®šçš„éšè—ï¼Œæ‰€ä»¥é‡‡ç”¨url-patternçš„è§„åˆ™ï¼‰ URIï¼šè™šæ‹Ÿé¡¹ç›®å/ servletçš„åˆ«å123456789&lt;servlet&gt; &lt;servlet-name&gt;my2&lt;/servlet-name&gt; &lt;servlet-class&gt;com.bjsxt.servlet.MyServlet2&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;my2&lt;/servlet-name&gt; &lt;url-pattern&gt;/my2&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; ç›¸å½“äºŽèµ·ä¸€ä¸ªåˆ«åï¼Œé€šè¿‡web.xmlä¸‹æ‰¾åˆ°my2ï¼Œå†æ‰¾åˆ°åŒ…ç±»åï¼Œæ‰¾ä¸åˆ°åˆ™404ï¼ˆmy2ç›¸å½“äºŽæš—å·ï¼‰æœåŠ¡å™¨ä¼šåŠ è½½ä¸€ä¸‹æœ¬åœ°çš„æ–‡ä»¶ï¼Œåˆ é™¤æ–‡ä»¶å¹¶å…³é—­æœåŠ¡å™¨å†æ‰“å¼€ä¼šæç¤ºæŠ¥é”™ä¿¡æ¯ Servletç”Ÿå‘½å‘¨æœŸï¼š1.ç¬¬ä¸€æ¬¡è°ƒç”¨åˆ°æœåŠ¡å™¨å…³é—­2.å¦‚æžœservletåœ¨web.xmlä¸­é…ç½®äº†load-on-startupä¹‹é—´çš„æ•°å­—è¡¨ç¤ºé¡ºåºï¼Œç”Ÿå‘½å‘¨æœŸä¸ºä»ŽæœåŠ¡å™¨å¯åŠ¨åˆ°æœåŠ¡å™¨å…³é—­3.æ³¨æ„ï¼šInitæ–¹æ³•æ˜¯å¯¹servletè¿›è¡Œåˆå§‹åŒ–çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¼šåœ¨servletç¬¬ä¸€æ¬¡åŠ è½½è¿›è¡Œå­˜å‚¨æ—¶è¿›è¡ŒDestroyæ–¹æ³•æ˜¯åœ¨servleté”€æ¯æ—¶æ‰§è¡Œ Jspä¸­çš„è¡¨å•æ•°æ®ï¼šâ€‹â€‹ Serviceå’ŒdoGetå’ŒdoPostæ–¹æ³•çš„åŒºåˆ«ï¼š Serviceæ–¹æ³•:å¯ä»¥å¤„ç†getã€postæ–¹å¼çš„è¯·æ±‚ï¼Œå¦‚æžœservletä¸­åŒ…å«serviceæ–¹æ³•ï¼Œä¼˜å…ˆè°ƒç”¨serviceæ–¹æ³•å¯¹è¯·æ±‚è¿›è¡Œå¤„ç† doGetæ–¹æ³•:å¤„ç†getæ–¹å¼çš„è¯·æ±‚ doPostæ–¹æ³•:å¤„ç†postæ–¹å¼çš„è¯·æ±‚æ³¨æ„ï¼šå¦‚æžœåœ¨è¦†å†™çš„serviceæ–¹æ³•ä¸­è°ƒç”¨äº†çˆ¶ç±»çš„serviceæ–¹æ³•ï¼ˆsuper.serviceï¼ˆarg0,arg1ï¼‰ï¼‰,åˆ™serviceæ–¹æ³•å¤„ç†åŽï¼Œä¼šå†æ¬¡æ ¹æ®è¯·æ±‚æ–¹å¼å“åº”çš„doGetå’ŒdoPostæ–¹æ³•æ‰§è¡Œã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸åœ¨serviceä¸­è°ƒç”¨çˆ¶ç±»çš„serviceæ–¹æ³•ï¼Œé¿å…å‡ºçŽ°405é”™è¯¯ Servletå¸¸è§é”™è¯¯ï¼š404é”™è¯¯ï¼šèµ„æºæœªæ‰¾åˆ°åœ¨è¯·æ±‚åœ°å€ä¸­çš„servletçš„åˆ«åä¹¦å†™é”™è¯¯è™šæ‹Ÿé¡¹ç›®åç§°æ‹¼å†™é”™è¯¯500é”™è¯¯ï¼šä¸å¯é¢„ä¼°çš„é”™è¯¯åœ¨web.xmlä¸­æ ¡éªŒservletç±»çš„å…¨é™å®šè·¯å¾„æ˜¯å¦æ‹¼å†™é”™è¯¯ã€‚serviceæ–¹æ³•ä½“çš„ä»£ç æ‰§è¡Œé”™è¯¯æ‰€è‡´ï¼Œæ ¹æ®é”™è¯¯æç¤ºå¯¹serviceæ–¹æ³•ä½“ä¸­çš„ä»£ç è¿›è¡Œæ›´æ”¹405é”™è¯¯ï¼šè¯·æ±‚æ–¹å¼ä¸æ”¯æŒè¯·æ±‚æ–¹å¼å’Œservletä¸­çš„æ–¹æ³•ä¸åŒ¹é…æ‰€å¯¼è‡´çš„ï¼Œå°½é‡ä½¿ç”¨serviceæ–¹æ³•è¿›è¡Œè¯·æ±‚å¤„ç†ï¼Œå¹¶ä¸”ä¸è¦åœ¨serviceæ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„serviceã€‚ Requestå¯¹è±¡ï¼šä»‹ç»å’ŒèŽ·å–è¯·æ±‚å¤´ä¿¡æ¯ æœåŠ¡å™¨æŽ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚åŽï¼Œä¼šåˆ›å»ºä¸€ä¸ªrequestå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å­˜å‚¨äº†æ­¤æ¬¡è¯·æ±‚ç›¸å…³çš„è¯·æ±‚æ•°æ®ã€‚æœåŠ¡å™¨åœ¨è°ƒç”¨servletæ—¶ä¼šå°†åˆ›å»ºå¥½çš„requestå¯¹è±¡ä½œä¸ºå®žå‚ä¼ é€’ç»™servletçš„æ–¹æ³•ï¼Œæ¯”å¦‚serviceæ–¹æ³•ã€‚ ä½¿ç”¨ï¼šèŽ·å–è¯·æ±‚å¤´æ•°æ®ã€è¯·æ±‚è¡Œæ•°æ®ã€ç”¨æˆ·æ•°æ®ä½œç”¨ï¼šrequestå¯¹è±¡ä¸­å°å­˜äº†å½“å‰è¯·æ±‚çš„å¤šæœ‰è¯·æ±‚ä¿¡æ¯æ³¨æ„ï¼šrequestå¯¹è±¡ç”±TomcatæœåŠ¡å™¨åˆ›å»ºï¼Œå¹¶ä½œä¸ºå®žå‚ä¼ é€’ç»™å¤„ç†è¯·æ±‚çš„servletçš„serviceæ–¹æ³• Serviceä¸­çš„å½¢å‚ä»¥reqä¸ºä¾‹å­ èŽ·å–è¯·æ±‚å¤´æ•°æ®ï¼šèŽ·å–è¯·æ±‚æ–¹å¼12String method = req.getMethod();Sout(method); èŽ·å–è¯·æ±‚URL12StringBuffer url = req.getRequestURL()l;Sout(url); èŽ·å–URI12String uri = req.getRequestURI();Sout(uri); èŽ·å–åè®®12String h = req.getScheme();Sout(h); èŽ·å–è¯·æ±‚è¡Œæ•°æ®;èŽ·å–æŒ‡å®šçš„è¯·æ±‚è¡Œä¿¡æ¯1String value = req.getHeader(â€œUser-Agentâ€);//æ ¹æ®F12æµè§ˆå™¨ç«¯æ‰¾åˆ°çš„é”®å€¼ï¼ŒåŠ å…¥æƒ³è¦èŽ·å–666ä½†æ˜¯ä½ æ²¡æœ‰ï¼Œé‚£ä¹ˆä½ åœ¨æŽ§åˆ¶å°åŽæ”¶åˆ°null èŽ·å–æ‰€æœ‰çš„è¯·æ±‚è¡Œçš„é”®çš„æžšä¸¾12Enumeration e = req.getHeaderNames();while(e.hasMoreElements())&#123; èŽ·å–æ‰€æœ‰é”®å€¼1sout(e.nextElement()); èŽ·å–æ‰€æœ‰ä¿¡æ¯123String name = (String)e. nextElement();String value2= req.getHeader(name);Sout(name+â€:â€+value2); èŽ·å–ç”¨æˆ·æ•°æ®ï¼šreq.getParameter(â€œé”®åâ€);(è¿”å›žæŒ‡å®šçš„ç”¨æˆ·æ•°æ®ï¼Œä¸èƒ½èŽ·å¾—åŒé”®ä¸åŒå€¼çš„å¤šé¡¹é€‰æ‹©æ•°æ®ï¼Œä¼šæ¼å€¼)â€‹â€‹ é¿å…æ¼å€¼â€‹â€‹12req.getParameterValue(â€œé”®åâ€);(è¿”å›žåŒé”®ä¸åŒå€¼çš„è¯·æ±‚æ•°æ®ï¼ˆå¤šé€‰ï¼‰ï¼Œè¿”å›žæ•°ç»„)req.getParameterNames(â€œé”®åâ€);(è¿”å›žæ‰€æœ‰è¯·æ±‚æ•°æ®çš„æžšä¸¾é›†åˆ) æ³¨æ„ï¼šå¦‚è¿‡è¦èŽ·å–çš„è¯·æ±‚æ•°æ®ä¸å­˜åœ¨ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè¿”å›žnullã€‚ requestå¯¹è±¡å­¦ä¹ é—®é¢˜ï¼šåœ¨ä½¿ç”¨requestå¯¹è±¡èŽ·å–è¯·æ±‚æ•°æ®å¹¶è¿›è¡Œå¤„ç†åŽï¼Œå¤„ç†çš„ç»“æžœå¦‚ä½•æ˜¾ç¤ºåˆ°æµè§ˆå™¨ä¸­ï¼Ÿæ€»ç»“ï¼šServiceè¯·æ±‚å¤„ç†ä»£ç æµç¨‹ï¼šè®¾ç½®å“åº”ç¼–ç æ ¼å¼ã€èŽ·å–è¯·æ±‚æ•°æ®ã€å¤„ç†è¯·æ±‚æ•°æ®ã€æ•°æ®åº“æ“ä½œï¼ˆMVCæ€æƒ³ï¼‰ã€å“åº”å¤„ç†ç»“æžœå“åº”å®žä½“é‡Œé¢å¯ä»¥è®¾ç½®å…·ä½“çš„htmlä»£ç ï¼ˆæ— JSPçš„éº»çƒ¦ä¹‹å¤„ï¼‰ä¹±ç é—®é¢˜ï¼šè®°å¾—æœåŠ¡å™¨åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨åˆ°æœåŠ¡å™¨ä¸¤ä¸ªåŠæµç¨‹ä¸­çš„ç¼–ç è§„èŒƒé—®é¢˜servletæµç¨‹æ€»ç»“ï¼š Requestä½œç”¨åŸŸé—®é¢˜ï¼šä½¿ç”¨è¯·æ±‚è½¬å‘åŽï¼Œä¸åŒçš„servletä¹‹é—´æ€Žä¹ˆè¿›è¡Œæ•°æ®å…±äº«å‘¢ï¼Ÿæˆ–è€…è¯´æ•°æ®æ€Žä¹ˆä»Žä¸€ä¸ªservletæµè½¬ç»™å¦å¤–ä¸€ä¸ªservletå‘¢ï¼Ÿè§£å†³ï¼šä½¿ç”¨requestå¯¹è±¡çš„ä½œç”¨åŸŸ è¯·æ±‚è½¬å‘ï¼šé—®é¢˜ï¼šæœåŠ¡å™¨åœ¨æŽ¥æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚åŽï¼Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªservletè¿›è¡Œè¯·æ±‚å¤„ç†ï¼Œä¼šé€ æˆä¸åŒçš„servleté€»è¾‘ä»£ç å†—ä½™ï¼Œservletçš„èŒè´£ä¸æ˜Žç¡®è§£å†³ï¼šä½¿ç”¨è¯·æ±‚è½¬å‘ç‰¹ç‚¹ï¼šä¸€æ¬¡è¯·æ±‚ã€åœ°å€æ ä¿¡æ¯ä¸æ”¹å˜ é‡å®šå‘å­¦ä¹ é—®é¢˜ï¼šå¦‚æžœå½“å‰çš„è¯·æ±‚servletæ— æ³•å¤„ç†æ€Žä¹ˆåŠžï¼Ÿå¦‚æžœä½¿ç”¨è¯·æ±‚è½¬å‘ï¼Œé€ æˆè¡¨å•æ•°æ®é‡å¤æäº¤æ€Žä¹ˆåŠžï¼Ÿè§£å†³ï¼šä½¿ç”¨é‡å®šå‘ Cookieå­¦ä¹ Cookieä»‹ç»ã€ä½¿ç”¨ã€è®¾ç½®æœ‰æ•ˆæœŸã€ä¿¡æ¯èŽ·å– Cookieä¸‰å¤©å…ç™»å½• sessionå­¦ä¹ sessionä»‹ç»åŠåŽŸç†é—®é¢˜ï¼šrequestå¯¹è±¡è§£å†³äº†ä¸€æ¬¡è¯·æ±‚å†…çš„ä¸åŒservletçš„æ•°æ®å…±äº«é—®é¢˜ï¼Œé‚£ä¹ˆä¸€ä¸ªç”¨æˆ·çš„ä¸åŒè¯·æ±‚çš„å¤„ç†éœ€è¦ä½¿ç”¨ç›¸åŒçš„æ•°æ®æ€Žä¹ˆåŠžå‘¢ï¼Ÿè§£å†³ï¼šä½¿ç”¨sessionæŠ€æœ¯åŽŸç†ï¼šç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨æŽ¥æ”¶åˆ°è¯·æ±‚åŽï¼Œè°ƒç”¨å“åº”çš„servletè¿›è¡Œå¤„ç†ã€‚åœ¨å¤„ç†è¿‡ç¨‹ä¸­ä¼šç»™ç”¨æˆ·åˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡ï¼Œç”¨æ¥å­˜å‚¨ç”¨æˆ·è¯·æ±‚å¤„ç†ç›¸å…³çš„å…¬å…±æ•°æ®ï¼Œå¹¶å°†æ­¤sessionå¯¹è±¡çš„JSESSIONIDä»¥cookieçš„å½¢å¼å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼ˆä¸´æ—¶å­˜å‚¨ï¼Œæµè§ˆå™¨å…³é—­å³å¤±æ•ˆï¼‰ã€‚ç”¨æˆ·åœ¨å‘èµ·ç¬¬äºŒæ¬¡è¯·æ±‚åŠåŽç»­è¯·æ±‚èƒ½å¤ŸèŽ·å–åŒä¸€ä¸ªsessionå¯¹è±¡ï¼Œä¹Ÿä¿è¯äº†ä¸åŒè¯·æ±‚èƒ½å¤ŸèŽ·å–åˆ°å…±äº«çš„æ•°æ®ã€‚ sessionç‰¹ç‚¹åŠä½¿ç”¨ç‰¹ç‚¹ï¼šå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ã€æœåŠ¡å™¨è¿›è¡Œåˆ›å»ºã€ä¾èµ–cookieæŠ€æœ¯ã€ä¸€æ¬¡ä¼šè¯ä½œç”¨ï¼šè§£å†³äº†ä¸€ä¸ªç”¨æˆ·ä¸åŒè¯·æ±‚çš„æ•°æ®å…±äº«é—®é¢˜ä½¿ç”¨ï¼š åˆ›å»ºsessionå¯¹è±¡/èŽ·å–sessionå¯¹è±¡ è®¾ç½®sessionå­˜å‚¨æ—¶é—´ï¼ˆä¸€èˆ¬ä¸º30åˆ†é’Ÿï¼‰ è®¾ç½®sessionå¼ºåˆ¶å¤±æ•ˆhs.invalidate(); æ³¨æ„JSESSIONIDä»¥cookieçš„å½¢å¼å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼ˆä¸´æ—¶å­˜å‚¨ï¼Œæµè§ˆå™¨å…³é—­å³å¤±æ•ˆï¼‰ sessionæ•°æ®æµè½¬å’Œæ€»ç»“å­˜å‚¨å’ŒèŽ·å–æ•°æ®ä½¿ç”¨æ—¶æœºï¼šä¸€èˆ¬ç”¨æˆ·åœ¨ç™»å½•webé¡¹ç›®æ—¶ä¼šå°†ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯å­˜å‚¨åˆ°sessionä¸­ï¼Œä¾›è¯¥ç”¨æˆ·çš„å…¶ä»–è¯·æ±‚ä½¿ç”¨æ€»ç»“ï¼šsessionè§£å†³äº†æœ‰ä¸ªç”¨æˆ·çš„ä¸åŒè¯·æ±‚çš„æ•°æ®å…±äº«é—®é¢˜ï¼Œåªè¦åœ¨JSESSIONIDä¸å¤±æ•ˆå’Œsessionå¯¹è±¡ä¸å¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„ä»»æ„è¯·æ±‚åœ¨å¤„ç†æ—¶éƒ½èƒ½èŽ·å–åˆ°åŒä¸€ä¸ªsessionå¯¹è±¡ã€‚ä½œç”¨åŸŸï¼šä¸€æ¬¡ä¼šè¯ï¼ˆåœ¨JSESSIONIDä¸å¤±æ•ˆå’Œsessionå¯¹è±¡ä¸å¤±æ•ˆçš„æƒ…å†µä¸‹ä¸ºæ•´ä¸ªé¡¹ç›®å†…ï¼‰sessionå¤±æ•ˆå¤„ç†ï¼šå°†ç”¨æˆ·è¯·æ±‚ä¸­çš„JSESSIONIDå’ŒåŽå°èŽ·å–åˆ°çš„sessionå¯¹è±¡JSESSIONIDè¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æžœä¸€è‡´åˆ™sessionæ²¡æœ‰å¤±æ•ˆï¼Œå¦åˆ™è¯æ˜Žsessionå¤±æ•ˆäº†ã€‚é‡å®šå‘åˆ°ç™»å½•ç•Œé¢ï¼Œè®©ç”¨æˆ·é‡æ–°ç™»å½•ã€‚ è§£å†³ä¸»é¡µé¢ç”¨æˆ·åæ˜¾ç¤ºä¸ºnullçš„é—®é¢˜åŽŸå› ï¼šå› ä¸ºåœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåŽä½¿ç”¨é‡å®šå‘æ˜¾ç¤ºä¸»é¡µé¢ï¼Œä¸¤æ¬¡è¯·æ±‚ï¼Œè€Œç”¨æˆ·çš„ä¿¡æ¯åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸­ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚ä¸­æ²¡æœ‰ç”¨æˆ·æ•°æ®ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸ºnullè§£å†³ï¼šä½¿ç”¨session ServletContextå¯¹è±¡å­¦ä¹ é—®é¢˜ï¼šrequestè§£å†³äº†ä¸€æ¬¡è¯·æ±‚å†…çš„æ•°æ®å…±äº«é—®é¢˜ï¼Œsessionè§£å†³äº†ç”¨æˆ·ä¸åŒè¯·æ±‚çš„æ•°æ®å…±äº«é—®é¢˜ï¼Œé‚£ä¹ˆä¸åŒçš„ç”¨æˆ·çš„æ•°æ®å…±äº«è¯¥æ€Žä¹ˆåŠžå‘¢ï¼Ÿè§£å†³ï¼šä½¿ç”¨ServletContextå¯¹è±¡ä½œç”¨ï¼šè§£å†³äº†ä¸åŒç”¨æˆ·çš„æ•°æ®å…±äº«é—®é¢˜åŽŸç†ï¼šServletContextå¯¹è±¡ç”±æœåŠ¡å™¨è¿›è¡Œåˆ›å»ºï¼Œä¸€ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ªå¯¹è±¡ã€‚ä¸ç®¡åœ¨é¡¹ç›®çš„ä»»æ„ä½ç½®è¿›è¡ŒèŽ·å–å¾—åˆ°çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¸åŒç”¨æˆ·å‘èµ·è¯·æ±‚èŽ·å–åˆ°çš„ä¹Ÿå°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ï¼Œè¯¥å¯¹è±¡ç”±ç”¨æˆ·å…±åŒæ‹¥æœ‰ç‰¹ç‚¹ï¼šæœåŠ¡å™¨åˆ›å»ºã€ç”¨æˆ·å…±äº«ã€ä¸€ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼šæœåŠ¡å™¨å¯åŠ¨åˆ°å…³é—­ä½œç”¨åŸŸï¼šé¡¹ç›®å†…ä½¿ç”¨ï¼šèŽ·å–ServletContextå¯¹è±¡/ä½¿ç”¨ServletContextå¯¹è±¡å®Œæˆæ•°æ®å…±äº«èŽ·å–é¡¹ç›®ä¸­web.xmlæ–‡ä»¶ä¸­çš„å…¨å±€é…ç½®æ•°æ®èŽ·å–é¡¹ç›®webrootä¸‹çš„èµ„æºçš„ç»å¯¹è·¯å¾„/æµå¯¹è±¡ä½¿ç”¨ServletContextå¯¹è±¡å®Œæˆç½‘é¡µè®¡æ•°å™¨åœ¨ç”¨æˆ·ç™»å½•æ ¡éªŒä¸­åˆ›å»ºè®¡æ•°å™¨å¹¶è‡ªå¢žï¼Œç„¶åŽå­˜å‚¨åˆ°ServletContextå¯¹è±¡ä¸­ï¼Œåœ¨ä¸»é¡µé¢ä¸­å–å‡ºè®¡æ•°å™¨æ•°æ®å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·å³å¯ ServletConfigå¯¹è±¡é—®é¢˜ï¼šä½¿ç”¨ServletConfigå¯¹è±¡å¯ä»¥èŽ·å–web.xmlä¸­çš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œåœ¨web.xmlä¸­æ¯ä¸ªservletä¹Ÿå¯ä»¥è¿›è¡Œå•ç‹¬çš„é…ç½®ï¼Œé‚£ä¹ˆè¯¥æ€Žä¹ˆèŽ·å–é…ç½®ä¿¡æ¯å‘¢ï¼Ÿè§£å†³ï¼šä½¿ç”¨ServletConfigå¯¹è±¡ä½œç”¨ï¼šServletConfigå¯¹è±¡æ˜¯servletçš„ä¸“å±žé…ç½®å¯¹è±¡ï¼Œæ¯ä¸ªservletéƒ½å•ç‹¬æ‹¥æœ‰ä¸€ä¸ªServletConfigå¯¹è±¡ç”¨æ¥èŽ·å–web.xmlä¸­çš„é…ç½®ä¿¡æ¯ä½¿ç”¨ï¼š web.xmlæ–‡ä»¶ä½œç”¨ï¼šå­˜å‚¨é¡¹ç›®ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œä¿æŠ¤servletã€‚è§£è€¦ä¸€äº›æ•°æ®å¯¹ç¨‹åºçš„ä¾èµ–ä½¿ç”¨ä½ç½®ï¼šæ¯ä¸ªwebé¡¹ç›®ä¸­ã€tomcatæœåŠ¡å™¨ä¸­ï¼ˆåœ¨æœåŠ¡å™¨ç›®å½•confç›®å½•ä¸­ï¼‰åŒºåˆ«ï¼šwebé¡¹ç›®ä¸‹çš„web.xmlæ–‡ä»¶ä¸ºå±€éƒ¨é…ç½®ï¼Œé’ˆå¯¹æœ¬é¡¹ç›®çš„ä½ç½®tomcatä¸‹çš„web.xmlæ–‡ä»¶ä¸ºå…¨å±€é…ç½®ï¼Œé…ç½®å…¬å…±ä¿¡æ¯å†…å®¹ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰ï¼šå…¨å±€ä¸Šä¸‹æ–‡é…ç½®ï¼ˆå…¨å±€é…ç½®å‚æ•°ï¼‰ã€servleté…ç½®ã€è¿‡æ»¤å™¨é…ç½®ã€ç›‘å¬å™¨é…ç½®åŠ è½½é¡ºåºï¼šwebå®¹å™¨ä¼šæŒ‰ç…§ServletContext-&gt;context-param-&gt;listener-&gt;filter-&gt;servletè¿™ä¸ªé¡ºåºåŠ è½½ç»„ä»¶ï¼Œè¿™äº›å…ƒç´ å¯é…ç½®åœ¨web.xmlä¸­çš„ä»»æ„ä½ç½®åŠ è½½æ—¶æœºï¼šæœåŠ¡å™¨å¯åŠ¨æ—¶ server.xmlæ–‡ä»¶é—®é¢˜ï¼šæµè§ˆå™¨å‘èµ·è¯·æ±‚åŽæœåŠ¡å™¨æ ¹æ®è¯·æ±‚åœ¨webappsç›®å½•ä¸‹è°ƒç”¨å¯¹åº”çš„servletè¿›è¡Œè¯·æ±‚å¤„ç†ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæ˜¯webappsç›®å½•è€Œä¸æ˜¯å…¶ä»–çš„ç›®å½•å‘¢ï¼Ÿè§£å†³ï¼šäº†è§£server.xmlæ–‡ä»¶çš„é…ç½®ä¿¡æ¯server.xmlæ–‡ä»¶æ ¸å¿ƒç»„ä»¶ï¼šçƒ­éƒ¨ç½²ï¼š1&lt;Context path=&quot;/Pet&quot; reloadable=&quot;false&quot; docBase=&quot;F:/PetWeb&quot; /&gt; å‚è€ƒé“¾æŽ¥ï¼šBç«™èœé¸Ÿæ•™ç¨‹]]></content>
      <categories>
        <category>Java</category>
        <category>servlet</category>
      </categories>
      <tags>
        <tag>servlet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†™åœ¨å‰é¢]]></title>
    <url>%2F2018%2F08%2Ffirst_hexo%2F</url>
    <content type="text"><![CDATA[ä½ ä¸èƒ½ä¸€ç›´åšä¸€äº›çƒ‚äº‹ï¼Œç„¶åŽè‡ªå·±åŽæ‚”ï¼Œå¥½åƒåŽæ‚”æœ‰ç”¨ä¸€æ ·ï¼Œä½ éœ€è¦å˜å¥½ æƒ³æ³• 2017ç»™äº†æˆ‘å¾ˆå¤šæœ€æœ€ç¾Žå¥½çš„ç»åŽ†ï¼Œç›®å‰å¯¹æˆ‘æœ€é‡è¦çš„å¹´ä»½æ˜¯è¿™ä¸€å¹´,å¸Œæœ›èƒ½ç»§å¾€å¼€æ¥å¸Œæœ›è‡ªå·±èƒ½å¤šç»™è‡ªå·±ä¸€äº›æƒŠå–œï¼Œå°‘ç®¡äº›é—²äº‹ï¼Œç´¯äº†å°±ä¼‘æ¯ï¼Œå†ä¹Ÿä¸å¤±çœ å¸Œæœ›è‡ªå·±èƒ½è·Ÿç€å¤§ä½¬å­¦ç‚¹ä¸œè¥¿ï¼Œä¸è¦åˆ«äººä¸€å¼ å˜´ä½ å°±ä¸€å¤´é›¾æ°´ã€ä¸€è„¸å°´å°¬å¤šçœ‹ç‚¹ä¹¦ï¼Œå­¦ç‚¹ä¸œè¥¿ï¼Œç„¶åŽå†™ä¸€äº›å¯¹è‡ªå·±æœ‰ç”¨çš„åšæ–‡ ä½ è¦æ˜¯æ— èŠï¼Œå®ƒå¯ä»¥è®©ä½ å­¦ä¸åŠ¨ï¼Œç»™ä½ çœäº†æ—¶é—´å’Œé‡‘é’± è®¡ç®—æœºç›¸å…³æŠ€æœ¯èµ„æ–™æ•´ç† https://github.com/EZLippi/practical-programming-books ç¼–ç¨‹ä¹¦ç±çš„æ•´ç†å’Œæ”¶é›† https://github.com/KeKe-Li/book java çš„ä¹¦å¤šä¸€äº› https://github.com/huangbaoquan/books çŽ°åœ¨æ²¡å¤ªå¤šæ—¶é—´è¯»ä¹¦ï¼Œä½†å¯ä»¥æ•´ç†ä¸€ä¸‹ï¼Œå¤§å®¶æœ‰å¥½çš„é“¾æŽ¥ä¸å¦¨æŽ¨èä¸€ä¸‹æ”¾åœ¨è¿™ä¸ªåšå®¢ä¸­ï¼Œæ–¹ä¾¿ä»¥åŽæœ‰æ—¶é—´é˜…è¯»å¯„è¯­ï¼ˆé¸¡æ±¤ï¼‰æ²¡æœ‰ä¸å¯æ²»æ„ˆçš„ä¼¤ç—›ï¼Œæ²¡æœ‰ä¸èƒ½ç»“æŸçš„æ²‰æ²¦ï¼Œæ‰€æœ‰å¤±åŽ»çš„ï¼Œéƒ½ä¼šä»¥å¦ä¸€ç§æ–¹å¼å½’æ¥äººç”Ÿäº¦å¦‚é€†æ—…ï¼Œä¸€åˆ‡ç¾Žå¥½ä¸Žæ¸©æš–æ²‰é»˜å¦‚å½±ï¼Œé™ç«‹ä½ çš„èº«åŽï¼Œä¸ä¼šè¿Žå¤´é‡è§ï¼Œåªè¦ä½ ä¸æ–­èµ°å‘è¿œæ–¹ï¼Œå®ƒä¾¿ä¸€è·¯ç›¸éš]]></content>
      <categories>
        <category>Life</category>
      </categories>
      <tags>
        <tag>Life</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo+nexTä¸­çš„å…¶ä»–å†…å®¹]]></title>
    <url>%2F2018%2F08%2Fhexo%2BnexT%2Bsomething%2F</url>
    <content type="text"><![CDATA[å»ºè®®ç›´æŽ¥çœ‹æœ€æ ¹æœ¬çš„ä¸œè¥¿ é™äºŽæœ¬äººè‹±è¯­æ°´å¹³æœ‰é™ï¼Œå»ºè®®å¤§å®¶ç›´æŽ¥åˆ°githubä¸Šé˜…è¯»ç›¸åº”çš„ä»“åº“èŽ·å–æœ€æ–°çŸ¥è¯†ï¼Œè¿™æ ·èƒ½é¿å…å¾ˆå¤šé”™è¯¯ï¼Œä¹Ÿä¸ä¼šè¢«ç½‘ä¸Šå¾ˆå¤šå·²ç»è¿‡æ—¶çš„ä¸œè¥¿å½±å“ã€‚æœ¬äººçš„ç‰ˆæœ¬ï¼š Theme versionversion: 5.1.4 hexo ç‰ˆæœ¬ ä¸œæ‹¼è¥¿å‡‘çš„ä¸œè¥¿æ¯æ¬¡è¾“å…¥éƒ½éœ€è¦é‡æ–°è¾“å…¥githubå¸å·å’Œå¯†ç ï¼Ÿå‚è€ƒè®¾ç½® SSH ä½¿ç”¨ hexo deploy æ—¶å…è¾“ç”¨æˆ·åå¯†ç è®¾ç½®å¥½çš„çŠ¶æ€ï¼š ç‰ˆæƒå£°æ˜Žä¹‹å‰çš„ç‰ˆæœ¬å£°æ˜Žæˆ‘è§‰å¾—æœ‰ç‚¹ä¸‘ï¼Œé™¤äº†æœ‰æœ€æ–°æ›´æ–°æ—¶é—´æ²¡æœ‰åˆ«çš„å¥½å¤„ï¼Œè€Œä¸”é‚£äº›å£°æ˜Žæ˜Žæ˜¾è½åŽäºŽçŽ°åœ¨ç‰ˆæœ¬æ›´æ–°çš„é€Ÿåº¦ï¼Œå»ºè®®ä½¿ç”¨æ–°ç‰ˆæœ¬é‡Œé¢çš„ç®€æ´å£°æ˜Ž æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰¾åˆ°post_copyright1234post_copyright: enable: true #å°†falseæ”¹æˆtrue license: CC BY-NC-SA 3.0 license_url: https://creativecommons.org/licenses/by-nc-sa/3.0/ è®¾ç½®gitmentè¯„è®ºç³»ç»Ÿå°è¯•è¿‡valineè¯„è®ºï¼Œä½†æ˜¯å†³å®šä½œä¸ºç¨‹åºå‘˜è¿˜æ˜¯ä½¿ç”¨gitmentæ¯”è¾ƒå¥½ æœ€æ–°ç‰ˆé‡Œé¢ä¸éœ€è¦æ·»åŠ é…ç½®æ–‡ä»¶åªéœ€è¦æœ‰appå³å¯æ“ä½œå¦‚ä¸‹ï¼š æ³¨å†ŒOAuth Applicationç‚¹å‡»https://github.com/settings/applications/newæ³¨å†Œå‚æ•°è¯´æ˜Žï¼š1234Application nameï¼š #åº”ç”¨åç§°Homepage URLï¼š #ç½‘ç«™URLApplication description #æè¿°Authorization callback URLï¼š#ç½‘ç«™URL ä¿®æ”¹themes/next/_config.ymlåœ¨å…¶ä¸­æ·»åŠ ï¼š12345678910111213141516# Gitment# Introduction: https://imsun.net/posts/gitment-introduction/# You can get your Github ID from https://api.github.com/users/&lt;Github username&gt;gitment: enable: true mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide &apos;Powered by ...&apos; on footer, and more language: ä¸æ·»åŠ åˆ™è·Ÿéšé»˜è®¤è¯­è¨€# Force language, or auto switch by themeè·Ÿéšé»˜è®¤è¯­è¨€ github_user: Githubå # MUST HAVE, Your Github ID github_repo: .github.ioçš„ä»“åº“ # MUST HAVE, The repo you use to store Gitment comments client_id: App id # MUST HAVE, Github client id for the Gitment client_secret: App secret # EITHER this or proxy_gateway, Github access secret token for the Gitment proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled é“¾æŽ¥æ¶ˆé™¤æ±‰è¯­åœ¨æ–‡ç« é‡ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µä¸‹å»ºè®®ç›´æŽ¥è®¾ç½®é“¾æŽ¥çš„è‹±æ–‡åï¼Œç½‘ä¸Šæœ‰ç›¸å…³æ•™ç¨‹æˆ‘é‡‡ç”¨äº†è½¬æ¢ï¼Œä½†æ˜¯å‡ºäº†äº›å°bugï¼Œä½†è¿˜èƒ½åº”ä»˜çš„è¿‡æ¥ å…³äºŽç”¨è‡ªå·±çš„é¡µé¢åšé¡µé¢è¯·å‚è€ƒjacklightChenHexo-ç”¨è‡ªå·±çš„é¡µé¢åšé¦–é¡µ ä¸»é¢˜å†…æ·»åŠ ç›¸å†ŒåŠŸèƒ½ï¼ˆå¯èƒ½ä¼šå‡ºçŽ°å¡é¡¿ï¼‰è¯·å‚è€ƒasdfv1929Hexo NexTä¸»é¢˜å†…æ·»åŠ ç›¸å†ŒåŠŸèƒ½ æ·»åŠ ç½‘é¡µæ ‡é¢˜å´©æºƒæ¬ºéª—æžæ€ªç‰¹æ•ˆè¯·å‚è€ƒasdfv1929Hexo NexTä¸»é¢˜ä¸­æ·»åŠ ç½‘é¡µæ ‡é¢˜å´©æºƒæ¬ºéª—æžæ€ªç‰¹æ•ˆ æ·»åŠ åŠ è½½æ•ˆæžœæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶æœç´¢pace_themeçœ‹åˆ°ä¸‹é¢è¿™äº›æ•ˆæžœï¼Œæœ‰å¾ˆå¤šç§ï¼ŒæŒ‘é€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å°±å¥½äº†12345678910111213141516171819# Progress bar in the top during page loading.pace: true# Themes list:#pace-theme-big-counter#pace-theme-bounce#pace-theme-barber-shop#pace-theme-center-atom#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple#pace-theme-corner-indicator#pace-theme-fill-left#pace-theme-flash#pace-theme-loading-bar#pace-theme-mac-osx#pace-theme-minimal# For example# pace_theme: pace-theme-center-simplepace_theme: pace-theme-loading-bar æœ€åŽ é‰´äºŽå¾ˆå¤šå¤§ä½¬éƒ½æœ‰ç›¸åº”çš„åˆ†äº«æˆ‘å°±è€è€å®žå®žåšä¸€ä¸ªæ¬è¿å·¥ï¼Œå¸Œæœ›æœ‰æ›´å¤šäººèƒ½æœ‰ä¸€ä¸ªè‡ªå·±æ»¡æ„çš„åšå®¢ç½‘ä¸Šæœ‰æ›´å¤šå¥½çš„æ•ˆæžœå’Œå®žçŽ°æ–¹å¼æ¬¢è¿Žä¸Žæˆ‘äº¤æµ â€”-&gt;ä¼ é€é—¨]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo+github+ubuntuæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2018%2F08%2Fhexo%2Bhithub_pages%2BnexT%2F</url>
    <content type="text"><![CDATA[èœé¸Ÿåˆæ­¥æ­å»ºé¡»çŸ¥ï¼ˆæ˜¯æˆ‘æ²¡é”™ï¼Œå¤‡å¿˜ï¼‰ç›¸åº”çŸ¥è¯† ä¼šä¸€äº›åŸºæœ¬çš„Linuxå‘½ä»¤å’Œvimçš„æ“ä½œå‘½ä»¤ã€‚å¯ä»¥åœ¨å®žéªŒæ¥¼ä¸Šå…¥é—¨å­¦ä¹  ç½‘ä¸Šå·²ç»æµè§ˆäº† å®˜æ–¹æ–‡æ¡£ å®‰è£…ubuntuå’Œgitï¼ˆå› ä¸ºæœ€è¿‘åœ¨å­¦ä¹ ç”¨ubuntuï¼Œè€Œä¸”å¾ˆå¤šæ“ä½œubuntuä¸Šä¼šæ›´ç®€å•ï¼‰ å®‰è£…Node.jså¹¶æ‹¥æœ‰githubè´¦å· githubä¸Šæ–°å»ºå¥½ä¸€ä¸ªä¸“é—¨çš„ä»“åº“ï¼Œå¹¶æœ€å¥½ç†Ÿæ‚‰githubåŠå…¶åŸºæœ¬æ“ä½œæ¯”å¦‚SSHå¯†é’¥ ä»¥ä¸ŠçŸ¥è¯†ç½‘ä¸Šæœ‰æ¯”è¾ƒå®Œå–„çš„ä¿¡æ¯ï¼Œæœç´¢å…³é”®å­—å­¦ä¹ å¹¶è¿›è¡Œå¿…è¦çš„æ­å»ºå‰æå·²ç»å®Œæˆä¸‹å›¾ï¼š å»ºè®®å¤§å®¶é€‰æ‹©ä¸åŒçš„åšå®¢å»ºç«™ï¼Œå¯ä»¥å‚è€ƒæœ‰å“ªäº›å¥½çœ‹çš„ Hexo ä¸»é¢˜? æ–°æ‰‹åˆæ­¥æ­å»ºå¯èƒ½æœ‰ç”¨æ­å»ºnexTä¸»é¢˜å¯èƒ½æœ‰å¸®åŠ©çš„é“¾æŽ¥ï¼š https://www.cnblogs.com/fengxiongZz/p/7707219.html https://www.jianshu.com/p/a0a27d840992 https://www.jianshu.com/p/24cb74aeb0a3 http://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html æ·±å…¥æ­å»ºï¼Œå®‰è£…NexTä¸»é¢˜Hexo å®‰è£…ä¸»é¢˜çš„æ–¹å¼éžå¸¸ç®€å•ï¼Œæ–°å»ºblogæ–‡æ¡£ï¼ˆå‘½åéšæ„ï¼‰åœ¨å…¶ä¸‹æ‰“å¼€ç»ˆç«¯æ“ä½œå³å¯ï¼Œå…·ä½“åˆ° NexT æ¥è¯´ï¼Œå®‰è£…æ­¥éª¤å¦‚ä¸‹ã€‚ å®‰è£…ä¸»é¢˜1$ git clone https://github.com/iissnan/hexo-theme-next themes/next å…·ä½“è¿˜æœ‰ä»¥ä¸‹æ­¥éª¤ï¼ˆè‡ªè¡Œç½‘ä¸Šæœç´¢ï¼‰ï¼š hexo init(ç¬¬ä¸€æ¬¡éœ€è¦) hexo clean hexo g hexo s hexo d å¯åŠ¨ä¸»é¢˜ä¸Žæ‰€æœ‰ Hexo ä¸»é¢˜å¯ç”¨çš„æ¨¡å¼ä¸€æ ·ã€‚ å½“ å…‹éš†/ä¸‹è½½ å®ŒæˆåŽï¼Œæ‰“å¼€ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼ˆå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºç«™ç‚¹é…ç½®æ–‡ä»¶è§£é‡Šï¼‰ï¼Œ ctrl+f æœç´¢åˆ° theme å­—æ®µï¼Œå¹¶å°†å…¶å€¼æ›´æ”¹ä¸º nextï¼Œä¸»é¢˜é»˜è®¤ä¸ºlandscapeï¼Œå»ºè®®é€‰æ‹©Piscesæˆ–Gemini 1theme: next éªŒè¯ä¸»é¢˜é¦–å…ˆå¯åŠ¨ Hexo æœ¬åœ°ç«™ç‚¹ï¼Œå¹¶å¼€å¯è°ƒè¯•æ¨¡å¼ï¼ˆå³åŠ ä¸Š â€“debugï¼Œdubugä¼šå¸®åŠ©ä½ æ›´å¥½æ‰¾åˆ°å®‰è£…è¿‡ç¨‹çš„é”™è¯¯ï¼‰ï¼Œæ•´ä¸ªå‘½ä»¤æ˜¯ hexo s â€“debugã€‚ åœ¨æœåŠ¡å¯åŠ¨çš„è¿‡ç¨‹ï¼Œæ³¨æ„è§‚å¯Ÿå‘½ä»¤è¡Œè¾“å‡ºæ˜¯å¦æœ‰ä»»ä½•å¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æžœä½ ç¢°åˆ°é—®é¢˜ï¼Œè¿™äº›ä¿¡æ¯å°†å¸®åŠ©ä»–äººæ›´å¥½çš„å®šä½é”™è¯¯ã€‚ å½“å‘½ä»¤è¡Œè¾“å‡ºä¸­æç¤ºå‡ºï¼š 1INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. æ”¹åŠ¨hexo ç«™ç‚¹é…ç½®æ–‡ä»¶æˆ‘ä»¬æ‰“å¼€ç«™ç‚¹ä¸‹çš„_config.ymlæ–‡ä»¶ æ·±å…¥ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œäº‹å…ˆå˜åŠ¨RSSè®¢é˜… 1.åœ¨hexoçš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š 1npm install hexo-generator-feed --save 2åœ¨æ ¹ç›®å½•ä¸‹çš„/theme/next/_config.ymlæ–‡ä»¶ä¸­æ·»åŠ é…ç½® 123456feed: type: rss2 path: rss2.xml limit: 5 hub: content: 'true' åŠ å…¥ç«™ç‚¹å†…å®¹æœç´¢åŠŸèƒ½ 1.å®‰è£…hexo-generator-searchdb æ³¨æ„ï¼šå®‰è£…æ—¶åº”åœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œå³blogç›®å½•ä¸‹ 1$ npm install hexo-generator-searchdb --save 2.æ·»åŠ searchå­—æ®µï¼Œåœ¨ç«™ç‚¹blog/_config.ymlä¸­æ·»åŠ searchå­—æ®µï¼Œå¦‚ä¸‹ 12345search: path: search.xml field: post format: html limit: 10000 ç¼–è¾‘è¿œç¨‹éƒ¨ç½² ï¼Œæ·»åŠ ä»£ç å— 1234deploy: type: git repository: https://github.com/Thunderforrain/Thunderforrain.github.io.git branch: master æ–¹ä¾¿å†™åšå®¢ï¼Œè‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡æ–‡æ¡£ 1post_asset_folder: true å¦‚æžœæ˜¯flase æ”¹æˆtrue å‚è€ƒæ–‡ç« å†…æ·»åŠ å›¾ç‰‡ æ³¨æ„ : : ä½¿ç”¨è‹±æ–‡çš„ï¼Œå¹¶ä¸”åŽé¢è¦æœ‰ç©ºæ ¼ æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤ï¼ŒæŸ¥æ‰¾å…³é”®å­—æ¥æ›´æ”¹å…¶ä»–ä¿¡æ¯ï¼Œæœ€åŽç»“æžœå¤§è‡´å¦‚ä¸‹(ä»…ä½œæœ€åŽçš„å‚è€ƒ)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Site ç½‘ç«™title: Thunderforrain's Blog #ç½‘ç«™æ ‡é¢˜subtitle: å®žè¿·é€”å…¶æœªè¿œ,è§‰ä»Šæ˜¯è€Œæ˜¨éž #ç½‘ç«™å‰¯æ ‡é¢˜description: èœé¸Ÿçš„ å°è¯•ï¼Œç¬¨é¸Ÿçš„å…ˆé£ž #ç½‘ç«™æè¿°keywords:author: Thunderforrain #åšä¸»çš„åå­—language: zh-Hans #ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€timezone: #ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒº# URL ç½‘å€ ## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'url: https://thunderforrain.github.io/ ** #ä½ ç½‘ç«™çš„urlroot: /blog/ #å­ç›®å½•permalink: :year/:month/:day/:title/ #ç”Ÿæˆæ–‡ä»¶åå­—çš„æ ¼å¼permalink_defaults:# Directory ç›®å½•é…ç½®source_dir: source public_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writing æ–‡ç« new_post_name: :title.md # File name of new posts ï¼ˆæ–°å»ºæ–‡ç« é“¾æŽ¥å½¢å¼ï¼‰default_layout: post # é»˜è®¤å¸ƒå±€ï¼ˆå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºå…¶ä»–å¸ƒå±€ï¼‰titlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0 render_drafts: false post_asset_folder: true #å¯åŠ¨ Asset æ–‡ä»¶å¤¹,æ–¹ä¾¿ç®¡ç†æ–‡ç« å›¾ç‰‡relative_link: false future: true highlight: #ä»£ç å—è®¾ä¸ºtrue enable: true line_number: true auto_detect: false tab_replace: # Home page setting# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 10 order_by: -date # Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map: # Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination åˆ†é¡µï¼ˆéžå…¨å±ä¸æ˜¾ç¤ºï¼‰## Set per_page to 0 to disable paginationper_page: 10 #æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« é‡ (0 = å…³é—­åˆ†é¡µåŠŸèƒ½)pagination_dir: page search: path: search.xml field: post format: html limit: 10000# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: next## Rssè®¢é˜…plugin:- hexo-generator-feed#Feed Atomfeed: type: atom #feed ç±»åž‹ (atom/rss2) path: atom.xml #rss è·¯å¾„ limit: 20 #åœ¨ rss ä¸­æœ€å¤šç”Ÿæˆçš„æ–‡ç« æ•°(0æ˜¾ç¤ºæ‰€æœ‰) hub: content: content_limit: 140 content_limit_delim: ' ' order_by: -date# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repository: git@github.com:Tenke007/Tenke007.github.io.git branch: master æ”¹åŠ¨hexo ä¸»é¢˜é…ç½®æ–‡ä»¶å»ºè®®å‚è€ƒç½‘å€ï¼Œç½‘ä¸Šæœ‰æ¯”è¾ƒå¥½çš„æ•™ç¨‹:Never_yuâ€™s Blogä¸»é¢˜é…ç½®å‚è€ƒçŸ¥äº†ç¬”è®°Elegant theme for Hexoå»ºè®®çœ‹ä¸€ä¸‹æˆ‘ä¸‹ä¸€ç¯‡åšå®¢æˆ‘ä»¬æ‰“å¼€ä¸»é¢˜ä¸‹çš„_config.ymlæ–‡ä»¶ æ·±å…¥ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å¯ä»¥æ·»åŠ å¾ˆå¤šä¸œè¥¿ï¼ˆå‚è€ƒä¸Šè¿°ç½‘å€ï¼‰ï¼š åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®žçŽ°fork me on github èƒŒæ™¯é…ç½® æ·»åŠ åŠ¨æ€èƒŒæ™¯ å®žçŽ°ç‚¹å‡»å‡ºçŽ°æ¡ƒå¿ƒæ•ˆæžœ ä¿®æ”¹æ–‡ç« å†…é“¾æŽ¥æ–‡æœ¬æ ·å¼ ä¿®æ”¹æ–‡ç« åº•éƒ¨çš„é‚£ä¸ªå¸¦#å·çš„æ ‡ç­¾ åœ¨æ¯ç¯‡æ–‡ç« æœ«å°¾ç»Ÿä¸€æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®° ä¿®æ”¹ä½œè€…å¤´åƒå¹¶æ—‹è½¬ åšæ–‡åŽ‹ç¼© ä¿®æ”¹â€œä»£ç å—è‡ªå®šä¹‰æ ·å¼ ä¾§è¾¹æ ç¤¾äº¤å°å›¾æ ‡è®¾ç½® ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡ æ·»åŠ çƒ­åº¦ ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡ æ·»åŠ  README.md æ–‡ä»¶ è®¾ç½®ç½‘ç«™çš„å›¾æ ‡Favicon å®žçŽ°ç»Ÿè®¡åŠŸèƒ½ æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡ åœ¨æ–‡ç« åº•éƒ¨å¢žåŠ ç‰ˆæƒä¿¡æ¯ æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿ éšè—ç½‘é¡µåº•éƒ¨powered By Hexo / å¼ºåŠ›é©±åŠ¨ ä¿®æ”¹ç½‘é¡µåº•éƒ¨çš„æ¡ƒå¿ƒ æ–‡ç« åŠ å¯†è®¿é—® æ·»åŠ jiathisåˆ†äº« åšæ–‡ç½®é¡¶ ä¿®æ”¹å­—ä½“å¤§å° ä¿®æ”¹æ‰“èµå­—ä½“ä¸é—ªåŠ¨ ä¾§è¾¹æ æŽ¨èé˜…è¯» è‡ªå®šä¹‰é¼ æ ‡æ ·å¼ hexo æ·»åŠ ç™¾åº¦ç«™é•¿æŽ¨é€ hexo NexTä¸»é¢˜é¦–é¡µtitleé“¾æŽ¥çš„ä¼˜åŒ– Hexo NexTä¸»é¢˜ä¿®æ”¹æ–‡ç« æ ‡é¢˜æ ·å¼ hexo æ·»åŠ ç™¾åº¦ç«™é•¿æŽ¨é€ å‚è€ƒä¸Šæ–‡çŸ¥äº†ç¬”è®°çš„hexoæ¡†æž¶åŸºäºŽnextä¸»é¢˜å®šåˆ¶ ä¸‹æ–‡å¯ä½œä¸ºç†è§£å¸®åŠ©ï¼ˆä»…ä½œä¸ºæœ€åŽçš„å‚è€ƒï¼‰:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780# ---------------------------------------------------------------# Site Information Settings# ---------------------------------------------------------------# For example, you put your favicons into `hexo-site/source/images` directory.# Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexofavicon: ##ç½‘ç«™çš„å¤´åƒ small: /images/avatar.jpg medium: /images/avatar.jpg apple_touch_icon: /images/apple-touch-icon-next.png safari_pinned_tab: /images/logo.svg #android_manifest: /images/manifest.json #ms_browserconfig: /images/browserconfig.xml# Set default keywords (Use a comma to separate)keywords: "è®°å½•è€•è€˜"##ç½‘ç«™å…³é”®å­—# Set rss to false to disable feed link.# Leave rss as empty to use site's feed link.# Set rss to specific value if you have burned your feed already.rss: /atom.xml # éœ€è¦å®‰è£…æ’ä»¶# Specify the date when the site was setupsince: 2015 ç½‘ç«™æ—¶é—´ï¼Œç±»ä¼¼ 2015-2016 # Icon between year and copyright info. icon: user # If not defined, will be used `author` from Hexo main config. copyright: #æˆ‘çš„æ˜¯è‡ªå·±è®¾ç½®å¯å¦è¯„è®ºï¼Œå¯ä»¥ä½¿ç”¨ç»Ÿä¸€uå½¢å¼ï¼Œä¸åŒçš„è¯„è®ºæ–¹å¼ä¸åŒ # ------------------------------------------------------------- # Hexo link (Powered by Hexo).#ç®¡ç†åº•éƒ¨é©±åŠ¨ä¿¡æ¯ï¼Œä¸ªäººåŽ»äº†ç‰ˆæœ¬å· powered: true theme: # Theme &amp; scheme info link (Theme - NexT.scheme). enable: true # Version info of NexT after scheme info (vX.X.X). version: false # ------------------------------------------------------------- # Any custom text can be defined here. #custom_text: Hosted by &lt;a target="_blank" href="https://pages.github.com"&gt;GitHub Pages&lt;/a&gt;# ---------------------------------------------------------------# SEO Settings# ---------------------------------------------------------------# Canonical, set a canonical link tag in your hexo, you could use it for your SEO of blog.# See: https://support.google.com/webmasters/answer/139066# Tips: Before you open this tag, remeber set up your URL in hexo _config.yml ( ex. url: http://yourdomain.com )canonical: true# Change headers hierarchy on site-subtitle (will be main site description) and on all post/pages titles for better SEO-optimization.seo: false# If true, will add site-subtitle to index page, added in main hexo config.# subtitle: Subtitleindex_with_subtitle: false# ---------------------------------------------------------------# Menu Settings# ---------------------------------------------------------------# When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).# Usage: `Key: /link/ || icon`# Key is the name of menu item. If translate for this menu will find in languages - this translate will be loaded; if not - Key name will be used. Key is case-senstive.# Value before `||` delimeter is the target link.# Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.menu: #èœå•è·¯å¾„è®¾ç½® å¦‚æžœhexoåœ¨äºŒçº§ç›®å½•æ”¾ç½®è¦åŽ»æŽ‰/ home: / categories: /categories #åˆ†ç±» tags: /tags #æ ‡ç­¾ archives: /archives #å½’æ¡£ #about: /about # å…³äºŽæˆ‘ #sitemap: /sitemap.xml #è¿™ä¸ªå¯ä»¥ä¸ç”¨å¼€å¯ï¼Œç»™æœç´¢å¼•æ“Žç”¨çš„ï¼Œéœ€è¦å®‰è£…æ’ä»¶ #commonweal: /404.html #å…¬ç›Š404# Enable/Disable menu icons.# Icon Mapping:# Map a menu item to a specific FontAwesome icon name.# Key is the name of menu item and value is the name of FontAwsome icon. Key is case-senstive.# When an question mask icon presenting up means that the item has no mapping icon.menu_icons: #ä¸Šé¢menuçš„iconmenu_icons: enable: true home: home about: user categories: th tags: tags archives: archive commonweal: heartbeat# ---------------------------------------------------------------# Scheme Settings# ---------------------------------------------------------------# Schemes #nextä¸»é¢˜çš„ä¸‰ä¸ªschemes(é»˜è®¤æ˜¯Muse)#scheme: Muse#scheme: Mist#scheme: Piscesscheme: Gemini #ä¸ªäººæ¯”è¾ƒå–œæ¬¢Gemini# ---------------------------------------------------------------# Sidebar Settings# ---------------------------------------------------------------# Social Links.# Usage: `Key: permalink || icon`# Key is the link label showing to end users.# Value before `||` delimeter is the target permalink.# Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.#social: #ç¤¾äº¤é“¾æŽ¥ï¼Œå¯ä»¥æ”¾github,weibo,qqç­‰ GitHub: https://github.com/Thunderforrain || github CSDN: https://blog.csdn.net/Thunderforrain #å¾®åš: #E-Mail: mailto:yourname@gmail.com || envelope #Google: https://plus.google.com/yourname || google #Twitter: https://twitter.com/yourname || twitter #FB Page: https://www.facebook.com/yourname || facebook #VK Group: https://vk.com/yourname || vk #StackOverflow: https://stackoverflow.com/yourname || stack-overflow #YouTube: https://youtube.com/yourname || youtube #Instagram: https://instagram.com/yourname || instagram #Skype: skype:yourname?call|chat || skype social_icons: #å¯¹åº”çš„ç¤¾äº¤icon enable: true # Icon Mappings. # KeyMapsToSocalItemKey: NameOfTheIconFromFontAwesome GitHub: github Twitter: twitter Weibo: weibo Wechat: wechat# Blog rolls #ç›¸å…³é“¾æŽ¥links_icon: linklinks_title: å‹æƒ…é“¾æŽ¥links: gitå­¦ä¹ : http://github.phodal.com/ é¦¨å®¢æ ˆ: http://www.mackxin.com/ CSL's Blog çš„é“¾æŽ¥: http://cubercsl.cn/links/ jacklightChen's Blog: http://blog.lightina.cn/links_layout: block #Title: http://example.com/# Sidebar Avatar# in theme directory(source/images): /images/avatar.jpg# in site directory(source/uploads): /uploads/avatar.jpgavatar: /images/avatar.jpg #åšä¸»å¤´åƒï¼ˆå¯ä»¥æ”¾å¤–é“¾ï¼‰# Table Of Contents in the Sidebar #æ–‡ç« è‡ªåŠ¨æ˜¾ç¤ºç›®å½•toc: enable: true # Automatically add list number to toc. #ç›®å½•æ˜¯å¦è‡ªåŠ¨æ˜¾ç¤ºæ•°å­—åºå· number: true # If true, all words will placed on next lines if header width longer then sidebar width. wrap: false# Creative Commons 4.0 International License.# http://creativecommons.org/# Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero#creative_commons: by-nc-sa#creative_commons:sidebar: #ä¾§è¾¹æ ï¼Œåªå¯¹Piscesã€Geminiæœ‰æ•ˆ # Sidebar Position, available value: left | right (only for Pisces | Gemini). position: left #position: right # Sidebar Display, available value: # - post expand on posts automatically. Default. # - always expand for all pages automatically # - hide expand only when click on the sidebar toggle icon. # - remove Totally remove sidebar including sidebar toggler. display: post #display: always #display: hide #display: remove # Sidebar offset from top menubar in pixels (only for Pisces | Gemini).åƒç´ èœå•æ¡è¾¹æ åç§»é‡ offset: 12 # Back to top in sidebar (only for Pisces | Gemini). b2t: false # Scroll percent label in b2t button. scrollpercent: false # Enable sidebar on narrow view (only for Muse | Mist). onmobile: false# ---------------------------------------------------------------# Post Settings# ---------------------------------------------------------------# Automatically scroll page to section which is under &lt;!-- more --&gt; mark.scroll_to_more: true# Automatically excerpt description in homepage as preamble text.excerpt_description: true# Automatically Excerpt. Not recommand.# Please use &lt;!-- more --&gt; in the post to control excerpt accurately.auto_excerpt: #è®¾ç½®ä¸ºtrue,é¦–é¡µæ–‡ç« ä¼šæ˜¾ç¤º é˜…è¯»å…¨æ–‡ï¼Œå»ºè®®ä½¿ç”¨ &lt;!-- more --&gt; enable: true length: 150# Post meta display settingspost_meta: item_text: true created_at: true updated_at: false categories: true# Wechat Subscriber #æ–‡ç« å†…æ˜¾ç¤ºå¾®ä¿¡äºŒç»´ç wechat_subscriber: enabled: true qcode: /images/wechat.png #å¾®ä¿¡äºŒç»´ç å›¾ç‰‡è·¯å¾„ description: éšä¾¿è¯´ç‚¹ #å¾®ä¿¡äºŒç»´ç æè¿°#Reward #æ‰“èµåŠŸèƒ½ï¼Œå›¾ç‰‡ç›¸åº”ç›®å½•æœ‰æˆ–è€…å¤–é“¾reward_comment: æåŠ©èœé¸¡ï¼Œææºç¬¨é¸Ÿwechatpay: /images/wechatpay.pngalipay: /images/alipay.jpg#bitcoin: /images/bitcoin.png# Declare license on posts # ç‰ˆæƒå£°æ˜Žpost_copyright: enable: false license: CC BY-NC-SA 3.0 license_url: https://creativecommons.org/licenses/by-nc-sa/3.0/# ---------------------------------------------------------------# Misc Theme Settings# ---------------------------------------------------------------# Reduce padding / margin indents on devices with narrow width.mobile_layout_economy: false# Android Chrome header panel color ($black-deep).android_chrome_color: "#222"# Custom Logo.# !!Only available for Default Scheme currently.# Options:# enabled: [true/false] - Replace with specific image# image: url-of-image - Images's urlcustom_logo: enabled: false image:# Code Highlight theme ä»£ç é«˜ä¸½é£Žæ ¼ï¼Œä¸ªäººå–œæ¬¢é»˜è®¤ç‰ˆæœ¬# Available value:# normal | night | night eighties | night blue | night bright# https://github.com/chriskempson/tomorrow-themehighlight_theme: normal# ---------------------------------------------------------------# Font Settings# - Find fonts on Google Fonts (https://www.google.com/fonts)# - All fonts set here will have the following styles:# light, light italic, normal, normal italic, bold, bold italic# - Be aware that setting too much fonts will cause site running slowly# - Introduce in 5.0.1# ---------------------------------------------------------------# CAUTION! Safari Version 10.1.2 bug: https://github.com/iissnan/hexo-theme-next/issues/1844# To avoid space between header and sidebar in Pisces / Gemini themes recommended to use Web Safe fonts for `global` (and `logo`):# Arial | Tahoma | Helvetica | Times New Roman | Courier New | Verdana | Georgia | Palatino | Garamond | Comic Sans MS | Trebuchet MS# ---------------------------------------------------------------font: enable: false # Uri of fonts host. E.g. //fonts.googleapis.com (Default). host: # Font options: # `external: true` will load this font family from `host` above. # `family: Times New Roman`. Without any quotes. # `size: xx`. Use `px` as unit. # Global font settings used on &lt;body&gt; element. global: external: true family: Lato size: # Font settings for Headlines (h1, h2, h3, h4, h5, h6). # Fallback to `global` font settings. headings: external: true family: size: # Font settings for posts. # Fallback to `global` font settings. posts: external: true family: # Font settings for Logo. # Fallback to `global` font settings. logo: external: true family: size: # Font settings for &lt;code&gt; and code blocks. codes: external: true family: size: # ---------------------------------------------------------------# Third Party Services Settings# ---------------------------------------------------------------# MathJax Supportmathjax: enable: false per_page: false cdn: //cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML# Swiftype Search API Key #ç¬¬ä¸‰æ–¹æœç´¢ï¼ˆæ ¹æ®å–œå¥½é€‰æ‹©ï¼Œä¸ä¸¾ä¾‹äº†ï¼‰#swiftype_key:# Baidu Analytics ID #ç™¾åº¦åˆ†æž#baidu_analytics:# Duoshuo ShortName #å¤šè¯´è¯„è®ºï¼Œå·²æˆä¸ºè¿‡åŽ»ï¼Œä¸å¯ä½¿ç”¨duoshuo_shortname: tenke# Disqus #æ¥å¿…åŠ›è¯„è®º#disqus_shortname:# changyan #ç•…è¨€è¯„è®ºchangyan: enable: false appid: appkey: # Hypercomments#hypercomments_id:# Valine.# You can get your appid and appkey from https://leancloud.cn# more info please open https://valine.js.orgvaline: #ä¸‹é¢æœ‰ä¸œè¥¿ï¼Œæš‚ä¸ä¸¾ä¾‹ï¼Œæ¶‰åŠéšç§ # Gitment #éœ€è¦githubè´¦å·æ‰èƒ½ç•™è¨€# Introduction: https://imsun.net/posts/gitment-introduction/# You can get your Github ID from https://api.github.com/users/&lt;Github username&gt;gitment: enable: false mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide 'Powered by ...' on footer, and more language: # Force language, or auto switch by theme github_user: # MUST HAVE, Your Github ID github_repo: # MUST HAVE, The repo you use to store Gitment comments client_id: # MUST HAVE, Github client id for the Gitment client_secret: # EITHER this or proxy_gateway, Github access secret token for the Gitment proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled:# Baidu Share# Available value:# button | slide# Warning: Baidu Share does not support https.#baidushare:## type: button# Share# This plugin is more useful in China, make sure you known how to use it.# And you can find the use guide at official webiste: http://www.jiathis.com/.# Warning: JiaThis does not support https.#jiathis: ##uid: Get this uid from http://www.jiathis.com/#add_this_id:# Share #åºŸå¼ƒduoshuo_share: true# NeedMoreShare2# This plugin is a pure javascript sharing lib which is useful in China.# See: https://github.com/revir/need-more-share2# Also see: https://github.com/DzmVasileusky/needShareButton# iconStyle: default | box# boxForm: horizontal | vertical# position: top / middle / bottom + Left / Center / Right# networks: Weibo,Wechat,Douban,QQZone,Twitter,Linkedin,Mailto,Reddit,# Delicious,StumbleUpon,Pinterest,Facebook,GooglePlus,Slashdot,# Technorati,Posterous,Tumblr,GoogleBookmarks,Newsvine,# Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailruneedmoreshare2: enable: false postbottom: enable: false options: iconStyle: box boxForm: horizontal position: bottomCenter networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook float: enable: false options: iconStyle: box boxForm: horizontal position: middleRight networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook# Google Webmaster tools verification setting# See: https://www.google.com/webmasters/#google_site_verification:# Google Analytics#google_analytics:# CNZZ count#cnzz_siteid:# Application Insights# See https://azure.microsoft.com/en-us/services/application-insights/# application_insights:# Make duoshuo show UA# user_id must NOT be null when admin_enable is true!# you can visit http://dev.duoshuo.com get duoshuo user id.duoshuo_info: #å¼ƒç”¨ ua_enable: true admin_enable: true user_id: admin_nickname: # Post widgets &amp; FB/VK comments settings.# ---------------------------------------------------------------# Facebook SDK Support.# https://github.com/iissnan/hexo-theme-next/pull/410facebook_sdk: #facebookç›¸å…³ enable: false app_id: #&lt;app_id&gt; fb_admin: #&lt;user_id&gt; like_button: #true webmaster: #true # Post widgets &amp; FB/VK comments settings.# ---------------------------------------------------------------# Facebook SDK Support.# https://github.com/iissnan/hexo-theme-next/pull/410facebook_sdk: enable: false app_id: #&lt;app_id&gt; fb_admin: #&lt;user_id&gt; like_button: #true webmaster: #true# Facebook comments plugin# This plugin depends on Facebook SDK.# If facebook_sdk.enable is false, Facebook comments plugin is unavailable.facebook_comments_plugin: enable: false num_of_posts: 10 # min posts num is 1 width: 100% # default width is 550px scheme: light # default scheme is light (light or dark)# VKontakte API Support.# To get your AppID visit https://vk.com/editapp?act=createvkontakte_api: enable: false app_id: #&lt;app_id&gt; like: true comments: true num_of_posts: 10# Star rating support to each article.# To get your ID visit https://widgetpack.comrating: enable: false id: #&lt;app_id&gt; color: fc6423# --------------------------------------------------------------# Show number of visitors to each article.# You can visit https://leancloud.cn get AppID and AppKey.leancloud_visitors: enable: false app_id: #&lt;app_id&gt; app_key: #&lt;app_key&gt;# Another tool to show number of visitors to each article.# visit https://console.firebase.google.com/u/0/ to get apiKey and projectId# visit https://firebase.google.com/docs/firestore/ to get more information about firestorefirestore: enable: false collection: articles #required, a string collection name to access firestore database apiKey: #required projectId: #required bluebird: false #enable this if you want to include bluebird 3.5.1(core version) Promise polyfill# Show PV/UV of the website/page with busuanzi.# Get more information on http://ibruce.info/2015/04/04/busuanzi/busuanzi_count: #ç¬¬ä¸‰æ–¹ç”¨æˆ·è®¿é—®æ’ä»¶ï¼Œç›´æŽ¥å¼€å¯ï¼Œæ ¹æ®å–œå¥½æ·»åŠ æ–‡å­— # count values only if the other configs are false enable: true # custom uv span for the whole site site_uv: true site_uv_header: &lt;i class="fa fa-user"&gt;&lt;/i&gt; site_uv_footer: # custom pv span for the whole site site_pv: true site_pv_header: &lt;i class="fa fa-eye"&gt;&lt;/i&gt; site_pv_footer: # custom pv span for one page only page_pv: true page_pv_header: &lt;i class="fa fa-file-o"&gt;&lt;/i&gt;&amp;nbsp&amp;nbspé˜…è¯»æ•° page_pv_footer:# Tencent analytics ID# tencent_analytics:# Tencent MTA ID# tencent_mta:# Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEObaidu_push: false# Google Calendar# Share your recent schedule to others via calendar page## API Documentation:# https://developers.google.com/google-apps/calendar/v3/reference/events/listcalendar: enable: false calendar_id: &lt;required&gt; api_key: &lt;required&gt; orderBy: startTime offsetMax: 24 offsetMin: 4 timeZone: showDeleted: false singleEvents: true maxResults: 250# Algolia Searchalgolia_search: enable: false hits: per_page: 10 labels: input_placeholder: Search for Posts hits_empty: "We didn't find any results for the search: $&#123;query&#125;" hits_stats: "$&#123;hits&#125; results found in $&#123;time&#125; ms"# Local search #è‡ªå·±æ·»åŠ # Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: true # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1# ---------------------------------------------------------------# Tags Settings# ---------------------------------------------------------------# External URL with BASE64 encrypt &amp; decrypt.# Usage: &#123;% exturl text url "title" %&#125;# Alias: &#123;% extlink text url "title" %&#125;exturl: false# Note tag (bs-callout).note: # Note tag style values: # - simple bs-callout old alert style. Default. # - modern bs-callout new (v2-v3) alert style. # - flat flat callout style with background, like on Mozilla or StackOverflow. # - disabled disable all CSS styles import of note tag. style: simple icons: false border_radius: 3 # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6). # Offset also applied to label tag variables. This option can work with disabled note tag. light_bg_offset: 0# Label tag.label: true# Tabs tag.tabs: enable: true transition: tabs: false labels: true border_radius: 0 #! ---------------------------------------------------------------#! DO NOT EDIT THE FOLLOWING SETTINGS#! UNLESS YOU KNOW WHAT YOU ARE DOING#! ---------------------------------------------------------------# Use velocity to animate everything.motion: enable: true async: false transition: # Transition variants: # fadeIn | fadeOut | flipXIn | flipXOut | flipYIn | flipYOut | flipBounceXIn | flipBounceXOut | flipBounceYIn | flipBounceYOut # swoopIn | swoopOut | whirlIn | whirlOut | shrinkIn | shrinkOut | expandIn | expandOut # bounceIn | bounceOut | bounceUpIn | bounceUpOut | bounceDownIn | bounceDownOut | bounceLeftIn | bounceLeftOut | bounceRightIn | bounceRightOut # slideUpIn | slideUpOut | slideDownIn | slideDownOut | slideLeftIn | slideLeftOut | slideRightIn | slideRightOut # slideUpBigIn | slideUpBigOut | slideDownBigIn | slideDownBigOut | slideLeftBigIn | slideLeftBigOut | slideRightBigIn | slideRightBigOut # perspectiveUpIn | perspectiveUpOut | perspectiveDownIn | perspectiveDownOut | perspectiveLeftIn | perspectiveLeftOut | perspectiveRightIn | perspectiveRightOut post_block: fadeIn post_header: slideDownIn post_body: slideDownIn coll_header: slideLeftIn # Only for Pisces | Gemini. sidebar: slideUpIn# Fancyboxfancybox: true# Progress bar in the top during page loading.pace: true# Themes list:#pace-theme-big-counter#pace-theme-bounce#pace-theme-barber-shop#pace-theme-center-atom#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple#pace-theme-corner-indicator#pace-theme-fill-left#pace-theme-flash#pace-theme-loading-bar#pace-theme-mac-osx#pace-theme-minimal# For example# pace_theme: pace-theme-center-simplepace_theme: pace-theme-center-simple# Canvas-nestcanvas_nest: true# three_wavesthree_waves: false# canvas_linescanvas_lines: false# canvas_spherecanvas_sphere: false# Only fit scheme Pisces# Canvas-ribbon# size: The width of the ribbon.# alpha: The transparency of the ribbon.# zIndex: The display level of the ribbon.canvas_ribbon: enable: false size: 300 alpha: 0.6 zIndex: -1# Script Vendors.# Set a CDN address for the vendor you want to customize.# For example# jquery: https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js# Be aware that you should use the same version as internal ones to avoid potential problems.# Please use the https protocol of CDN files when you enable https on your site.vendors: # Internal path prefix. Please do not edit it. _internal: lib # Internal version: 2.1.3 jquery: # Internal version: 2.1.5 # See: http://fancyapps.com/fancybox/ fancybox: fancybox_css: # Internal version: 1.0.6 # See: https://github.com/ftlabs/fastclick fastclick: # Internal version: 1.9.7 # See: https://github.com/tuupola/jquery_lazyload lazyload: # Internal version: 1.2.1 # See: http://VelocityJS.org velocity: # Internal version: 1.2.1 # See: http://VelocityJS.org velocity_ui: # Internal version: 0.7.9 # See: https://faisalman.github.io/ua-parser-js/ ua_parser: # Internal version: 4.6.2 # See: http://fontawesome.io/ fontawesome: # Internal version: 1 # https://www.algolia.com algolia_instant_js: algolia_instant_css: # Internal version: 1.0.2 # See: https://github.com/HubSpot/pace # Or use direct links below: # pace: //cdn.bootcss.com/pace/1.0.2/pace.min.js # pace_css: //cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-flash.min.css pace: pace_css: # Internal version: 1.0.0 # https://github.com/hustcc/canvas-nest.js canvas_nest: # three three: # three_waves # https://github.com/jjandxa/three_waves three_waves: # three_waves # https://github.com/jjandxa/canvas_lines canvas_lines: # three_waves # https://github.com/jjandxa/canvas_sphere canvas_sphere: # Internal version: 1.0.0 # https://github.com/zproo/canvas-ribbon canvas_ribbon: # Internal version: 3.3.0 # https://github.com/ethantw/Han han: # needMoreShare2 # https://github.com/revir/need-more-share2 needMoreShare2:# Assetscss: cssjs: jsimages: images# Theme versionversion: 5.1.4# æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°passage_end_tag: enabled: true æœ€åŽä¸€äº›æƒ³æ³•1.ç§‘å­¦ä¸Šç½‘ï¼ˆä½ æ‡‚çš„ï¼‰ 2.é€æ­¥å‡çº§åšå®¢ï¼ˆä¸€æ¬¡æ€§å¼„å¥½ä¸çŽ°å®žï¼‰ 3.å…ˆç†è§£ç«™ç‚¹å’Œä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆæœ‰äº›ä¸œè¥¿éšç€ç‰ˆæœ¬çš„æ›´æ–°ï¼Œæ²¡æœ‰å¿…è¦è¿›è¡Œå¾ˆéº»çƒ¦çš„æ“ä½œï¼‰ 4.è¿˜æœ‰ä¸€éƒ¨åˆ†ä¸œè¥¿å¯ä»¥è‡ªå·±æŸ¥,å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ© æ¬¢è¿Žäº’åŠ å‹æƒ…é“¾æŽ¥ ï¼Œäº’ç›¸äº¤æµâ€”â€“&gt;ä¼ é€é—¨ ä¸€äº›åšå®¢å®žä¾‹ï¼š IIssNanâ€™s NotesKevin Puâ€™s Blog Showo^^eå´å°é¾™åŒå­¸]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
