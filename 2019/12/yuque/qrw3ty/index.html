<!DOCTYPE html><html class="theme-next gemini use-motion" lang="en"><head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="no-referrer">


  
  
    
    
  
  







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  







  






  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.jpg">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.jpg">


  <link rel="mask-icon" href="/images/logo.svg" color="#222">





  <meta name="keywords" content="记录耕耘">





  <link rel="alternate" href="/atom.xml" title="Tfrain's  Blog" type="application/atom+xml">






<meta name="description" content="算法的阅读学习">
<meta property="og:type" content="article">
<meta property="og:title" content="算法记录">
<meta property="og:url" content="https://freewei.ml/2019/12/yuque/qrw3ty/index.html">
<meta property="og:site_name" content="Tfrain's  Blog">
<meta property="og:description" content="算法的阅读学习">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2019/png/203310/1577701326744-aadd5697-d8de-4c9c-96f7-aac7aac320ca.png#align=left&amp;display=inline&amp;height=74&amp;name=image.png&amp;originHeight=74&amp;originWidth=1041&amp;size=68630&amp;status=done&amp;style=none&amp;width=1041">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1579009595210-e5956a30-a79d-48a9-bcae-751d0dd3edba.png#align=left&amp;display=inline&amp;height=191&amp;name=image.png&amp;originHeight=191&amp;originWidth=852&amp;size=74818&amp;status=done&amp;style=none&amp;width=852">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1580651556986-298d4ea8-a5d2-448a-a5cf-e9f0f4875659.png#align=left&amp;display=inline&amp;height=249&amp;name=image.png&amp;originHeight=249&amp;originWidth=584&amp;size=33936&amp;status=done&amp;style=none&amp;width=584">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581259532401-1e1c9f6f-ef91-4ce4-97b1-537eb123c782.png#align=left&amp;display=inline&amp;height=73&amp;name=image.png&amp;originHeight=73&amp;originWidth=1100&amp;size=25475&amp;status=done&amp;style=none&amp;width=1100">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811829-27a9e1bb-68c3-4067-892f-0a573d2ba7cc.png#align=left&amp;display=inline&amp;height=529&amp;name=image.png&amp;originHeight=529&amp;originWidth=553&amp;size=123184&amp;status=done&amp;style=none&amp;width=553">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811857-76b0c563-037c-4a3b-a2a5-0cdd737c860a.png#align=left&amp;display=inline&amp;height=562&amp;name=image.png&amp;originHeight=562&amp;originWidth=588&amp;size=150927&amp;status=done&amp;style=none&amp;width=588">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811856-3de593e4-7067-45d4-9254-f75a9aa7a033.png#align=left&amp;display=inline&amp;height=567&amp;name=image.png&amp;originHeight=567&amp;originWidth=637&amp;size=178444&amp;status=done&amp;style=none&amp;width=637">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740980589-05be790d-755b-456c-a9b6-8951687f2621.png#align=left&amp;display=inline&amp;height=600&amp;name=image.png&amp;originHeight=600&amp;originWidth=1067&amp;size=391468&amp;status=done&amp;style=none&amp;width=1067">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741000708-8edde84a-cae3-4db9-94f6-8cd440439c7c.png#align=left&amp;display=inline&amp;height=782&amp;name=image.png&amp;originHeight=782&amp;originWidth=635&amp;size=201648&amp;status=done&amp;style=none&amp;width=635">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741030097-3cdce332-b742-4519-97c2-b90c6b335e2c.png#align=left&amp;display=inline&amp;height=455&amp;name=image.png&amp;originHeight=455&amp;originWidth=1102&amp;size=277302&amp;status=done&amp;style=none&amp;width=1102">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741053398-33ac6671-3c64-4e6b-97a8-916f313c2633.png#align=left&amp;display=inline&amp;height=315&amp;name=image.png&amp;originHeight=315&amp;originWidth=1279&amp;size=281069&amp;status=done&amp;style=none&amp;width=1279">
<meta property="og:updated_time" content="2020-04-23T13:41:37.994Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="算法记录">
<meta name="twitter:description" content="算法的阅读学习">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2019/png/203310/1577701326744-aadd5697-d8de-4c9c-96f7-aac7aac320ca.png#align=left&amp;display=inline&amp;height=74&amp;name=image.png&amp;originHeight=74&amp;originWidth=1041&amp;size=68630&amp;status=done&amp;style=none&amp;width=1041">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://freewei.ml/2019/12/yuque/qrw3ty/">





  <title>算法记录 | Tfrain's  Blog</title>
  








<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css');loadCss('https://unpkg.com/gitalk/dist/gitalk.css');</script><style>/* normalize.css v3.0.2 | MIT License | git.io/normalize */
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
::selection {
  background: #262a30;
  color: #fff;
}
body {
  position: relative;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 14px;
  line-height: 2;
  color: #555;
  background: #eee;
}
@media (max-width: 767px) {
  body {
    padding-right: 0 !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  body {
    padding-right: 0 !important;
  }
}
@media (min-width: 1600px) {
  body {
    font-size: 16px;
  }
}
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  padding: 0;
  font-weight: bold;
  line-height: 1.5;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
h2,
h3,
h4,
h5,
h6 {
  margin: 20px 0 15px;
}
h1 {
  font-size: 22px;
}
@media (max-width: 767px) {
  h1 {
    font-size: 18px;
  }
}
h2 {
  font-size: 20px;
}
@media (max-width: 767px) {
  h2 {
    font-size: 16px;
  }
}
h3 {
  font-size: 18px;
}
@media (max-width: 767px) {
  h3 {
    font-size: 14px;
  }
}
h4 {
  font-size: 16px;
}
@media (max-width: 767px) {
  h4 {
    font-size: 12px;
  }
}
h5 {
  font-size: 14px;
}
@media (max-width: 767px) {
  h5 {
    font-size: 10px;
  }
}
h6 {
  font-size: 12px;
}
@media (max-width: 767px) {
  h6 {
    font-size: 8px;
  }
}
p {
  margin: 0 0 20px 0;
}
a {
  color: #555;
  text-decoration: none;
  outline: none;
  border-bottom: 1px solid #999;
  word-wrap: break-word;
}
a:hover {
  color: #222;
  border-bottom-color: #222;
}
blockquote {
  margin: 0;
  padding: 0;
}
img {
  display: block;
  margin: auto;
  max-width: 100%;
  height: auto;
}
hr {
  margin: 40px 0;
  height: 3px;
  border: none;
  background-color: #ddd;
  background-image: repeating-linear-gradient(-45deg, #fff, #fff 4px, transparent 4px, transparent 8px);
}
blockquote {
  padding: 0 15px;
  color: #008b8b;
  border-left: 4px solid #428bca;
}
blockquote cite::before {
  content: "-";
  padding: 0 5px;
}
dt {
  font-weight: 700;
}
dd {
  margin: 0;
  padding: 0;
}
kbd {
  border: 1px solid #ccc;
  border-radius: 0.2em;
  box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1);
  background-color: #f9f9f9;
  font-family: inherit;
  background-image: -webkit-linear-gradient(top, #eee, #fff, #eee);
  padding: 0.1em 0.3em;
  white-space: nowrap;
}
.text-left {
  text-align: left;
}
.text-center {
  text-align: center;
}
.text-right {
  text-align: right;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.clearfix:before,
.clearfix:after {
  content: " ";
  display: table;
}
.clearfix:after {
  clear: both;
}
.pullquote {
  width: 45%;
}
.pullquote.left {
  float: left;
  margin-left: 5px;
  margin-right: 10px;
}
.pullquote.right {
  float: right;
  margin-left: 10px;
  margin-right: 5px;
}
.affix.affix.affix {
  position: fixed;
}
.translation {
  margin-top: -20px;
  font-size: 14px;
  color: #999;
}
.scrollbar-measure {
  width: 100px;
  height: 100px;
  overflow: scroll;
  position: absolute;
  top: -9999px;
}
.use-motion .motion-element {
  opacity: 0;
}
table {
  margin: 20px 0;
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  border: 1px solid #ddd;
  font-size: 14px;
  table-layout: fixed;
  word-wrap: break-all;
}
table>tbody>tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
table>tbody>tr:hover {
  background-color: #f5f5f5;
}
caption,
th,
td {
  padding: 8px;
  text-align: left;
  vertical-align: middle;
  font-weight: normal;
}
th,
td {
  border-bottom: 3px solid #ddd;
  border-right: 1px solid #eee;
}
th {
  padding-bottom: 10px;
  font-weight: 700;
}
td {
  border-bottom-width: 1px;
}
html,
body {
  height: 100%;
}
.container {
  position: relative;
  min-height: 100%;
}
.header-inner {
  margin: 0 auto;
  padding: 100px 0 70px;
  width: calc(100% - 252px);
}
@media (min-width: 1600px) {
  .container .header-inner {
    width: 900px;
  }
}
.main {
  padding-bottom: 150px;
}
.main-inner {
  margin: 0 auto;
  width: calc(100% - 252px);
}
@media (min-width: 1600px) {
  .container .main-inner {
    width: 900px;
  }
}
.footer {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  min-height: 50px;
}
.footer-inner {
  box-sizing: border-box;
  margin: 20px auto;
  width: calc(100% - 252px);
}
@media (min-width: 1600px) {
  .container .footer-inner {
    width: 900px;
  }
}
pre,
.highlight {
  overflow: auto;
  margin: 20px 0;
  padding: 0;
  font-size: 13px;
  color: #4d4d4c;
  background: #e6e6fa;
  line-height: 1.6;
}
pre,
code {
  font-family: consolas, Menlo, "PingFang SC", "Microsoft YaHei", monospace;
}
code {
  padding: 2px 4px;
  word-wrap: break-word;
  color: #555;
  background: #eee;
  border-radius: 3px;
  font-size: 13px;
}
pre {
  padding: 10px;
}
pre code {
  padding: 0;
  color: #4d4d4c;
  background: none;
  text-shadow: none;
}
.highlight {
  border-radius: 1px;
}
.highlight pre {
  border: none;
  margin: 0;
  padding: 10px 0;
}
.highlight table {
  margin: 0;
  width: auto;
  border: none;
}
.highlight td {
  border: none;
  padding: 0;
}
.highlight figcaption {
  font-size: 1em;
  color: #4d4d4c;
  line-height: 1em;
  margin-bottom: 1em;
}
.highlight figcaption:before,
.highlight figcaption:after {
  content: " ";
  display: table;
}
.highlight figcaption:after {
  clear: both;
}
.highlight figcaption a {
  float: right;
  color: #4d4d4c;
}
.highlight figcaption a:hover {
  border-bottom-color: #4d4d4c;
}
.highlight .gutter pre {
  padding-left: 10px;
  padding-right: 10px;
  color: #869194;
  text-align: right;
  background-color: #ee0;
}
.highlight .code pre {
  width: 100%;
  padding-left: 10px;
  padding-right: 10px;
  background-color: $hihlight-background;
}
.highlight .line {
  height: 20px;
}
.gutter {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.gist table {
  width: auto;
}
.gist table td {
  border: none;
}
pre .deletion {
  background: #fdd;
}
pre .addition {
  background: #dfd;
}
pre .meta {
  color: #8959a8;
}
pre .comment {
  color: #8e908c;
}
pre .variable,
pre .attribute,
pre .tag,
pre .regexp,
pre .ruby .constant,
pre .xml .tag .title,
pre .xml .pi,
pre .xml .doctype,
pre .html .doctype,
pre .css .id,
pre .css .class,
pre .css .pseudo {
  color: #c82829;
}
pre .number,
pre .preprocessor,
pre .built_in,
pre .literal,
pre .params,
pre .constant,
pre .command {
  color: #f5871f;
}
pre .ruby .class .title,
pre .css .rules .attribute,
pre .string,
pre .value,
pre .inheritance,
pre .header,
pre .ruby .symbol,
pre .xml .cdata,
pre .special,
pre .number,
pre .formula {
  color: #718c00;
}
pre .title,
pre .css .hexcolor {
  color: #3e999f;
}
pre .function,
pre .python .decorator,
pre .python .title,
pre .ruby .function .title,
pre .ruby .title .keyword,
pre .perl .sub,
pre .javascript .title,
pre .coffeescript .title {
  color: #4271ae;
}
pre .keyword,
pre .javascript .function {
  color: #8959a8;
}
.full-image.full-image.full-image.full-image {
  border: none;
  max-width: 100%;
  width: auto;
  margin: 20px auto 25px;
}
@media (min-width: 992px) {
  .full-image.full-image.full-image.full-image {
    max-width: none;
    width: 118%;
    margin: 0 -9%;
  }
}
.blockquote-center,
.page-home .post-type-quote blockquote,
.page-post-detail .post-type-quote blockquote {
  position: relative;
  margin: 40px 0;
  padding: 0;
  border-left: none;
  text-align: center;
}
.blockquote-center::before,
.page-home .post-type-quote blockquote::before,
.page-post-detail .post-type-quote blockquote::before,
.blockquote-center::after,
.page-home .post-type-quote blockquote::after,
.page-post-detail .post-type-quote blockquote::after {
  position: absolute;
  content: ' ';
  display: block;
  width: 100%;
  height: 24px;
  opacity: 0.2;
  background-repeat: no-repeat;
  background-position: 0 -6px;
  background-size: 22px 22px;
}
.blockquote-center::before,
.page-home .post-type-quote blockquote::before,
.page-post-detail .post-type-quote blockquote::before {
  top: -20px;
  background-image: url("../images/quote-l.svg");
  border-top: 1px solid #ccc;
}
.blockquote-center::after,
.page-home .post-type-quote blockquote::after,
.page-post-detail .post-type-quote blockquote::after {
  bottom: -20px;
  background-image: url("../images/quote-r.svg");
  border-bottom: 1px solid #ccc;
  background-position: 100% 8px;
}
.blockquote-center p,
.page-home .post-type-quote blockquote p,
.page-post-detail .post-type-quote blockquote p,
.blockquote-center div,
.page-home .post-type-quote blockquote div,
.page-post-detail .post-type-quote blockquote div {
  text-align: center;
}
.post .post-body .group-picture img {
  box-sizing: border-box;
  padding: 0 3px;
  border: none;
}
.post .group-picture-row {
  overflow: hidden;
  margin-top: 6px;
}
.post .group-picture-row:first-child {
  margin-top: 0;
}
.post .group-picture-column {
  float: left;
}
.page-post-detail .post-body .group-picture-column {
  float: none;
  margin-top: 10px;
  width: auto !important;
}
.page-post-detail .post-body .group-picture-column img {
  margin: 0 auto;
}
.page-archive .group-picture-container {
  overflow: hidden;
}
.page-archive .group-picture-row {
  float: left;
}
.page-archive .group-picture-row:first-child {
  margin-top: 6px;
}
.page-archive .group-picture-column {
  max-width: 150px;
  max-height: 150px;
}
.post-body .note {
  position: relative;
  padding: 15px;
  margin-bottom: 20px;
  border: 1px solid #eee;
  border-left-width: 5px;
  border-radius: 3px;
}
.post-body .note h2,
.post-body .note h3,
.post-body .note h4,
.post-body .note h5,
.post-body .note h6 {
  margin-top: 0;
  margin-bottom: 0;
  border-bottom: initial;
  padding-top: 0 !important;
}
.post-body .note p:first-child,
.post-body .note ul:first-child,
.post-body .note ol:first-child,
.post-body .note table:first-child,
.post-body .note pre:first-child,
.post-body .note blockquote:first-child {
  margin-top: 0;
}
.post-body .note p:last-child,
.post-body .note ul:last-child,
.post-body .note ol:last-child,
.post-body .note table:last-child,
.post-body .note pre:last-child,
.post-body .note blockquote:last-child {
  margin-bottom: 0;
}
.post-body .note.default {
  border-left-color: #777;
}
.post-body .note.default h2,
.post-body .note.default h3,
.post-body .note.default h4,
.post-body .note.default h5,
.post-body .note.default h6 {
  color: #777;
}
.post-body .note.primary {
  border-left-color: #6f42c1;
}
.post-body .note.primary h2,
.post-body .note.primary h3,
.post-body .note.primary h4,
.post-body .note.primary h5,
.post-body .note.primary h6 {
  color: #6f42c1;
}
.post-body .note.info {
  border-left-color: #428bca;
}
.post-body .note.info h2,
.post-body .note.info h3,
.post-body .note.info h4,
.post-body .note.info h5,
.post-body .note.info h6 {
  color: #428bca;
}
.post-body .note.success {
  border-left-color: #5cb85c;
}
.post-body .note.success h2,
.post-body .note.success h3,
.post-body .note.success h4,
.post-body .note.success h5,
.post-body .note.success h6 {
  color: #5cb85c;
}
.post-body .note.warning {
  border-left-color: #f0ad4e;
}
.post-body .note.warning h2,
.post-body .note.warning h3,
.post-body .note.warning h4,
.post-body .note.warning h5,
.post-body .note.warning h6 {
  color: #f0ad4e;
}
.post-body .note.danger {
  border-left-color: #d9534f;
}
.post-body .note.danger h2,
.post-body .note.danger h3,
.post-body .note.danger h4,
.post-body .note.danger h5,
.post-body .note.danger h6 {
  color: #d9534f;
}
.post-body .label {
  display: inline;
  padding: 0 2px;
  white-space: nowrap;
}
.post-body .label.default {
  background-color: #f0f0f0;
}
.post-body .label.primary {
  background-color: #efe6f7;
}
.post-body .label.info {
  background-color: #e5f2f8;
}
.post-body .label.success {
  background-color: #e7f4e9;
}
.post-body .label.warning {
  background-color: #fcf6e1;
}
.post-body .label.danger {
  background-color: #fae8eb;
}
.post-body .tabs {
  position: relative;
  display: block;
  margin-bottom: 20px;
  padding-top: 10px;
}
.post-body .tabs ul.nav-tabs {
  margin: 0;
  padding: 0;
  display: flex;
  margin-bottom: -1px;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs {
    display: block;
    margin-bottom: 5px;
  }
}
.post-body .tabs ul.nav-tabs li.tab {
  list-style-type: none !important;
  margin: 0 0.25em 0 0;
  border-top: 3px solid transparent;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab {
    margin: initial;
    border-top: 1px solid transparent;
    border-left: 3px solid transparent;
    border-right: 1px solid transparent;
    border-bottom: 1px solid transparent;
  }
}
.post-body .tabs ul.nav-tabs li.tab a {
  outline: 0;
  border-bottom: initial;
  display: block;
  line-height: 1.8em;
  padding: 0.25em 0.75em;
  transition-duration: 0.2s;
  transition-timing-function: ease-out;
  transition-delay: 0s;
}
.post-body .tabs ul.nav-tabs li.tab a i {
  width: 1.285714285714286em;
}
.post-body .tabs ul.nav-tabs li.tab.active {
  border-top: 3px solid #fc6423;
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  background-color: #fff;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab.active {
    border-top: 1px solid #ddd;
    border-left: 3px solid #fc6423;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
  }
}
.post-body .tabs ul.nav-tabs li.tab.active a {
  cursor: default;
  color: #555;
}
.post-body .tabs .tab-content {
  background-color: #fff;
}
.post-body .tabs .tab-content .tab-pane {
  border: 1px solid #ddd;
  padding: 20px 20px 0 20px;
}
.post-body .tabs .tab-content .tab-pane:not(.active) {
  display: none !important;
}
.post-body .tabs .tab-content .tab-pane.active {
  display: block !important;
}
.btn {
  display: inline-block;
  padding: 0 20px;
  font-size: 14px;
  color: #555;
  background: #fff;
  border: 2px solid #555;
  text-decoration: none;
  border-radius: 2px;
  transition-property: background-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  line-height: 2;
}
.btn:hover {
  border-color: #222;
  color: #fff;
  background: #222;
}
.btn +.btn {
  margin: 0 0 8px 8px;
}
.btn .fa-fw {
  width: 1.285714285714286em;
  text-align: left;
}
.btn-bar {
  display: block;
  width: 22px;
  height: 2px;
  background: #555;
  border-radius: 1px;
}
.btn-bar+.btn-bar {
  margin-top: 4px;
}
.pagination {
  margin: 120px 0 40px;
  text-align: center;
  border-top: 1px solid #eee;
}
.page-number-basic,
.pagination .prev,
.pagination .next,
.pagination .page-number,
.pagination .space {
  display: inline-block;
  position: relative;
  top: -1px;
  margin: 0 10px;
  padding: 0 11px;
}
@media (max-width: 767px) {
  .page-number-basic,
  .pagination .prev,
  .pagination .next,
  .pagination .page-number,
  .pagination .space {
    margin: 0 5px;
  }
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  border-bottom: 0;
  border-top: 1px solid #eee;
  transition-property: border-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.pagination .prev:hover,
.pagination .next:hover,
.pagination .page-number:hover {
  border-top-color: #222;
}
.pagination .space {
  padding: 0;
  margin: 0;
}
.pagination .prev {
  margin-left: 0;
}
.pagination .next {
  margin-right: 0;
}
.pagination .page-number.current {
  color: #fff;
  background: #ccc;
  border-top-color: #ccc;
}
@media (max-width: 767px) {
  .pagination {
    border-top: none;
  }
  .pagination .prev,
  .pagination .next,
  .pagination .page-number {
    margin-bottom: 10px;
    border-top: 0;
    border-bottom: 1px solid #eee;
    padding: 0 10px;
  }
  .pagination .prev:hover,
  .pagination .next:hover,
  .pagination .page-number:hover {
    border-bottom-color: #222;
  }
}
.comments {
  margin: 60px 20px 0;
}
.tag-cloud {
  text-align: center;
}
.tag-cloud a {
  display: inline-block;
  margin: 10px;
}
.back-to-top {
  display: none;
  margin: 20px -10px -20px;
  background: #eee;
  font-size: 12px;
  opacity: 0.6;
  cursor: pointer;
  text-align: center;
  -webkit-transform: translateZ(0);
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.back-to-top:hover {
  opacity: 0.8;
}
@media (min-width: 768px) and (max-width: 991px) {
  .back-to-top {
    display: none !important;
  }
}
@media (max-width: 767px) {
  .back-to-top {
    display: none !important;
  }
}
.back-to-top.back-to-top-on {
  display: block;
}
.header {
  background: transparent;
}
.header-inner {
  position: relative;
}
.headband {
  height: 3px;
  background: #222;
}
.site-meta {
  margin: 0;
  text-align: center;
}
@media (max-width: 767px) {
  .site-meta {
    text-align: center;
  }
}
.brand {
  position: relative;
  display: inline-block;
  padding: 0 40px;
  color: #fff;
  background: #222;
  border-bottom: none;
}
.brand:hover {
  color: #fff;
}
.logo {
  display: inline-block;
  margin-right: 5px;
  line-height: 36px;
  vertical-align: top;
}
.site-title {
  display: inline-block;
  vertical-align: top;
  line-height: 36px;
  font-size: 20px;
  font-weight: normal;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
.site-subtitle {
  margin-top: 10px;
  font-size: 13px;
  color: #ddd;
}
.use-motion .brand {
  opacity: 0;
}
.use-motion .logo,
.use-motion .site-title,
.use-motion .site-subtitle {
  opacity: 0;
  position: relative;
  top: -10px;
}
.site-nav-toggle {
  display: none;
  position: absolute;
  top: 10px;
  left: 10px;
}
@media (max-width: 767px) {
  .site-nav-toggle {
    display: block;
  }
}
.site-nav-toggle button {
  margin-top: 2px;
  padding: 9px 10px;
  background: transparent;
  border: none;
}
@media (max-width: 767px) {
  .site-nav {
    display: none;
    margin: 0 -10px;
    padding: 0 10px;
    clear: both;
    border-top: 1px solid #ddd;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav {
    display: block !important;
  }
}
@media (min-width: 992px) {
  .site-nav {
    display: block !important;
  }
}
.menu {
  margin-top: 20px;
  padding-left: 0;
  text-align: center;
}
.menu .menu-item {
  display: inline-block;
  margin: 0 10px;
  list-style: none;
}
@media screen and (max-width: 767px) {
  .menu .menu-item {
    margin-top: 10px;
  }
}
.menu .menu-item a {
  display: block;
  font-size: 13px;
  line-height: inherit;
  border-bottom: 1px solid transparent;
  transition-property: border-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.menu .menu-item a:hover,
.menu-item-active a {
  border-bottom-color: #222;
}
.menu .menu-item .fa {
  margin-right: 5px;
}
.use-motion .menu-item {
  opacity: 0;
}
.post-body {
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
@media (max-width: 767px) {
  .post-body {
    word-break: break-word;
  }
}
.post-body .fancybox img {
  display: block !important;
  margin: 0 auto;
  cursor: pointer;
  cursor: zoom-in;
  cursor: -webkit-zoom-in;
}
.post-body .image-caption,
.post-body .figure .caption {
  margin: -20px auto 15px;
  text-align: center;
  font-size: 14px;
  color: #999;
  font-weight: bold;
  line-height: 1;
}
.post-sticky-flag {
  display: inline-block;
  font-size: 16px;
  -ms-transform: rotate(30deg);
  -webkit-transform: rotate(30deg);
  -moz-transform: rotate(30deg);
  -ms-transform: rotate(30deg);
  -o-transform: rotate(30deg);
  transform: rotate(30deg);
}
.use-motion .post-block,
.use-motion .pagination,
.use-motion .comments {
  opacity: 0;
}
.use-motion .post-header {
  opacity: 0;
}
.use-motion .post-body {
  opacity: 0;
}
.use-motion .collection-title {
  opacity: 0;
}
.posts-expand {
  padding-top: 40px;
}
@media (max-width: 767px) {
  .posts-expand {
    margin: 0 20px;
  }
  .post-body pre .gutter pre {
    padding-right: 10px;
  }
  .post-body .highlight {
    margin-left: 0px;
    margin-right: 0px;
    padding: 0;
  }
  .post-body .highlight .gutter pre {
    padding-right: 10px;
  }
}
@media (min-width: 992px) {
  .posts-expand .post-body {
    text-align: justify;
  }
}
.posts-expand .post-body h2,
.posts-expand .post-body h3,
.posts-expand .post-body h4,
.posts-expand .post-body h5,
.posts-expand .post-body h6 {
  padding-top: 10px;
}
.posts-expand .post-body h2 .header-anchor,
.posts-expand .post-body h3 .header-anchor,
.posts-expand .post-body h4 .header-anchor,
.posts-expand .post-body h5 .header-anchor,
.posts-expand .post-body h6 .header-anchor {
  float: right;
  margin-left: 10px;
  color: #ccc;
  border-bottom-style: none;
  visibility: hidden;
}
.posts-expand .post-body h2 .header-anchor:hover,
.posts-expand .post-body h3 .header-anchor:hover,
.posts-expand .post-body h4 .header-anchor:hover,
.posts-expand .post-body h5 .header-anchor:hover,
.posts-expand .post-body h6 .header-anchor:hover {
  color: inherit;
}
.posts-expand .post-body h2:hover .header-anchor,
.posts-expand .post-body h3:hover .header-anchor,
.posts-expand .post-body h4:hover .header-anchor,
.posts-expand .post-body h5:hover .header-anchor,
.posts-expand .post-body h6:hover .header-anchor {
  visibility: visible;
}
.posts-expand .post-body ul li {
  list-style: circle;
}
.posts-expand .post-body img {
  box-sizing: border-box;
  margin: auto;
  padding: 3px;
  border: 1px solid #ddd;
}
.posts-expand .post-body .fancybox img {
  margin: 0 auto 25px;
}
@media (max-width: 767px) {
  .posts-collapse {
    margin: 0 20px;
  }
  .posts-collapse .post-title,
  .posts-collapse .post-meta {
    display: block;
    width: auto;
    text-align: left;
  }
}
.posts-collapse {
  position: relative;
  z-index: 1010;
  margin-left: 55px;
}
.posts-collapse::after {
  content: " ";
  position: absolute;
  top: 20px;
  left: 0;
  margin-left: -2px;
  width: 4px;
  height: 100%;
  background: #f5f5f5;
  z-index: -1;
}
@media (max-width: 767px) {
  .posts-collapse {
    margin: 0 20px;
  }
}
.posts-collapse .collection-title {
  position: relative;
  margin: 60px 0;
}
.posts-collapse .collection-title h1,
.posts-collapse .collection-title h2 {
  margin-left: 20px;
}
.posts-collapse .collection-title small {
  color: #bbb;
  margin-left: 5px;
}
.posts-collapse .collection-title::before {
  content: " ";
  position: absolute;
  left: 0;
  top: 50%;
  margin-left: -4px;
  margin-top: -4px;
  width: 8px;
  height: 8px;
  background: #bbb;
  border-radius: 50%;
}
.posts-collapse .post {
  margin: 30px 0;
}
.posts-collapse .post-header {
  position: relative;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: border;
  border-bottom: 1px dashed #ccc;
}
.posts-collapse .post-header::before {
  content: " ";
  position: absolute;
  left: 0;
  top: 12px;
  width: 6px;
  height: 6px;
  margin-left: -4px;
  background: #bbb;
  border-radius: 50%;
  border: 1px solid #fff;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: background;
}
.posts-collapse .post-header:hover {
  border-bottom-color: #666;
}
.posts-collapse .post-header:hover::before {
  background: #222;
}
.posts-collapse .post-meta {
  position: absolute;
  font-size: 12px;
  left: 20px;
  top: 5px;
}
.posts-collapse .post-comments-count {
  display: none;
}
.posts-collapse .post-title {
  margin-left: 60px;
  font-size: 16px;
  font-weight: normal;
  line-height: inherit;
}
.posts-collapse .post-title::after {
  margin-left: 3px;
  opacity: 0.6;
}
.posts-collapse .post-title a {
  color: #666;
  border-bottom: none;
}
.page-home .post-type-quote .post-header,
.page-post-detail .post-type-quote .post-header,
.page-home .post-type-quote .post-tags,
.page-post-detail .post-type-quote .post-tags {
  display: none;
}
.posts-expand .post-title {
  text-align: center;
  word-break: break-word;
  font-weight: 400;
}
.posts-expand .post-title-link {
  display: inline-block;
  position: relative;
  color: #555;
  border-bottom: none;
  line-height: 1.2;
  vertical-align: top;
}
.posts-expand .post-title-link::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: #000;
  visibility: hidden;
  -webkit-transform: scaleX(0);
  -moz-transform: scaleX(0);
  -ms-transform: scaleX(0);
  -o-transform: scaleX(0);
  transform: scaleX(0);
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.posts-expand .post-title-link:hover::before {
  visibility: visible;
  -webkit-transform: scaleX(1);
  -moz-transform: scaleX(1);
  -ms-transform: scaleX(1);
  -o-transform: scaleX(1);
  transform: scaleX(1);
}
.posts-expand .post-title-link .fa {
  font-size: 16px;
}
.posts-expand .post-meta {
  margin: 3px 0 60px 0;
  color: #999;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 12px;
  text-align: center;
}
.posts-expand .post-meta .post-category-list {
  display: inline-block;
  margin: 0;
  padding: 3px;
}
.posts-expand .post-meta .post-category-list-link {
  color: #999;
}
.posts-expand .post-meta .post-description {
  font-size: 14px;
  margin-top: 2px;
}
.post-meta-divider {
  margin: 0 0.5em;
}
.post-meta-item-icon {
  margin-right: 3px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .post-meta-item-icon {
    display: inline-block;
  }
}
@media (max-width: 767px) {
  .post-meta-item-icon {
    display: inline-block;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .post-meta-item-text {
    display: none;
  }
}
@media (max-width: 767px) {
  .post-meta-item-text {
    display: none;
  }
}
@media (max-width: 767px) {
  .posts-expand .post-comments-count {
    display: none;
  }
}
.post-button {
  margin-top: 40px;
}
.posts-expand .post-tags {
  margin-top: 40px;
  text-align: center;
}
.posts-expand .post-tags a {
  display: inline-block;
  margin-right: 10px;
  font-size: 13px;
}
.post-nav {
  display: table;
  margin-top: 15px;
  width: 100%;
  border-top: 1px solid #eee;
}
.post-nav-divider {
  display: table-cell;
  width: 10%;
}
.post-nav-item {
  display: table-cell;
  padding: 10px 0 0 0;
  width: 45%;
  vertical-align: top;
}
.post-nav-item a {
  position: relative;
  display: block;
  line-height: 25px;
  font-size: 14px;
  color: #555;
  border-bottom: none;
}
.post-nav-item a:hover {
  color: #222;
  border-bottom: none;
}
.post-nav-item a:active {
  top: 2px;
}
.post-nav-item .fa {
  position: absolute;
  top: 8px;
  left: 0;
  font-size: 12px;
}
.post-nav-next a {
  padding-left: 15px;
}
.post-nav-prev {
  text-align: right;
}
.post-nav-prev a {
  padding-right: 15px;
}
.post-nav-prev .fa {
  right: 0;
  left: auto;
}
.posts-expand .post-eof {
  display: block;
  margin: 80px auto 60px;
  width: 8%;
  height: 1px;
  background: #ccc;
  text-align: center;
}
.post:last-child .post-eof.post-eof.post-eof {
  display: none;
}
.post-gallery {
  display: table;
  table-layout: fixed;
  width: 100%;
  border-collapse: separate;
}
.post-gallery-row {
  display: table-row;
}
.post-gallery .post-gallery-img {
  display: table-cell;
  text-align: center;
  vertical-align: middle;
  border: none;
}
.post-gallery .post-gallery-img img {
  max-width: 100%;
  max-height: 100%;
  border: none;
}
.fancybox-close,
.fancybox-close:hover {
  border: none;
}
#rewardButton {
  cursor: pointer;
  border: 0;
  outline: 0;
  border-radius: 5px;
  padding: 0;
  margin: 0;
  letter-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
}
#rewardButton span {
  display: inline-block;
  width: 80px;
  height: 35px;
  border-radius: 5px;
  color: #fff;
  font-weight: 400;
  font-style: normal;
  font-variant: normal;
  font-stretch: normal;
  font-size: 18px;
  font-family: "Microsoft Yahei";
  background: #f44336;
}
#rewardButton span:hover {
  background: #f7877f;
}
#QR {
  padding-top: 20px;
}
#QR a {
  border: 0;
}
#QR img {
  width: 180px;
  max-width: 100%;
  display: inline-block;
  margin: 0.8em 2em 0 2em;
}
#bitcoin:hover p {
  animation: roll 0.1s infinite linear;
  -webkit-animation: roll 0.1s infinite linear;
  -moz-animation: roll 0.1s infinite linear;
}
@-moz-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@-webkit-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@-o-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
.post-copyright {
  margin: 2em 0 0;
  padding: 0.5em 1em;
  border-left: 3px solid #ff1700;
  background-color: #f9f9f9;
  list-style: none;
}
.rtl.post-body p,
.rtl.post-body a,
.rtl.post-body h1,
.rtl.post-body h2,
.rtl.post-body h3,
.rtl.post-body h4,
.rtl.post-body h5,
.rtl.post-body h6,
.rtl.post-body li,
.rtl.post-body ul,
.rtl.post-body ol {
  direction: rtl;
  font-family: UKIJ Ekran;
}
.rtl.post-title {
  font-family: UKIJ Ekran;
}
.sidebar {
  position: fixed;
  right: 0;
  top: 0;
  bottom: 0;
  width: 0;
  z-index: 1040;
  box-shadow: inset 0 2px 6px #000;
  background: #222;
  -webkit-transform: translateZ(0);
}
.sidebar a {
  color: #999;
  border-bottom-color: #555;
}
.sidebar a:hover {
  color: #eee;
}
@media (min-width: 768px) and (max-width: 991px) {
  .sidebar {
    display: none !important;
  }
}
@media (max-width: 767px) {
  .sidebar {
    display: none !important;
  }
}
.sidebar-inner {
  position: relative;
  padding: 20px 10px;
  color: #999;
  text-align: center;
}
.site-overview-wrap {
  overflow: hidden;
}
.site-overview {
  overflow-y: auto;
  overflow-x: hidden;
}
.sidebar-toggle {
  position: fixed;
  right: 30px;
  bottom: 45px;
  width: 14px;
  height: 14px;
  padding: 5px;
  background: #222;
  line-height: 0;
  z-index: 1050;
  cursor: pointer;
  -webkit-transform: translateZ(0);
}
@media (min-width: 768px) and (max-width: 991px) {
  .sidebar-toggle {
    display: none !important;
  }
}
@media (max-width: 767px) {
  .sidebar-toggle {
    display: none !important;
  }
}
.sidebar-toggle-line {
  position: relative;
  display: inline-block;
  vertical-align: top;
  height: 2px;
  width: 100%;
  background: #fff;
  margin-top: 3px;
}
.sidebar-toggle-line:first-child {
  margin-top: 0;
}
.site-author-image {
  display: block;
  margin: 0 auto;
  padding: 2px;
  max-width: 120px;
  height: auto;
  border: 1px solid #eee;
  border-radius: 50%;
  transition: 2s all;
}
.site-author-image:hover {
  -webkit-transform: rotate(360deg);
  -moz-transform: rotate(360deg);
  -ms-transform: rotate(360deg);
  -o-transform: rotate(360deg);
  transform: rotate(360deg);
}
.site-author-name {
  margin: 0;
  text-align: center;
  color: #222;
  font-weight: 600;
}
.site-description {
  margin-top: 0;
  text-align: center;
  font-size: 13px;
  color: #999;
}
.site-state {
  overflow: hidden;
  line-height: 1.4;
  white-space: nowrap;
  text-align: center;
}
.site-state-item {
  display: inline-block;
  padding: 0 15px;
  border-left: 1px solid #eee;
}
.site-state-item:first-child {
  border-left: none;
}
.site-state-item a {
  border-bottom: none;
}
.site-state-item-count {
  display: block;
  text-align: center;
  color: inherit;
  font-weight: 600;
  font-size: 16px;
}
.site-state-item-name {
  font-size: 13px;
  color: #999;
}
.feed-link {
  margin-top: 20px;
}
.feed-link a {
  display: inline-block;
  padding: 0 15px;
  color: #fc6423;
  border: 1px solid #fc6423;
  border-radius: 4px;
}
.feed-link a i {
  color: #fc6423;
  font-size: 14px;
}
.feed-link a:hover {
  color: #fff;
  background: #fc6423;
}
.feed-link a:hover i {
  color: #fff;
}
.links-of-author {
  margin-top: 20px;
}
.links-of-author a {
  display: inline-block;
  vertical-align: middle;
  margin-right: 10px;
  margin-bottom: 10px;
  border-bottom-color: #555;
  font-size: 13px;
}
.links-of-author a:before {
  display: inline-block;
  vertical-align: middle;
  margin-right: 3px;
  content: " ";
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #ffff74;
}
.links-of-blogroll {
  font-size: 13px;
}
.links-of-blogroll-title {
  margin-top: 20px;
  font-size: 14px;
  font-weight: 600;
}
.links-of-blogroll-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.links-of-blogroll-item {
  padding: 2px 10px;
}
.links-of-blogroll-item a {
  max-width: 280px;
  box-sizing: border-box;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.sidebar-nav {
  margin: 0 0 20px;
  padding-left: 0;
}
.sidebar-nav li {
  display: inline-block;
  cursor: pointer;
  border-bottom: 1px solid transparent;
  font-size: 14px;
  color: #555;
}
.sidebar-nav li:hover {
  color: #fc6423;
}
.page-post-detail .sidebar-nav-toc {
  padding: 0 5px;
}
.page-post-detail .sidebar-nav-overview {
  margin-left: 10px;
}
.sidebar-nav .sidebar-nav-active {
  color: #fc6423;
  border-bottom-color: #fc6423;
}
.sidebar-nav .sidebar-nav-active:hover {
  color: #fc6423;
}
.sidebar-panel {
  display: none;
}
.sidebar-panel-active {
  display: block;
}
.post-toc-empty {
  font-size: 14px;
  color: #666;
}
.post-toc-wrap {
  overflow: hidden;
}
.post-toc {
  overflow: auto;
}
.post-toc ol {
  margin: 0;
  padding: 0 2px 5px 10px;
  text-align: left;
  list-style: none;
  font-size: 14px;
}
.post-toc ol > ol {
  padding-left: 0;
}
.post-toc ol a {
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: all;
  color: #666;
  border-bottom-color: #ccc;
}
.post-toc ol a:hover {
  color: #000;
  border-bottom-color: #000;
}
.post-toc .nav-item {
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: justify;
  white-space: nowrap;
  line-height: 1.8;
}
.post-toc .nav .nav-child {
  display: none;
}
.post-toc .nav .active > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child > .nav-item {
  display: block;
}
.post-toc .nav .active > a {
  color: #fc6423;
  border-bottom-color: #fc6423;
}
.post-toc .nav .active-current > a {
  color: #fc6423;
}
.post-toc .nav .active-current > a:hover {
  color: #fc6423;
}
.footer {
  font-size: 14px;
  color: #999;
}
.footer img {
  border: none;
}
.footer-inner {
  text-align: center;
}
.with-love {
  display: inline-block;
  margin: 0 5px;
}
.powered-by,
.theme-info {
  display: inline-block;
}
.cc-license {
  margin-top: 10px;
  text-align: center;
}
.cc-license .cc-opacity {
  opacity: 0.7;
  border-bottom: none;
}
.cc-license .cc-opacity:hover {
  opacity: 0.9;
}
.cc-license img {
  display: inline-block;
}
.theme-next #ds-thread #ds-reset {
  color: #555;
}
.theme-next #ds-thread #ds-reset .ds-replybox {
  margin-bottom: 30px;
}
.theme-next #ds-thread #ds-reset .ds-replybox .ds-avatar,
.theme-next #ds-reset .ds-avatar img {
  box-shadow: none;
}
.theme-next #ds-thread #ds-reset .ds-textarea-wrapper {
  border-color: #c7d4e1;
  background: none;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}
.theme-next #ds-thread #ds-reset .ds-textarea-wrapper textarea {
  height: 60px;
}
.theme-next #ds-reset .ds-rounded-top {
  border-radius: 0;
}
.theme-next #ds-thread #ds-reset .ds-post-toolbar {
  box-sizing: border-box;
  border: 1px solid #c7d4e1;
  background: #f6f8fa;
}
.theme-next #ds-thread #ds-reset .ds-post-options {
  height: 40px;
  border: none;
  background: none;
}
.theme-next #ds-thread #ds-reset .ds-toolbar-buttons {
  top: 11px;
}
.theme-next #ds-thread #ds-reset .ds-sync {
  top: 5px;
}
.theme-next #ds-thread #ds-reset .ds-post-button {
  top: 4px;
  right: 5px;
  width: 90px;
  height: 30px;
  border: 1px solid #c5ced7;
  border-radius: 3px;
  background-image: linear-gradient(#fbfbfc, #f5f7f9);
  color: #60676d;
}
.theme-next #ds-thread #ds-reset .ds-post-button:hover {
  background-position: 0 -30px;
  color: #60676d;
}
.theme-next #ds-thread #ds-reset .ds-comments-info {
  padding: 10px 0;
}
.theme-next #ds-thread #ds-reset .ds-sort {
  display: none;
}
.theme-next #ds-thread #ds-reset li.ds-tab a.ds-current {
  border: none;
  background: #f6f8fa;
  color: #60676d;
}
.theme-next #ds-thread #ds-reset li.ds-tab a.ds-current:hover {
  background-color: #e9f0f7;
  color: #60676d;
}
.theme-next #ds-thread #ds-reset li.ds-tab a {
  border-radius: 2px;
  padding: 5px;
}
.theme-next #ds-thread #ds-reset .ds-login-buttons p {
  color: #999;
  line-height: 36px;
}
.theme-next #ds-thread #ds-reset .ds-login-buttons .ds-service-list li {
  height: 28px;
}
.theme-next #ds-thread #ds-reset .ds-service-list a {
  background: none;
  padding: 5px;
  border: 1px solid;
  border-radius: 3px;
  text-align: center;
}
.theme-next #ds-thread #ds-reset .ds-service-list a:hover {
  color: #fff;
  background: #666;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-weibo {
  color: #fc9b00;
  border-color: #fc9b00;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-weibo:hover {
  background: #fc9b00;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-qq {
  color: #60a3ec;
  border-color: #60a3ec;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-qq:hover {
  background: #60a3ec;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-renren {
  color: #2e7ac4;
  border-color: #2e7ac4;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-renren:hover {
  background: #2e7ac4;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-douban {
  color: #37994c;
  border-color: #37994c;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-douban:hover {
  background: #37994c;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-kaixin {
  color: #fef20d;
  border-color: #fef20d;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-kaixin:hover {
  background: #fef20d;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-netease {
  color: #f00;
  border-color: #f00;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-netease:hover {
  background: #f00;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-sohu {
  color: #ffcb05;
  border-color: #ffcb05;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-sohu:hover {
  background: #ffcb05;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-baidu {
  color: #2831e0;
  border-color: #2831e0;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-baidu:hover {
  background: #2831e0;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-google {
  color: #166bec;
  border-color: #166bec;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-google:hover {
  background: #166bec;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-weixin {
  color: #00ce0d;
  border-color: #00ce0d;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-weixin:hover {
  background: #00ce0d;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-more-services {
  border: none;
}
.theme-next #ds-thread #ds-reset .ds-service-list .ds-more-services:hover {
  background: none;
}
.theme-next #ds-reset .duoshuo-ua-admin {
  display: inline-block;
  color: #f00;
}
.theme-next #ds-reset .duoshuo-ua-platform,
.theme-next #ds-reset .duoshuo-ua-browser {
  color: #ccc;
}
.theme-next #ds-reset .duoshuo-ua-platform .fa,
.theme-next #ds-reset .duoshuo-ua-browser .fa {
  display: inline-block;
  margin-right: 3px;
}
.theme-next #ds-reset .duoshuo-ua-separator {
  display: inline-block;
  margin-left: 5px;
}
.theme-next .this_ua {
  background-color: #ccc !important;
  border-radius: 4px;
  padding: 0 5px !important;
  margin: 1px 1px !important;
  border: 1px solid #bbb !important;
  color: #fff;
  display: inline-block !important;
}
.theme-next .this_ua.admin {
  background-color: #d9534f !important;
  border-color: #d9534f !important;
}
.theme-next .this_ua.platform.iOS,
.theme-next .this_ua.platform.Mac,
.theme-next .this_ua.platform.Windows {
  background-color: #39b3d7 !important;
  border-color: #46b8da !important;
}
.theme-next .this_ua.platform.Linux {
  background-color: #3a3a3a !important;
  border-color: #1f1f1f !important;
}
.theme-next .this_ua.platform.Android {
  background-color: #00c47d !important;
  border-color: #01b171 !important;
}
.theme-next .this_ua.browser.Mobile,
.theme-next .this_ua.browser.Chrome {
  background-color: #5cb85c !important;
  border-color: #4cae4c !important;
}
.theme-next .this_ua.browser.Firefox {
  background-color: #f0ad4e !important;
  border-color: #eea236 !important;
}
.theme-next .this_ua.browser.Maxthon,
.theme-next .this_ua.browser.IE {
  background-color: #428bca !important;
  border-color: #357ebd !important;
}
.theme-next .this_ua.browser.baidu,
.theme-next .this_ua.browser.UCBrowser,
.theme-next .this_ua.browser.Opera {
  background-color: #d9534f !important;
  border-color: #d43f3a !important;
}
.theme-next .this_ua.browser.Android,
.theme-next .this_ua.browser.QQBrowser {
  background-color: #78ace9 !important;
  border-color: #4cae4c !important;
}
.post-spread {
  margin-top: 20px;
  text-align: center;
}
.jiathis_style {
  display: inline-block;
}
.jiathis_style a {
  border: none;
}
.fa {
  font-family: FontAwesome !important;
}
.post-spread {
  margin-top: 20px;
  text-align: center;
}
.bdshare-slide-button-box a {
  border: none;
}
.bdsharebuttonbox {
  display: inline-block;
}
.bdsharebuttonbox a {
  border: none;
}
.local-search-pop-overlay {
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 2080;
  background-color: rgba(0,0,0,0.3);
}
.local-search-popup {
  display: none;
  position: fixed;
  top: 10%;
  left: 50%;
  margin-left: -350px;
  width: 700px;
  height: 80%;
  padding: 0;
  background: #fff;
  color: #333;
  z-index: 9999;
  border-radius: 5px;
}
@media (max-width: 767px) {
  .local-search-popup {
    padding: 0;
    top: 0;
    left: 0;
    margin: 0;
    width: 100%;
    height: 100%;
    border-radius: 0;
  }
}
.local-search-popup ul.search-result-list {
  padding: 0;
  margin: 0 5px;
}
.local-search-popup p.search-result {
  border-bottom: 1px dashed #ccc;
  padding: 5px 0;
}
.local-search-popup a.search-result-title {
  font-weight: bold;
  font-size: 16px;
}
.local-search-popup .search-keyword {
  border-bottom: 1px dashed #f00;
  font-weight: bold;
  color: #f00;
}
.local-search-popup .local-search-header {
  padding: 5px;
  height: 36px;
  background: #f5f5f5;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}
.local-search-popup #local-search-result {
  overflow: auto;
  position: relative;
  padding: 5px 25px;
  height: calc(100% - 55px);
}
.local-search-popup .local-search-input-wrapper {
  display: inline-block;
  width: calc(100% - 90px);
  height: 36px;
  line-height: 36px;
  padding: 0 5px;
}
.local-search-popup .local-search-input-wrapper input {
  padding: 8px 0;
  height: 20px;
  display: block;
  width: 100%;
  outline: none;
  border: none;
  background: transparent;
  vertical-align: middle;
}
.local-search-popup .search-icon,
.local-search-popup .popup-btn-close {
  display: inline-block;
  font-size: 18px;
  color: #999;
  height: 36px;
  width: 18px;
  padding-left: 10px;
  padding-right: 10px;
}
.local-search-popup .search-icon {
  float: left;
}
.local-search-popup .popup-btn-close {
  border-left: 1px solid #eee;
  float: right;
  cursor: pointer;
}
.local-search-popup #no-result {
  position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  color: #ccc;
}
.site-uv,
.site-pv,
.page-pv {
  display: inline-block;
}
.site-uv .busuanzi-value,
.site-pv .busuanzi-value,
.page-pv .busuanzi-value {
  margin: 0 5px;
}
.gt-header a,
.gt-comments a,
.gt-popup a {
  border-bottom: none;
}
.gt-container .gt-popup .gt-action.is--active:before {
  top: 0.7em;
}
.-hoofoo-share-buttons {
  display: inline-block;
}
.-hoofoo-share-title {
  font-size: 1.1em;
  font-weight: 200;
}
.-hoofoo-share-ui-button {
  cursor: pointer;
  background-color: #555;
  color: #fff;
  font-size: 24px;
  line-height: 40px;
  width: 40px;
  height: 40px;
  margin: 10px;
  border-radius: 25px;
  float: left;
  transition: background 0.4s;
  -moz-transition: background 0.4s; /* Firefox 4 */
  -webkit-transition: background 0.4s; /* Safari 和 Chrome */
  -o-transition: background 0.4s;
}
.-hoofoo-share-weibo:hover {
  background-color: #cf3f41;
}
.-hoofoo-share-weixin:hover {
  background-color: #18a01a;
}
.-hoofoo-share-qq:hover {
  background-color: #950c0c;
}
.-hoofoo-share-twitter:hover {
  background-color: #2ab3e6;
}
.-hoofoo-share-more:hover {
  background-color: #777;
}
.-mob-share-weixin-qrcode-content {
  border-radius: 4px;
  -webkit-box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  -moz-box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  -o-box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  box-shadow: 0 10px 25px rgba(0,0,0,0.5);
}
.-mob-share-weixin-qrcode {
  margin: 5% !important;
  width: 90% !important;
  height: auto !important;
}
.-mob-share-weixin-qrcode-close {
  background-image: url("/lib/fancybox/source/fancybox_sprite.png") !important;
}
.-mob-share-weixin-qrcode-close {
  overflow: hidden;
  line-height: 100px !important;
  position: absolute !important;
  top: -18px !important;
  right: -18px !important;
  width: 36px !important;
  height: 36px !important;
  cursor: pointer !important;
  z-index: 8040 !important;
}
@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5) {
  .-mob-share-weixin-qrcode-close {
    background-image: url("/lib/fancybox/source/fancybox_sprite@2x.png") !important;
    background-size: 44px 152px !important; /*The size of the normal image, half the size of the hi-res image*/
  }
}
.-mob-share-close {
  height: 4em !important;
  font-size: 0.8em !important;
  line-height: 4em !important;
  background: #555 !important;
  color: #fff !important;
}
.page-archive .archive-page-counter {
  position: relative;
  top: 3px;
  left: 20px;
}
@media (max-width: 767px) {
  .page-archive .archive-page-counter {
    top: 5px;
  }
}
.page-archive .posts-collapse .archive-move-on {
  position: absolute;
  top: 11px;
  left: 0;
  margin-left: -6px;
  width: 10px;
  height: 10px;
  opacity: 0.5;
  background: #555;
  border: 1px solid #fff;
  border-radius: 50%;
}
.category-all-page .category-all-title {
  text-align: center;
}
.category-all-page .category-all {
  margin-top: 20px;
}
.category-all-page .category-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.category-all-page .category-list-item {
  margin: 5px 10px;
}
.category-all-page .category-list-count {
  color: #bbb;
}
.category-all-page .category-list-count:before {
  display: inline;
  content: " (";
}
.category-all-page .category-list-count:after {
  display: inline;
  content: ") ";
}
.category-all-page .category-list-child {
  padding-left: 10px;
}
#schedule ul#event-list {
  padding-left: 30px;
}
#schedule ul#event-list hr {
  margin: 20px 0 45px 0 !important;
  background: #222;
}
#schedule ul#event-list hr:after {
  display: inline-block;
  content: 'NOW';
  background: #222;
  color: #fff;
  font-weight: bold;
  text-align: right;
  padding: 0 5px;
}
#schedule ul#event-list li.event {
  margin: 20px 0px;
  background: #f9f9f9;
  padding-left: 10px;
  min-height: 40px;
}
#schedule ul#event-list li.event h2.event-summary {
  margin: 0;
  padding-bottom: 3px;
}
#schedule ul#event-list li.event h2.event-summary:before {
  display: inline-block;
  font-family: FontAwesome;
  font-size: 8px;
  content: '\f111';
  vertical-align: middle;
  margin-right: 25px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-relative-time {
  display: inline-block;
  font-size: 12px;
  font-weight: 400;
  padding-left: 12px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-details {
  display: block;
  color: #bbb;
  margin-left: 56px;
  padding-top: 3px;
  padding-bottom: 6px;
  text-indent: -24px;
  line-height: 18px;
}
#schedule ul#event-list li.event span.event-details:before {
  text-indent: 0;
  display: inline-block;
  width: 14px;
  font-family: FontAwesome;
  text-align: center;
  margin-right: 9px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-details.event-location:before {
  content: '\f041';
}
#schedule ul#event-list li.event span.event-details.event-duration:before {
  content: '\f017';
}
#schedule ul#event-list li.event-past {
  background: #fcfcfc;
}
#schedule ul#event-list li.event-past > * {
  opacity: 0.6;
}
#schedule ul#event-list li.event-past h2.event-summary {
  color: #bbb;
}
#schedule ul#event-list li.event-past h2.event-summary:before {
  color: #dfdfdf;
}
#schedule ul#event-list li.event-now {
  background: #222;
  color: #fff;
  padding: 15px 0 15px 10px;
}
#schedule ul#event-list li.event-now h2.event-summary:before {
  -webkit-transform: scale(1.2);
  -moz-transform: scale(1.2);
  -ms-transform: scale(1.2);
  -o-transform: scale(1.2);
  transform: scale(1.2);
  color: #fff;
  animation: dot-flash 1s alternate infinite ease-in-out;
}
#schedule ul#event-list li.event-now * {
  color: #fff !important;
}
@-moz-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@-webkit-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@-o-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
.page-post-detail .sidebar-toggle-line {
  background: #fc6423;
}
.page-post-detail .comments {
  overflow: hidden;
}
.header {
  position: relative;
  margin: 0 auto;
  width: 75%;
}
@media (min-width: 768px) and (max-width: 991px) {
  .header {
    width: auto;
  }
}
@media (max-width: 767px) {
  .header {
    width: auto;
  }
}
.header-inner {
  position: absolute;
  top: 0;
  overflow: hidden;
  padding: 0;
  width: 240px;
  background: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  border-radius: initial;
}
@media (min-width: 1600px) {
  .container .header-inner {
    width: 240px;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .header-inner {
    position: relative;
    width: auto;
    border-radius: initial;
  }
}
@media (max-width: 767px) {
  .header-inner {
    position: relative;
    width: auto;
    border-radius: initial;
  }
}
.main:before,
.main:after {
  content: " ";
  display: table;
}
.main:after {
  clear: both;
}
@media (min-width: 768px) and (max-width: 991px) {
  .main {
    padding-bottom: 100px;
  }
}
@media (max-width: 767px) {
  .main {
    padding-bottom: 100px;
  }
}
.container .main-inner {
  width: 75%;
}
@media (min-width: 768px) and (max-width: 991px) {
  .container .main-inner {
    width: auto;
  }
}
@media (max-width: 767px) {
  .container .main-inner {
    width: auto;
  }
}
.content-wrap {
  float: right;
  box-sizing: border-box;
  padding: 40px;
  width: calc(100% - 252px);
  background: #fff;
  min-height: 700px;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  border-radius: initial;
}
@media (min-width: 768px) and (max-width: 991px) {
  .content-wrap {
    width: 100%;
    padding: 20px;
    border-radius: initial;
  }
}
@media (max-width: 767px) {
  .content-wrap {
    width: 100%;
    padding: 20px;
    min-height: auto;
    border-radius: initial;
  }
}
.sidebar {
  position: static;
  float: left;
  margin-top: 300px;
  width: 240px;
  background: #eee;
  box-shadow: none;
}
@media (min-width: 768px) and (max-width: 991px) {
  .sidebar {
    display: none;
  }
}
@media (max-width: 767px) {
  .sidebar {
    display: none;
  }
}
.sidebar-toggle {
  display: none;
}
.footer-inner {
  width: 75%;
  padding-left: 260px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .footer-inner {
    width: auto;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}
@media (max-width: 767px) {
  .footer-inner {
    width: auto;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}
.sidebar-position-right .header-inner {
  right: 0;
}
.sidebar-position-right .content-wrap {
  float: left;
}
.sidebar-position-right .sidebar {
  float: right;
}
.sidebar-position-right .footer-inner {
  padding-left: 0;
  padding-right: 260px;
}
.site-brand-wrapper {
  position: relative;
}
.site-meta {
  padding: 20px 0;
  color: #fff;
  background: #222;
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-meta {
    box-shadow: 0 0 16px rgba(0,0,0,0.5);
  }
}
@media (max-width: 767px) {
  .site-meta {
    box-shadow: 0 0 16px rgba(0,0,0,0.5);
  }
}
.brand {
  padding: 0;
  background: none;
}
.brand:hover {
  color: #fff;
}
.site-subtitle {
  margin: 10px 10px 0;
  font-weight: initial;
}
.site-search form {
  display: none;
}
.site-nav {
  border-top: none;
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav-on {
    display: block !important;
  }
}
.menu .menu-item {
  display: block;
  margin: 0;
}
.menu .menu-item a {
  position: relative;
  box-sizing: border-box;
  padding: 5px 20px;
  text-align: left;
  line-height: inherit;
  transition-property: background-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.menu .menu-item a:hover,
.menu-item-active a {
  background: #f9f9f9;
  border-bottom-color: #fff;
}
.menu .menu-item br {
  display: none;
}
.menu-item-active a:after {
  content: " ";
  position: absolute;
  top: 50%;
  margin-top: -3px;
  right: 15px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #bbb;
}
.btn-bar {
  background-color: #fff;
}
.site-nav-toggle {
  left: 20px;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -webkit-transform: translateY(-50%);
  -moz-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  -o-transform: translateY(-50%);
  transform: translateY(-50%);
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav-toggle {
    display: block;
  }
}
.use-motion .sidebar .motion-element {
  opacity: 1;
}
.sidebar {
  margin-left: -100%;
  right: auto;
  bottom: auto;
  -webkit-transform: none;
}
.sidebar-inner {
  box-sizing: border-box;
  width: 240px;
  color: #555;
  background: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  border-radius: initial;
  opacity: 0;
}
.sidebar-inner.affix {
  position: fixed;
  top: 12px;
}
.sidebar-inner.affix-bottom {
  position: absolute;
}
.site-overview {
  text-align: left;
}
.site-author:before,
.site-author:after {
  content: " ";
  display: table;
}
.site-author:after {
  clear: both;
}
.sidebar a {
  color: #555;
}
.sidebar a:hover {
  color: #222;
}
.site-state-item {
  padding: 0 10px;
}
.links-of-author-item a:before {
  display: none;
}
.links-of-author-item a {
  border-bottom: none;
  text-decoration: underline;
}
.feed-link {
  border-top: 1px dotted #ccc;
  border-bottom: 1px dotted #ccc;
  text-align: center;
}
.feed-link a {
  display: block;
  color: #fc6423;
  border: none;
}
.feed-link a:hover {
  background: none;
  color: #e34603;
}
.feed-link a:hover i {
  color: #e34603;
}
.links-of-author {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}
.links-of-author-item {
  margin: 5px 0 0;
  width: 50%;
}
.links-of-author-item a {
  max-width: 216px;
  box-sizing: border-box;
  display: inline-block;
  margin-right: 0;
  margin-bottom: 0;
  padding: 0 5px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.links-of-author-item a {
  display: block;
  text-decoration: none;
}
.links-of-author-item a:hover {
  border-radius: 4px;
  background: #eee;
}
.links-of-author-item .fa {
  margin-right: 2px;
  font-size: 16px;
}
.links-of-author-item .fa-globe {
  font-size: 15px;
}
.links-of-blogroll {
  text-align: center;
  margin-top: 20px;
  padding: 3px 0 0;
  border-top: 1px dotted #ccc;
}
.links-of-blogroll-title {
  margin-top: 0;
}
.links-of-blogroll-item {
  padding: 0;
}
.links-of-blogroll-inline:before,
.links-of-blogroll-inline:after {
  content: " ";
  display: table;
}
.links-of-blogroll-inline:after {
  clear: both;
}
.links-of-blogroll-inline .links-of-blogroll-item {
  margin: 5px 0 0;
  width: 50%;
  display: inline-block;
  width: unset;
}
.links-of-blogroll-inline .links-of-blogroll-item a {
  max-width: 216px;
  box-sizing: border-box;
  display: inline-block;
  margin-right: 0;
  margin-bottom: 0;
  padding: 0 5px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.content-wrap {
  padding: initial;
  background: initial;
  box-shadow: initial;
  border-radius: initial;
}
.post-block {
  padding: 40px;
  background: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);
  border-radius: initial;
}
#posts > article + article .post-block {
  margin-top: 12px;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  border-radius: initial;
}
.comments {
  padding: 40px;
  margin: initial;
  margin-top: 12px;
  background: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  border-radius: initial;
}
.posts-expand {
  padding-top: initial;
}
.post-nav-divider {
  width: 4%;
}
.post-nav-item {
  width: 48%;
}
.post-eof,
.post-spread {
  display: none !important;
}
.pagination {
  margin: 12px 0 0;
  border-top: initial;
  background: #fff;
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
  border-radius: initial;
  padding: 10px 0 10px;
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  margin-bottom: initial;
  top: initial;
}
.main {
  padding-bottom: initial;
}
.footer {
  bottom: auto;
}
.post-header h1,
.post-header h2 {
  margin: initial;
}
.posts-expand .post-title-link {
  line-height: inherit;
}
.posts-expand .post-title {
  font-size: 1.7em;
}
.post-body h1 {
  font-size: 1.6em;
  border-bottom: 1px solid #eee;
}
.post-body h2 {
  font-size: 1.45em;
  border-bottom: 1px solid #eee;
}
.post-body h3 {
  font-size: 1.3em;
  border-bottom: 1px dotted #eee;
}
.post-body h4 {
  font-size: 1.2em;
}
.post-body h5 {
  font-size: 1.07em;
}
.post-body h6 {
  font-size: 1.03em;
}
@media (min-width: 768px) and (max-width: 991px) {
  .content-wrap {
    padding: 10px;
  }
  .posts-expand {
    margin: initial;
  }
  .posts-expand .post-button {
    margin-top: 20px;
  }
  .post-block {
    padding: 20px;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
    border-radius: initial;
  }
  #posts > article + article .post-block {
    margin-top: 10px;
  }
  .comments {
    margin-top: 10px;
    padding: 10px 20px;
  }
  .pagination {
    margin: 10px 0 0;
  }
}
@media (max-width: 767px) {
  .content-wrap {
    padding: 8px;
  }
  .posts-expand {
    margin: initial;
  }
  .posts-expand .post-button {
    margin-top: 12px;
  }
  .posts-expand img {
    padding: initial !important;
  }
  .post-block {
    padding: 12px;
    min-height: auto;
    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
    border-radius: initial;
  }
  #posts > article + article .post-block {
    margin-top: 8px;
  }
  .comments {
    margin-top: 8px;
    padding: 0 12px;
  }
  .pagination {
    margin: 8px 0 0;
  }
}
.post-body p a {
  color: #0593d3;
  border-bottom: none;
}
.post-body p a:hover {
  color: #0477ab;
  text-decoration: underline;
}
@media screen and (min-width: 1200px) {
  body {
    background-image: url("/images/vl.jpg");
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: 1%;
    background-size: 100%;
  }
  #footer a {
    color: #eee;
  }
}
.main-inner {
  opacity: 0.9;
}
#sidebar p,
#sidebar span,
#sidebar a {
  color: #d2691e;
}
</style><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"></noscript></head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tfrain's  Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">白云从湖里出来，在青翠山谷里留下一道影子</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-gitbook">
          <a href="https://tfrain.gitbook.io/leetcode/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-git"></i> <br>
            
            Gitbook
          </a>
        </li>
      
        
        <li class="menu-item menu-item-library">
          <a href="/library" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br>
            
            Library
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://freewei.ml/2019/12/yuque/qrw3ty/">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tfrain">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tfrain's  Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">算法记录</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-30T17:16:06+08:00">
                2019-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/algo/" itemprop="url" rel="index">
                    <span itemprop="name">algo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article:</span>
                
                <span title="Words count in article">
                  14,781
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time ≈</span>
                
                <span title="Reading time">
                  52
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p></p><blockquote class="blockquote-center"><strong>算法的阅读学习</strong></blockquote><br><a id="more"></a><br><a name="F0rWM"></a><p></p>
<h2 id="28-堆和堆排序：为什么说堆排序没有快速排序快？"><a href="#28-堆和堆排序：为什么说堆排序没有快速排序快？" class="headerlink" title="28|堆和堆排序：为什么说堆排序没有快速排序快？"></a>28|堆和堆排序：为什么说堆排序没有快速排序快？</h2><p><strong>自我总结</strong></p>
<ul>
<li>如何理解“堆”<br></li>
</ul>
<p><strong>第一印象</strong>：堆是一个完全二叉树，堆中每一个节点的值都必须大于等于（或小于等于）其子树中每个节点的值<br><strong>重温</strong>：如此分成了大项堆和小项堆</p>
<ul>
<li>如何实现一个堆？<br></li>
<li>1.往堆中插入一个元素<br></li>
</ul>
<p><strong>第一印象</strong>：调整的方法：堆化，从下往上的方法，插入一个元素时，使用从下往上的方法，对比然后交换。<br><strong>重温</strong>：堆化从上往下的方法：一般用于删除堆顶元素，不用于插入一个元素</p>
<ul>
<li>2.删除堆顶元素<br></li>
</ul>
<p><strong>第一印象</strong>：删除堆顶元素后，如果不将尾元素上提， 就从上往下交换，可能堆化出来的堆并不满足完全二叉树的性质<br><strong>重温</strong>：所以只能采用堆化从上往下的方法：删除堆顶元素，将顶部元素删除，将最后一个元素提上去，从上往下对比交换。</p>
<ul>
<li>如何基于堆实现堆排序<br></li>
<li>1.建堆<br></li>
</ul>
<p><strong>第一印象</strong>：第一种方式：采用插入的那种方法，从前往后处理数组数据，从下往上堆化。第二种实现思路，是<strong>从后往前</strong>处理数组，并且每个数据都是<strong>从上往下</strong>堆化（注意，没有排序就不是绝对有序，只是相对有序一点）<br><strong>重温</strong>：因为叶子节点往下堆化只能自己跟自己比较，所以我们直接从第一个非叶子节点开始，依次堆化就行了。堆排序的建堆过程的时间复杂度是O(n)（采用递归树的方式来理解）<br><img src="https://cdn.nlark.com/yuque/0/2019/png/203310/1577701326744-aadd5697-d8de-4c9c-96f7-aac7aac320ca.png#align=left&amp;display=inline&amp;height=74&amp;name=image.png&amp;originHeight=74&amp;originWidth=1041&amp;size=68630&amp;status=done&amp;style=none&amp;width=1041" alt="image.png"></p>
<ul>
<li>2.排序<br></li>
</ul>
<p><strong>第一印象</strong>：类似上面讲的“删除堆顶元素”的操作，当堆顶元素移除之后，我们把下标为n的元素放到堆顶，然后再通过堆化的方法，将剩下的n−1个元素<strong>重新构建成堆</strong>，堆化完成之后，我们再取堆顶的元素，放到下标是n−1的位置，一直重复这个过程，直到最后堆中只剩下标为1的一个元素（大项堆，数组结果是从小到达排列）<br><strong>重温</strong>：建堆过程的时间复杂度是O(n)，排序过程 的时间复杂度是O(nlog n)，所以，堆排序整体的时间复杂度是O(nlog n)。<strong>原地排序、不稳定算法。</strong></p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：第一点，堆排序数据访问的方式没有快速排序友好。第二点，对于同样的数据，在排序过程中，堆排序算法的数据交换次数要多于快速排序。<br><strong>重温</strong>：堆排序来说，数据是<strong>跳着访问的，对CPU缓存是不友好的、快速排序数据交换的次数不会比逆序度多</strong>。 但是堆排序的第一步是建堆，建堆的过程会打乱数据原有的相对先后顺序，<strong>导致原数据的有序度降低</strong>。</p>
<ul>
<li>额外知识<br></li>
</ul>
<p>1 下标从n/2+1到n的都是叶子节点<br>    使用数组存储表示完全二叉树时，从数组下标为1开始存储数据，数组下标为i的节点，左子节点为2i, 右子节点为2i + 1. 这个结论很重要（可以用数学归纳法证明)，将此结论记为『原理1』，以下证明会用到这个原理。<br>为什么，对于完全二叉树来说，下标从n/2 + 1 到 n的节点都是叶子节点？ 使用反证法证明即可：<br>如果下标为n/2 + 1的节点不是叶子节点，即它存在子节点，按照『原理1』，它的左子节点为：2(n/2 + 1) = n + 2，大家明显可以看出，这个数字已经大于n + 1，超出了实现完全二叉树所用数组的大小（数组下标从1开始记录数据，对于n个节点来说，数组大小是n + 1），左子节点都已经超出了数组容量，更何况 右子节点。以此类推，很容易得出：下标大于n/2 + 1的节点肯定都是也叶子节点了，故而得出结论：对于完全二叉树来说，下标从n/2 + 1 到 n的节点都是叶 子节点<br>备注下：用数组存储表示完全二叉树时，也可以从下标为0开始，只是这样做的话，计算左子节点时，会多一次加法运算</p>
<p>2 堆，你还能想到它的其他应用<br>1）从大数量级数据中筛选出top n 条数据； 比如：从几十亿条订单日志中筛选出金额靠前的1000条数据 <br>2） 在一些场景中，会根据不同优先级来处理网络请求，此时也可以用到优先队列(用堆实现的数据结构)；比如：网络框架Volley就用了Java中PriorityBlocking Queue，当然它是线程安全的 <br>3） 可以用堆来实现多路归并，从而实现有序，leetcode上也有相关的一题：Merge K Sorted Lists。<br><a name="Eqpdq"></a></p>
<h2 id="29-堆的应用：如何快速获取到Top10最热门的搜索关键词？"><a href="#29-堆的应用：如何快速获取到Top10最热门的搜索关键词？" class="headerlink" title="29|堆的应用：如何快速获取到Top10最热门的搜索关键词？"></a>29|堆的应用：如何快速获取到Top10最热门的搜索关键词？</h2><p><strong>自我总结</strong></p>
<ul>
<li>堆的应用一：优先级队列<br></li>
</ul>
<p><strong>第一印象</strong>：合并小文件：假如有100个小文件，在100的数组中遍历出最小数，不如在100个数的小项堆进行删除然后添加最小文件中的下一个字符串，从上向下调整。<br><strong>重温</strong>：高性能计时器：越小越紧急，每一秒扫描一次或者执行任务后扫描数组有两个问题，一很多时间是不用扫描的，二，时间多太浪费时间。实质上和合并小文件一样。不一样就是删除后，要用尾元素补上堆顶元素，然后排序。</p>
<ul>
<li>堆的应用二：利用堆求Top K<br></li>
</ul>
<p><strong>第一印象</strong>：静态集合：维护一个大小为 K 的堆，然后存储后，采用堆排序的方法，排序到数组中，就是按顺序的Top K，n个元素都入堆一次，时间复杂度就是 O(nlogK)。<br><strong>重温</strong>：动态集合：此时更能体现堆的好处，如果每次获取Top K都用静态的方法，实际上是 O(nlogk)，但是我们实际只需要将新插入的元素和堆顶进行比较即可，初次是O(nlogk)，后面是O(1)或O(logk)</p>
<ul>
<li>堆的应用三：利用堆求中位数<br></li>
</ul>
<p><strong>第一印象</strong>：中位数：偶数：前n/2是大项堆，后n/2是小项堆，奇数：前n/2+1是大项堆，后n/2是小项堆。插入数据：小于等于大项堆顶放在大项堆，大于等于小项堆顶放在小项堆。<strong>数据不一致是要调整</strong>。维护要O(logk)，查询要O(1)<br><strong>重温</strong>：类中位数：如何快速求接口的99%响应时间？要点：注意保持 99:1 的关系。不管是维护还是区分要保持基本的中位数维护方式，数据不一致要调整，维护和查询一样。</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：高级方法：MapReduce等，限制单机和内存为1G；考虑重复，使用<strong>散列表</strong>、平衡二叉树或者一些其他支持快速查找、插入的数据结构，前者将散列表前10取出可以解决问题，但是考虑内存，考虑将文件利用哈希算法分成10等分，就是哈希值对10取模，然后得到对应的文件编号。<br><strong>重温</strong>：有一个访问量非常大的新闻网站，我们希望将点击量排名Top 10的新闻摘要，滚动显示在网站首页banner上，并且每隔1小时更新一次。如果你是负责开发这个功 能的工程师，你会如何来实现呢？<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1579009595210-e5956a30-a79d-48a9-bcae-751d0dd3edba.png#align=left&amp;display=inline&amp;height=191&amp;name=image.png&amp;originHeight=191&amp;originWidth=852&amp;size=74818&amp;status=done&amp;style=none&amp;width=852" alt="image.png"></p>
<ul>
<li><p>额外知识<br><a name="ioFqY"></a></p>
<h2 id="30-图的表示：如何存储微博、微信等社交网络中的好友关系？"><a href="#30-图的表示：如何存储微博、微信等社交网络中的好友关系？" class="headerlink" title="30|图的表示：如何存储微博、微信等社交网络中的好友关系？"></a>30|图的表示：如何存储微博、微信等社交网络中的好友关系？</h2><p><strong>自我总结</strong></p>
</li>
<li><p>如何理解图？<br></p>
</li>
</ul>
<p>微信：无向图，引出顶点和边；微博：有向图，引出出度和入度；QQ：亲密度，引出带权图和权重</p>
<ul>
<li>邻接矩阵的存储方法<br></li>
</ul>
<p><strong>第一印象</strong>：浪费存储空间，尤其是稀疏矩阵；但是有利于数学运算，方便存储管理<br><strong>重温</strong>：只有0和1，无向图对角线的另一半是无用的，微信几百个好友，但是用户上亿，就像稀疏矩阵一样浪费。</p>
<ul>
<li>邻接表的存储方法<br></li>
</ul>
<p><strong>第一印象</strong>：表指链表，节省空间，<br><strong>重温</strong>：一排然后存值，有点像散列表，区别就是图的分布更合理点。空间换时间：2-4有无边，靠遍历2对应的链表。链表存储对缓存不友好，链表可以转换成平衡二叉树，红黑树，方便查找亮点是否有边，二叉查找树还可以变成跳表，链表可变为有序动态数组，二分查找来快速定位两个顶点是否存在变。</p>
<ul>
<li>解答开篇：如何存储好友关系<br></li>
</ul>
<p><strong>第一印象</strong>：逆邻接表，哈希算法，外部存储<br><strong>重温</strong>：先考虑关系，再考虑粉丝列表和关注列表。按首字母排序，所以选择跳表，内部有序，排除了红黑树，有序动态数组和散列表。几十万用户存在内存还可以考虑，数据规模大，要通过哈希算法分片，先定位机器，再在相应机器上查找。利用外部存储，则使用数据库来持久化存储关系数据，我们可以建立两行索引，解决问题。</p>
<ul>
<li>额外知识<br></li>
</ul>
<p>1 Floyd-warshall算法<br>    Floyd-Warshall算法是解决任意两点间的<a href="https://baike.baidu.com/item/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/6334920" target="_blank" rel="noopener">最短路径</a>的一种算法。通常可以在任何图中使用，包括<a href="https://baike.baidu.com/item/%E6%9C%89%E5%90%91%E5%9B%BE/1852743" target="_blank" rel="noopener">有向图</a>、带负权边的图。 它需要用邻接<a href="https://baike.baidu.com/item/%E7%9F%A9%E9%98%B5" target="_blank" rel="noopener">矩阵</a>来储存边，这个算法通过考虑最佳子路径来得到最佳路径。</p>
<p>2<img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1580651556986-298d4ea8-a5d2-448a-a5cf-e9f0f4875659.png#align=left&amp;display=inline&amp;height=249&amp;name=image.png&amp;originHeight=249&amp;originWidth=584&amp;size=33936&amp;status=done&amp;style=none&amp;width=584" alt="image.png"><br><a name="1Wzi9"></a></p>
<h2 id="31-深度和广度优先搜索：如何找出社交网络中的三度好友关系？"><a href="#31-深度和广度优先搜索：如何找出社交网络中的三度好友关系？" class="headerlink" title="31|深度和广度优先搜索：如何找出社交网络中的三度好友关系？"></a>31|深度和广度优先搜索：如何找出社交网络中的三度好友关系？</h2><p><strong>自我总结</strong></p>
<ul>
<li>什么是“搜索”算法？<br></li>
</ul>
<p><strong>第一印象</strong>：广度和深度都是暴力方法，要充分理解邻接表，针对无向图<br><strong>重温</strong>：要先实现无向图，并可以初始化，不是简单地定义就好，需要有一系列方法</p>
<ul>
<li>广度优先搜索（BFS）<br></li>
</ul>
<p><strong>第一印象</strong>：visited：布尔类型数组，记录已经被访问的点，考虑邻接表中的情况；queue：用来记录已经被访问却没有以它开始访问的点，是整型数组；prev：反向存储路径，是整型数组<br><strong>重温</strong>：时间复杂度O(V+E) &lt;O(2E)=O(E)，空间复杂度是O(V)</p>
<ul>
<li>深度优先搜索（Depth-First-Search）<br></li>
</ul>
<p><strong>第一印象</strong>：迷宫、递归、特殊变量found、回溯法<br><strong>重温</strong>：每条边最多会被访问两次，一次是遍历，一次是回退。所以，图上的深度优先搜索算法的时间复杂度是O(E)；递归调用栈的最大深度不会超过顶点的个 数，所以总的空间复杂度就是O(V)</p>
<ul>
<li>解答开篇：如何找出这个用户的所有三度（其中包含一度、二度和三度）好友关系？<br></li>
</ul>
<p><strong>第一印象</strong>：广度优先算法<br><strong>重温</strong>：用一个数组来记录每个顶点与起始顶点的距离，非常容易就可以找出三度好友关系</p>
<ul>
<li>额外知识<br></li>
</ul>
<p>2 考虑一下递归时，关键语句应该放在哪里，比如说dfs的 visited 的位置</p>
<p>3 <img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581259532401-1e1c9f6f-ef91-4ce4-97b1-537eb123c782.png#align=left&amp;display=inline&amp;height=73&amp;name=image.png&amp;originHeight=73&amp;originWidth=1100&amp;size=25475&amp;status=done&amp;style=none&amp;width=1100" alt="image.png"></p>
<p>4 我感觉用深度优先查找人脉的算法可能会把小于这个度数的数据查找出来吧，例如查找度数为3的顶点，用文中广度优先搜索的那个数据，使用深度优先的 算法会把0，1，4，3也给查出来。。<br><a name="i65Ah"></a></p>
<h2 id="32-字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？"><a href="#32-字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？" class="headerlink" title="32|字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？"></a>32|字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？</h2><p><strong>自我总结</strong></p>
<ul>
<li>BF 算法？<br></li>
</ul>
<p><strong>第一印象</strong>：brute force 暴力破解的方法，就是  n-m+1 个子串每一个都遍历子串的长度来匹配，n<em>m，适合小规模的数据<br><strong>重温</strong>：n</em>m ，中途遇到不能匹配的就停止了，所以实际要比理论快。KISS 原则：在满足性能要求的前提下，简单是首选。</p>
<ul>
<li>RK 算法<br></li>
</ul>
<p><strong>第一印象</strong>：利用到了哈希算法，利用数学关系，可以将两个相邻的模式串用1的时间复杂度算出，整体是n-m+1。可以转换为26进制，能保障所有数字不重复。<br><strong>重温</strong>：每个模式串变成一个整型，比较时效率提高，但是哈希算法消耗了时间，因为哈希算法要遍历每一个字符，转换成26进制，将26的次方保存，计算哈希值利用推导公式将n*m降低到n。进制表示不会有散列冲突。但是要存储的值范围太大，可能不在整型范围内，可以每个字母对一个素数。可以利用哈夫曼树，给大素数分配小值，牺牲冲突，实现整型，冲突少，简单比较一下也是可以接受的。</p>
<ul>
<li>解答开篇：那RK算法是如何借助哈希算法来实现 高效字符串匹配的呢？<br></li>
</ul>
<p><strong>第一印象</strong>：数学、空间、时间相结合产生的巧妙哈希算法。问题中应该采用二层循环来求取哈希值匹配。时间复杂度为 M-m+1 * N-n+1。当N 和 n等于一是就是PK算法。<br><strong>重温</strong>：理想情况下是n。存在冲突可能会退化。大量冲突可能会变成 BF 。我觉得题目中的问题倒还挺难实现<br><a name="7qVB9"></a></p>
<h2 id="33-字符串匹配基础（中）：如何实现文本编辑器中的查找功能？"><a href="#33-字符串匹配基础（中）：如何实现文本编辑器中的查找功能？" class="headerlink" title="33|字符串匹配基础（中）：如何实现文本编辑器中的查找功能？"></a>33|字符串匹配基础（中）：如何实现文本编辑器中的查找功能？</h2><p><strong>自我总结</strong></p>
<ul>
<li>BM算法的核心思想<br></li>
</ul>
<p><strong>第一印象</strong>：从后往前遍历，不像 BF、Rk算法一次遍历一个，而是尽量多跳过去不可能的字符移动<br><strong>重温</strong>：它的效率来自于这样的事实：对于每一次失败的匹配尝试，算法都能够使用这些信息来排除尽可能多的无法匹配的位置。</p>
<ul>
<li>BM算法原理分析<br></li>
<li>坏字符规则<br></li>
</ul>
<p><strong>第一印象</strong>：从后往前遍历，但是可能会出现移动为负数的情况，这个时候加个判断语句好像是可以的哎，si-xi，记为最先，x记为未知。相减是为了产生移动的数字</p>
<ul>
<li>好后缀规则<br></li>
</ul>
<p><strong>第一印象</strong>：一、好后缀中模式串遇到坏字符之后的后缀时，将模式串靠后匹配的一个匹配后缀，移动到主串匹配处。二、但是会出现主串后缀的后缀和模式串的前缀相重合的特例，此时不能因为无匹配直接移动，需要一点点查看后缀的后缀和模式串的前缀是否重合<br><strong>重温</strong>：我们可以分别计算好后缀和坏字符往后滑动的位数，然后取两个数中最大的，作为模式串往后滑动的位数</p>
<ul>
<li>BM算法代码实现之坏字符规则<br></li>
</ul>
<p><strong>第一印象</strong>：i = i+(j-bc[(int)a[i+j]]); 实质上是将i的值更新，是模式串和主串对齐的位置往前推进<br><strong>重温</strong>：先不考虑 si-xi 为负数的情况，因为要和好后缀原则取最大值，这里是巧用ascii码的方法很重要，基本上涉及字符串也没有说不涉及ascii码的地方吧</p>
<ul>
<li>BM算法代码实现之好后缀规则<br></li>
</ul>
<p><strong>第一印象</strong>：通过长度我们可以确定一个唯一的后缀字串，prefix和suffix的计算非常巧妙，一个是长度索引值存最靠后下标，一个是存取的是能否使后缀子串和前缀子串匹配的布尔值。模式串和子串求公共后缀子串长度为k，若求得的起始值是0，则直接记录prefix[k]=true<br><strong>重温</strong>：好后缀的后缀子串b[r, m-1]（其中，r取值从j+2到m-1）的长度k=m-r，这里的r取值 j+2 是因为是子串。如果坏字符与好后缀都不匹配，则往后移动m位。suffix查找跟好后缀匹配的另一个子串，prefix记录模式串的后缀子串是否能匹配模式串的前缀子串</p>
<ul>
<li>BM算法的性能分析及优化<br></li>
</ul>
<p><strong>第一印象</strong>：字符集很大，则坏字符算法会浪费内存，因为字符集可能大于255这个数字，只使用好后缀原则可以减少bc数组内存消耗，但是效率会下降一点。这还是初级版本。。。。<br><strong>重温</strong>：模式串是aaaaaaa这种包含很多重复的字符的模式串，预处理计算suffix数 组、prefix数组的时间复杂度就是O(m^2)。这种情况显然可以优化，</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：一些文本编辑器中比较常用，坏字符与好后缀规则<br><strong>重温</strong>：核心思想，在模式串中某个字符与主串不能匹配的时候，将模式串往后多滑动几位。</p>
<ul>
<li>额外知识<br></li>
</ul>
<p>1 BWT-FM算法 <br><strong>Burrows–Wheeler Transform</strong>（简称BWT，也称作<strong>块排序压缩</strong>），是一个被应用在<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9" target="_blank" rel="noopener">数据压缩</a>技术（如<a href="https://zh.wikipedia.org/wiki/Bzip2" target="_blank" rel="noopener">bzip2</a>）中的<a href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">算法</a>。该算法于1994年被<a href="https://zh.wikipedia.org/w/index.php?title=Michael_Burrows&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">Michael Burrows</a>和<a href="https://zh.wikipedia.org/w/index.php?title=David_Wheeler&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">David Wheeler</a>在位于加利福尼亚州帕洛阿尔托的<a href="https://zh.wikipedia.org/w/index.php?title=DEC%E7%B3%BB%E7%BB%9F%E7%A0%94%E7%A9%B6%E4%B8%AD%E5%BF%83&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener">DEC系统研究中心</a>发明<a href="https://zh.wikipedia.org/wiki/Burrows-Wheeler%E5%8F%98%E6%8D%A2#cite_note--1" target="_blank" rel="noopener">[1]</a>。它的基础是之前Wheeler在1983年发明的一种没有公开的转换方法。<br>当一个<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E7%AC%A6%E4%B8%B2" target="_blank" rel="noopener">字符串</a>用该算法转换时，算法只改变这个字符串中字符的顺序而并不改变其字符。如果原字符串有几个出现多次的<a href="https://zh.wikipedia.org/wiki/%E5%AD%90%E4%B8%B2" target="_blank" rel="noopener">子串</a>，那么转换过的字符串上就会有一些连续重复的字符，这对压缩是很有用的。该方法能使得基于处理字符串中连续重复字符的技术（如<a href="https://zh.wikipedia.org/wiki/Move-to-front_transform" target="_blank" rel="noopener">MTF变换</a>和<a href="https://zh.wikipedia.org/wiki/%E6%B8%B8%E7%A8%8B%E7%BC%96%E7%A0%81" target="_blank" rel="noopener">游程编码</a>）的编码更容易被压缩。<br>举个例子：</p>
<table>
<thead>
<tr>
<th style="text-align:center">算法输入</th>
<th>SIX.MIXED.PIXIES.SIFT.SIXTY.PIXIE.DUST.BOXES</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">算法输出</td>
<td>TEXYDST.E.IXIXIXXSSMPPS.B..E.S.EUSFXDIIOIIIT</td>
</tr>
</tbody>
</table>
<p>该算法的输出因为有更多的重复字符而更容易被压缩了。<br><a name="0A72R"></a></p>
<h2 id="34-字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？"><a href="#34-字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？" class="headerlink" title="34|字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？"></a><strong>34|字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？</strong></h2><p><strong>自我总结</strong></p>
<ul>
<li>KMP算法的基本原理<br></li>
</ul>
<p><strong>第一印象</strong>：在模式串和主串匹配的过程中，当遇到坏字符后，对于已经比对过的好前缀，能否找到一种规律，将模式串一次性滑动很多位？<br><strong>重温</strong>：最长可匹配前缀子串引出失效函数数组，KMP算法中其实相当于只有坏字符原则</p>
<ul>
<li>失效函数计算方法<br></li>
</ul>
<p><strong>第一印象</strong>：利用次长可匹配前缀子串，来不断寻找下一个可以和b[i]相等的数的下表，一层一层，节约时间<br><strong>重温</strong>：如果最长匹配子串的下一个字符和b[i]不等，那么要利用次长可匹配子串的下一个字符来进行匹配b[i]，最大程度上节约时间</p>
<ul>
<li>KMP算法复杂度分析<br></li>
</ul>
<p><strong>第一印象</strong>：空间：O(m)， 时间：O(m+n)<br><strong>重温</strong>：时间复杂度不好计算，需要利用变量来思考，while循环里面k=next[k]总的执行次数也不可能超过m，这就有点需要头脑了</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：都是找规律尽量往后多滑动几位<br><strong>重温</strong>：平常的开发中，很少会遇见这么难分析的代码</p>
<ul>
<li>额外知识<br></li>
</ul>
<p>1 k = next[k]<br>最难理解的地方是 k = next[k] 因为前一个的最长串的下一个字符不与最后一个相等，需要找前一个的次长串，问题就变成了求0到next(k)的最长串，如果下个字符与最后一个不等，继续<br>求次长串，也就是下一个next(k)，直到找到，或者完全没有。<br><a name="epcVZ"></a></p>
<h2 id="35-Trie树：如何实现搜索引擎的搜索关键词提示功能？"><a href="#35-Trie树：如何实现搜索引擎的搜索关键词提示功能？" class="headerlink" title="35|Trie树：如何实现搜索引擎的搜索关键词提示功能？"></a>35|Trie树：如何实现搜索引擎的搜索关键词提示功能？</h2><p><strong>自我总结</strong></p>
<ul>
<li>什么是“Trie 树”<br></li>
</ul>
<p><strong>第一印象</strong>：字典树，树形结构，根节点不存储任何数据，字符是从小到大存储从左到右存储的。<br><strong>重温</strong>：如 he，最后一个节点不是红色，表明他是某个字符串的前缀子串，但并不能完全匹配任何字符串，但是显然可以搜索出来，<strong>所有红色节点不一定是叶子节点，有点不理解</strong></p>
<ul>
<li>如何实现一棵 Trie 树<br></li>
</ul>
<p><strong>第一印象</strong>：一个是将字符串集合构造成 trie树，一个是在trie树中查询一个字符串。trie树显然是一个多叉树<br><strong>重温</strong>：构建时生成一个节点，这个时候就会不断初始化，仔细敲一遍就会感到神奇。K的时间复杂度，构建起来一个Trie树确实时不错的。</p>
<ul>
<li>Trie树真的很耗内存吗？<br></li>
</ul>
<p><strong>第一印象</strong>：字符很少的情况下，26的数组浪费内存，重复前缀少的情况下，浪费空间。通常会有压缩，比如叶子节点只有一个会合并，等等情况<br><strong>重温</strong>：我们可以稍微牺牲一点查询的效率，将每个节点中数组换成其他数据结构，来<strong>存储一个节点的子节点指针</strong>，有序数组、跳表、散列表等。（要注意这些数据结构是如何存储一个节点的子节点指针的）</p>
<ul>
<li>Trie树与散列表、红黑树的比较<br></li>
</ul>
<p><strong>第一印象</strong>：字符集不能太大，否则存储空间浪费很多。前缀重合最好要多，从零开始实现一个Trie树，保证没有bug，其实不太值得，10万行的字符串也重在比较消耗，不在于硬件的缓冲了。<br><strong>重温</strong>：Trie 树中用到了指针，对缓存并不友好，Java代码中好像没体会到指针的地方，莫不是说它底部的垃圾回收等优化？？？</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：不适合精确匹配，这问题设散列表或者红黑树 来解决，适合开篇的搜索引擎的那种场景。它在自己的场景中，还是很高效的。<br><strong>重温</strong>：平常的开发中，Trie树很难应用，中文，关键次很多，如何展示、拼写错误等问题，IDE 代码编辑器自动补全，利用的是语法树，也可以是字典树。</p>
<ul>
<li><p>额外知识<br><a name="CSXID"></a></p>
<h2 id="36-AC自动机：如何用多模式串匹配实现敏感词过滤功能？"><a href="#36-AC自动机：如何用多模式串匹配实现敏感词过滤功能？" class="headerlink" title="36|AC自动机：如何用多模式串匹配实现敏感词过滤功能？"></a>36|AC自动机：如何用多模式串匹配实现敏感词过滤功能？</h2><p><strong>自我总结</strong></p>
</li>
<li><p>基于单模式串和Trie树实现的敏感词过滤<br></p>
</li>
</ul>
<p><strong>第一印象</strong>：基于Trie树的处理办法，有点类似单模式匹配的BF算法。（用户输入的所有字符形成主串，当匹配到Trie的叶子节点，或者中途遇到不匹配的时候，我们将主串的开始匹配位置后移一位）<br><strong>重温</strong>：KMP算法对BF算法进行改进，引入了nex数组，AC自动机算法改进的思路类似，引入了失败指针的思想。</p>
<ul>
<li>经典的多模式串匹配算法：AC自动机<br></li>
</ul>
<p><strong>第一印象</strong>：构建包含两个操作：一、将多个模式串构建成 Trie 树；二、在Trie 树上构建失败指针（这个是重难点）4个模式串，分别是c，bc，bcd，abcd；主串是abcd，p的失败指针就是从root走到紫色节点形成的字符串abc，跟所有模式串前缀匹配的最长可匹配后缀子 串，就是箭头指的bc模式串。 字符串abc的后缀子串有两个bc，c，我们拿它们与其他模式串匹配，如果某个后缀子串可以匹配某个模式串的前 缀，那我们就把这个后缀子串叫作可匹配后缀子串。<strong>我们从可匹配后缀子串中，找出最长的一个</strong>，就是刚刚讲到的最长可匹配后缀子串。<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811829-27a9e1bb-68c3-4067-892f-0a573d2ba7cc.png#align=left&amp;display=inline&amp;height=529&amp;name=image.png&amp;originHeight=529&amp;originWidth=553&amp;size=123184&amp;status=done&amp;style=none&amp;width=553" alt="image.png"><br>如果我们把树中相同深度的节点放到同一层，那么某个节点的失败指针只有可能出现在它所在层的上 一层。（这里为什么不可能是上两层呢）<br>当我们要求某个节点的失败指针的时候，我们通过已经求得的、深度更小的那些节点的失败指针来推导。也就是说，我们可以逐层依 次来求解每个节点的失败指针。所以，失败指针的构建过程，是一个按层遍历树的过程。（较容易理解的倒推过程）<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811857-76b0c563-037c-4a3b-a2a5-0cdd737c860a.png#align=left&amp;display=inline&amp;height=562&amp;name=image.png&amp;originHeight=562&amp;originWidth=588&amp;size=150927&amp;status=done&amp;style=none&amp;width=588" alt="image.png"><br>如果节点q中没有子节点的字符等于节点pc包含的字符，则令q=q-&gt;fail（这里是较难理解的地方，结合下图可以看出，这里类似于KMP算法中的倒推过程，找到是上一层的优化结果，而不是一个个遍历，这也是优化的所在），继续上面的查找，直 到q是root为止，如果还没有找到相同字符的子节点，就让节点pc的失败指针指向root。<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740811856-3de593e4-7067-45d4-9254-f75a9aa7a033.png#align=left&amp;display=inline&amp;height=567&amp;name=image.png&amp;originHeight=567&amp;originWidth=637&amp;size=178444&amp;status=done&amp;style=none&amp;width=637" alt="image.png"><br><strong>过程简述</strong>：</p>
<ul>
<li>如果p指向的节点有一个等于b[i]的子节点x，我们就更新p指向x，这个时候我们需要通过失败指针，检测一系列失败指针为结尾的路径是否是模式串。这一 句不好理解，你可以结合代码看。处理完之后，我们将i加一，继续这两个过程；<br></li>
<li>如果p指向的节点没有等于b[i]的子节点，那失败指针就派上用场了，我们让p=p-&gt;fail，然后继续这两个过程。<br></li>
</ul>
<p><strong>重温</strong>：代码较为难以理解，要多看一下，多实践一下</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：你只需要稍加改造，再遍历一遍文本内容（主串），就可以将文本中的所有敏感词替换成“<strong><em>”。（这里的模式和主串的关系和KMP中的好像正好相反），Trie树构建的时间复杂度是O(m</em>len)，其中len表示敏感词的平均长度，m表示敏感词的个数。（敏感词就是文中的模式串）Trie树中总的节点个数是k，整个失败指针的构建过程就是O(k<em>len)，所以总的 匹配的时间复杂度就是O(n</em>len)，实际情况下，可能近似于O(n)，所以AC自动机做敏感 词过滤，性能非常高。<br></strong>重温**：从时间复杂度上看，AC自动机匹配的效率跟Trie树一样啊。实际上，因为失效指针可能大部分情况下都指向root节点，所以绝大部分情况下， 在AC自动机上做匹配的效率要远高于刚刚计算出的比较宽泛的时间复杂度。整个AC自动机算法包含两个部分，第一部分是将多个模式串构建成AC自动机，第二部分是在AC自动机中匹配主串。第一部分又分为两个小的步骤，一个是将模 式串构建成Trie树，另一个是在Trie树上构建失败指针。（最起码要说出这个过程，细节且不论）<br><a name="4uGNv"></a></p>
<h2 id="37贪心算法：如何用贪心算法实现Huffman压缩编码？"><a href="#37贪心算法：如何用贪心算法实现Huffman压缩编码？" class="headerlink" title="37贪心算法：如何用贪心算法实现Huffman压缩编码？"></a>37贪心算法：如何用贪心算法实现Huffman压缩编码？</h2><p><strong>自我总结</strong></p>
<ul>
<li>如何理解贪心算法<br></li>
</ul>
<p><strong>第一印象</strong>：主要是两点：一、在最大的限制值中取得最大的效益（可能就是每单位取最大利益的优先这种，算个除法即可）。二、找几个例子验证一下即可。因为贪心算法验证比较困难。<br><strong>重温</strong>：前面的选择会影响后面的选择，所以不能使用贪心，动态规划可能可以解决。</p>
<ul>
<li>贪心算法实战分析<br></li>
</ul>
<p><strong>第一印象</strong>：分糖果（一定量的糖果，满足更多小孩对糖的相应需求，需求小的优先）、钱币找零（满足花更少纸币获取物品的需求，面值大的优先，有点反过来的感觉）、区间覆盖（一个区间内，不相交的小区间数更多，和分糖果思想类似，细节要多点）<br><strong>重温</strong>：区间覆盖：教师排课，任务调度等（不能满足优先级的要求）。细节：左端点跟前面的已覆盖的不重合，右端点尽量小的。</p>
<ul>
<li>解答开篇<br></li>
</ul>
<p><strong>第一印象</strong>：等长的压缩效率不高，不等长要考虑如何解压的问题。引出哈夫曼树的要点：<strong>为了避免解压缩过程中的歧义，任何一个字符的编码都不是另一个的前缀</strong>。解压缩时尽可能读，一般读到第一个1打住。构造用到优先级队列和二叉树。构造完毕，最靠前的分配给频率最高的，左0右1这样分配即可。<br><strong>重温</strong>：具体理解：1000字符，原本要8000bit，加入只有5种字母，3位等长二进制可描述，3000bit，根据哈夫曼变长存储，例子给的结果时2100bit。从优先级队列中取最小的两个形成3个结点，然后从队列中继续取最小的一个继续构造。</p>
<ul>
<li>内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：使用场景有限，最小生成树，单源最短路径算法用到了贪心算法。多练习才是最重要的，贪心的难点在构造模型，代码一般很简单。<br><strong>重温</strong>：非负整数a中，我们希望从中移除k个数字，让剩下的数字值最小，如何选择移除哪k个数字呢？由最高位开始，比较低一位数字，<strong>如高位大，移除，若高位小，则向右移一位继续比较两个数字，直到高位大于低位则移除，删除k次</strong>。如果高位到低位依次变大，则移除前k位（在尽量高的位置移除尽量大的数字，最后移除k位的位数是一定的，尽量高位，则跟前后比较即可。这个贪心算法有点模糊）<br><a name="sY4NX"></a></p>
<h2 id="38分治算法：谈一谈大规模计算框架MapReduce中的分治思想"><a href="#38分治算法：谈一谈大规模计算框架MapReduce中的分治思想" class="headerlink" title="38分治算法：谈一谈大规模计算框架MapReduce中的分治思想"></a>38分治算法：谈一谈大规模计算框架MapReduce中的分治思想</h2><p><strong>自我总结</strong></p>
<ul>
<li>如何理解分治算法<br></li>
</ul>
<p><strong>第一印象</strong>：分而治之，将原问题划分成n个规模较小，并且结构与原问题相似的子问题，递归地解决这些 子问题，然后再合并其结果，就得到原问题的解。<strong>分治算法是一种处理问题的思想，递归是一种编程技巧</strong>。每一层递归都涉及：分解、解决、合并。<br><strong>重温</strong>：其能解决的问题一般满足下面几个条件：原问题与分解成的小问题具有相同的模式；原问题分解成的子问题可以独立求解，<strong>子问题之间没有相关性</strong>；具有分解<strong>终止条件</strong>；可以将子问题合并成原问题，而这个<strong>合并操作的复杂度不能太高，否则就起不到减小算法总体复杂度的效果</strong>。</p>
<ul>
<li>分治算法应用举例分析<br></li>
</ul>
<p><strong>第一印象</strong>：逆序对数的求解。<br><strong>重温</strong>：还有两道比较经典的问题，你可以自己练习一下。暴力法的操作的时间复杂度是O(n^2)。我们套用分治的思想来求数组A的逆序对个数。我们可以将数组分成前后两半A1和A2，分别计算A1和A2的逆序对个数K1和K2，然后再 计算A1与A2之间的逆序对个数K3。那数组A的逆序对个数就等于K1+K2+K3。<strong>在这个合并的过程中，我们就可以计算这两个小数组的逆序对个数了</strong>。</p>
<ol>
<li>二维平面上有n个点，如何快速计算出两个距离最近的点对？<br></li>
</ol>
<p>第一个求最近的点对 分成两块 单独求其中一块点对最小距离 然后求这两块之间点对的最小距离 通过一些排序和删除 可以减少到6个点之间比较 很神奇<br><a href="https://www.jianshu.com/p/8bc681afbaff" target="_blank" rel="noopener">https://www.jianshu.com/p/8bc681afbaff</a> 中的反证法可以看一下理解一下，鸽舍原理也需要了解一下啊。</p>
<ol start="2">
<li>有两个n<em>n的矩阵A，B，如何快速求解两个矩阵的乘积C=A</em>B？<br></li>
</ol>
<p>第二个矩阵计算 v.斯特拉森提出了2*2分块矩阵的计算公式 从原来的8次乘法 缩减到了7次 当n规模很大的时候 缩减效果就很明显 （7/8）^(logn)<br><a href="https://blog.csdn.net/qq_18738333/article/details/51769524" target="_blank" rel="noopener">https://blog.csdn.net/qq_18738333/article/details/51769524</a> 可以参考这里说的原理，分治来算矩阵相乘的复杂度没有什么优化，而且要求是2的幂。但是确实减少了乘法和加法的运行。 </p>
<ul>
<li>分治思想在海量数据处理中的应用<br></li>
</ul>
<p><strong>第一印象</strong>：解决这种数据量大到内存装不下的问题，我们就可以利用分治的思想。将海量的数据集合根据某种方法，划分为几个小的数据集合，每个小的数据集 合单独加载到内存来解决，然后再将小数据集合合并成大数据集合。实际上，利用这种分治的处理思路，不仅仅能克服内存的限制，还能利用多线程或者多机处理，加快处理的速度。<br><strong>重温</strong>：如果订单数据存储在类似GFS这样的<strong>分布式系统</strong>上，当10GB的订单被划分成多个小文件的时候，每个文件可以并行加载到多台机器上处理，最后再将结果合并在 一起，这样并行处理的速度也加快了很多。</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：对于谷歌搜索引擎来说，网页爬取、清洗、分析、分词、计算权重、倒排索引等等各个环节中，都会面对如此海量的数据（比如网页）。所以，利用 集群并行处理显然是大势所趋。<br><strong>重温</strong>：两种分治算法的典型的应用场景，一个是用来指导编码，<strong>降低问题求解的时间复杂度</strong>，另一个是解决海量数据处理问题。比如MapReduce本质上就是 利用了分治思想。<br><a name="pkyoT"></a></p>
<h2 id="39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想"><a href="#39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想" class="headerlink" title="39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想"></a>39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想</h2><p><strong>自我总结</strong></p>
<ul>
<li>如何理解回溯算法<br></li>
</ul>
<p><strong>第一印象</strong>：有点类似枚举搜索。我们枚举所有的解，找到满足期望的解。为了有规律地枚举所有可能的解，避免遗漏和重复，我们把问题求解的过程分为多个阶段。<br><strong>重温</strong>：回溯算法非常适合用递归代码实现。八皇后中的8^8次方，递归的方式值得学习一下</p>
<ul>
<li>经典应用之0-1背包<br></li>
</ul>
<p><strong>第一印象</strong>：物品是不可分割的，要么装要么不装，所以叫0-1背包问题。对于n个物品来说，总的装法就有2^n种，去掉总重量超过Wkg的，从剩下的装法中选择总重量最 接近Wkg的。<br><strong>重温</strong>：这里还稍微用到了一点搜索剪枝的技巧，就是当发现已经选择的物品的重量超过Wkg之后，我们就停止继续探测剩下的物品。</p>
<ul>
<li>经典应用之正则表达式<br></li>
</ul>
<p><strong>第一印象</strong>：假设正表达式中只包含“<em>”和“?”这两种通配符，并且对这 两个通配符的语义稍微做些改变，其中，“</em>”匹配任意多个（大于等于0个）任意字符，“?”匹配零个或者一个任意字符。<br><strong>重温</strong>：代码主要内容就是对这两个通配符进行回溯，比如“*”有多种匹配方案，可以匹配任意个文本串中的字符，我们就先随意的选择一 种匹配方案，然后继续考察剩下的字符。如果中途发现无法继续匹配下去了，我们就回到这个岔路口，重新选择一种匹配方案，然后再继续匹配剩下的字符。</p>
<ul>
<li>解答开篇&amp;内容小结&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：在实现的过程中，剪枝操作是提高回溯效率的一种技巧。利用剪枝，我们并不需要穷举搜索所有的情况，从而提高搜索效率。<br><strong>重温</strong>：深度优先搜索、八皇后、0-1背包问题、图的着色、旅行商问题、数独、全排列、 正则表达式匹配等等，你可以自己搜索研究一下，最好还能用代码实现一下。<br><a name="ka3Hq"></a></p>
<h2 id="40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？"><a href="#40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？" class="headerlink" title="40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？"></a>40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？</h2><p><strong>自我总结</strong><br>淘宝的“双十一”购物节有各种促销活动，比如“满200元减50元”。假设你女朋友的购物车中有n个（n&gt;100）想买的商品，她希望从里面选几个，在凑够满减条件的 前提下，让选出来的商品价格总和最大程度地接近满减条件（200元），这样就可以极大限度地“薅羊毛”</p>
<ul>
<li>动态规划学习路线<br></li>
</ul>
<p><strong>第一印象</strong>：求解问题的过程不太符合人类常规的思维方式。入门确实有点难度，但是难了不会，会了不难。这三节分别是，初识动态规划、动态规划理论、动态规划实战。<br><strong>重温</strong>：第一节，我会通过两个非常经典的动态规划问题模型，向你展示我们为什么需要动态规划，以及动态规划解题方法是如何演化出来的；第二节，我会总结动态规划适合解决的问题的特征，以及动态规划解题思路；第三节，我会教你应用第二节讲的动态规划理论知识，实战解决三个非常经典的动态规划问题，加深你对理论的理解。弄懂了这三节中的例子，对于动态规划这 个知识点，你就算是入门了。</p>
<ul>
<li>0-1背包问题<br></li>
</ul>
<p><strong>第一印象</strong>：从回溯法展示递归树，重复的计算通过“备忘录”来标记，然后引入动态规划。我们把每一层重复的状态（节点）合并，只记录不同的状态，然后基于上一层的状态集合，来推导下一层的状态集合。<br><strong>重温</strong>：我们用一个二维数组states[n][w+1]，来记录每层可以达到的不同状态。 我们把问题分解为多个阶段，每个阶段对应一个决策。我们记录每一个阶段可达的状态集合（去掉重复的）， 然后通过当前阶段的状态集合，来推导下一个阶段的状态集合，动态地往前推进。这也是动态规划这个名字的由来，你可以自己体会一下，是不是还挺形象的？ 动态规划状态转移的过程，都可以基于这个一维数组来操作</p>
<ul>
<li>0-1背包问题升级版<br></li>
</ul>
<p><strong>第一印象</strong>：我们现在引入物品价值这一变量。对于一组不同重量、不同价值、不可分割的物品，我们选择将某些物品 装入背包，在满足背包最大重量限制的前提下，背包中可装入物品的总价值最大是多少呢？<br><strong>重温</strong>：同样是回溯法展示递归树，但是没法使用备忘录了，使用动态规划可以解决这个问题，但是存储数组不是boolean类型的了，而是当前状态对应的最大总价值。</p>
<ul>
<li>解答开篇&amp;内容小结<br></li>
</ul>
<p><strong>第一印象</strong>：它跟第一个例子中讲的0-1背包问题很像，只不过是把“重量”换成了“价格”而已。购物车中有n个商品。我们针对每个商品都决策是否购买。每次决策之 后，对应不同的状态集合。我们还是用一个二维数组states[n][x]，来记录每次决策之后所有可达的状态。x根据情况来判断。状态(i, j)只有可能从(i-1, j)或者(i-1, j-value[i])两个状态推导过来。所以，我们就检查这两个状态是否是可达的，也就是states[i-1][j]或者states[i-1][j-value[i]]是否 是true。<br><strong>重温</strong>：这两个例子都是非常经典的动态规划问题，只要你真正搞懂这两个问题，基本上动态规划已经入门一半了。所以，你要多花点时间，真正弄懂这两个问题。我个人觉得，贪心、分治、回溯、 动态规划，这四个算法思想有关的理论知识，大部分都是“后验性”的，也就是说，在解决问题的过程中，我们往往是先想到如何用某个算法思想解决问题，然后 才用算法理论知识，去验证这个算法思想解决问题的正确性。</p>
<ul>
<li>课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：“杨辉三角”不知道你听说过吗？我们现在对它进行一些改造。每个位置的数字可以随意填写，经过某个数字只能到达下面一层相邻的两个数字。 假设你站在第一层，往下移动，我们把移动到最底层所经过的所有数字之和，定义为路径的长度。请你编程求出从最高层移动到最底层的最短路径长度。<br><strong>重温</strong>：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581740980589-05be790d-755b-456c-a9b6-8951687f2621.png#align=left&amp;display=inline&amp;height=600&amp;name=image.png&amp;originHeight=600&amp;originWidth=1067&amp;size=391468&amp;status=done&amp;style=none&amp;width=1067" alt="image.png"><br><a name="uB4Wm"></a></p>
<h2 id="41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题"><a href="#41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题" class="headerlink" title="41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题"></a>41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题</h2><p><strong>自我总结</strong><br>主要讲动态规划的一些理论知识</p>
<ul>
<li>“一个模型三个特征”理论讲解<br></li>
</ul>
<p><strong>第一印象</strong>：<strong>多阶段决策最优解模型</strong>：每个决策阶段都对应着一组状态。然后我们寻找一组决策序列，经过这组决策序列，能够产生最终期望求解的最优值。什么是“三个特征”？它们分别是<strong>最优子结构、无后效性和重复子问题</strong>。<br><strong>重温</strong>：<strong>最优子结构</strong>指的是，问题的最优解包含子问题的最优解，可以理解为，后面阶段的状态可以通过前面阶段的状态推导出来；<strong>无后效性</strong>有两层含义，第一层含义是，在推导后面阶段的状态的时候，我们只关心前面阶段的状态值，不关心这个状态是怎么一步一步推导出来的。第二层含义是，某阶段状态一旦确定，就不受之后阶段的决策影响；重复子问题，不同的决策序列，到达某个相同的阶段时，可能会产生重复的状态。</p>
<ul>
<li>“一个模型三个特征”实例剖析<br></li>
</ul>
<p><strong>第一印象</strong>：假设我们有一个n乘以n的矩阵w[n][n]。矩阵存储的都是正整数。棋子起始位置在左上角，终止位置在右下角。我们将棋子从左上角移动到右下角。每次只能向右 或者向下移动一位。从左上角到右下角，会有很多不同的路径可以走。<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741000708-8edde84a-cae3-4db9-94f6-8cd440439c7c.png#align=left&amp;display=inline&amp;height=782&amp;name=image.png&amp;originHeight=782&amp;originWidth=635&amp;size=201648&amp;status=done&amp;style=none&amp;width=635" alt="image.png"><br><strong>重温</strong>：我们想要计算(i, j)位置对应的状态，只需要关心(i-1, j)，(i, j-1)两个位置 对应的状态，并不关心棋子是通过什么样的路线到达这两个位置的。min_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j))</p>
<ul>
<li>两种动态规划解题思路总结之<strong>状态转移表法</strong><br></li>
</ul>
<p><strong>第一印象</strong>：通过回溯法画出状态的递归树，从递归树中找到重复子问题是如何产生的，来寻找规律。高维状态转移表不好画图表示，所以复杂的较难想到。<br><strong>重温</strong>：状态表一般都是二维的，所以你可以把它想象成二维数组。其中，每个状态包含三个变量，行、列、数组值。我们根据决策的先后过程，从前往后，根据递推关系，分阶段填充状态表中的每个状态。最后，我们将这个递推填表的过程，翻译成代码。</p>
<ul>
<li>两种动态规划解题思路总结之<strong>状态转移方程法</strong><br></li>
</ul>
<p><strong>第一印象</strong>：状态转移方程法有点类似递归的解题思路。我们需要分析，某个问题如何通过子问题来递归求解。如：min_dist(i, j) = w[i][j] + min(min_dist(i, j-1), min_dist(i-1, j))<br><strong>重温</strong>：写出状态转移方程，那动态规划问题基本上就解决一大半了，而翻译成代码非常简单。但是很多动态规划问题的状态本身就不好定义，状态转移方程也就更不好想到。<strong>你要结合具体的题目来看，到底选择用哪种解题思路。</strong></p>
<ul>
<li>四种算法思想比较分析<br></li>
</ul>
<p><strong>第一印象</strong>：贪心、回溯、动态规划可以归为一类，都可以抽象多阶段决策最优解模型；而分治单独可以作为一类。尽管大部分也是最优解问题，但是，大部分都不能抽象成多阶段决策模型。<br><strong>重温</strong>：回溯算法是个“万金油”。基本上能用的动态规划、贪心解决的问题，我们都可以用回溯算法解决。回溯算法相当于穷举搜索；并不是所有问题，都可以用动态规划来解决。分治算法要求分割成的子问题，不能有重复子问题，而动态规划正好相反，动态规划之所以高效，就是因为回溯算法实现中存在大量的重复子问题；贪心算法实际上是动态规划算法的一种特殊情况。它解决问题起来更加高效，代码实现也更加简洁。不过，它可以解决的问题也更加有限。它能解决的问题需要满足三个条件，最优子结构、无后效性和贪心选择性（这里我们不怎么强调重复子问题）。</p>
<ul>
<li>内容小结&amp;&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：状态转移表法解题思路大致可以概括为，<strong>回溯算法实现-定义状态-画递归树-找重复子问题-画状态转移表-根据递推关系填表-将填表过程翻译成代码</strong>。状态转移方程法的大致思路可以概括为，<strong>找最优子结构-写状态转移方程-将状态 转移方程翻译成代码</strong>。<br><strong>重温</strong>：硬币找零问题，我们在贪心算法那一节中讲过一次。我们今天来看一个新的硬币找零问题。假设我们有几种不同币值的硬币v1，v2，……，vn（单位是元）。如 果我们要支付w元，求最少需要多少个硬币。比如，我们有3种不同的硬币，1元、3元、5元，我们要支付9元，最少需要3个硬币（3个3元的硬币）。<br><a name="urHha"></a></p>
<h2 id="42动态规划实战：如何实现搜索引擎中的拼写纠错功能？"><a href="#42动态规划实战：如何实现搜索引擎中的拼写纠错功能？" class="headerlink" title="42动态规划实战：如何实现搜索引擎中的拼写纠错功能？"></a>42动态规划实战：如何实现搜索引擎中的拼写纠错功能？</h2><p><strong>自我总结</strong><br>当你在搜索框中，一不小心输错单词时，搜索引擎会非常智能地检测出你的拼写错误，并且用对应的正确单词来进行搜索。作为一名软件开发工程师，你是否想过，这个功能是怎么实现的呢？</p>
<ul>
<li>如何量化两个字符串的相似度？<br></li>
</ul>
<p><strong>第一印象</strong>：有一个非常著名的量化方法，那就是编辑距离（Edit Distance）。编辑距离指的就是，将一个字符串转化成另一个字符串，需要的最少编辑操作次数（比如增加一个字符、删除一个字符、替换一个字符）。编辑距离有多种不同的计算方式，比较著名的有<strong>莱文斯坦距离</strong>（Levenshtein distance）和<strong>最长公共子串长度</strong>（Longest common substring length）。<br><strong>重温</strong>：莱文斯坦距离允许增加、删除、 替换字符这三个编辑操作，最长公共子串长度只允许增加、删除字符这两个编辑操作。莱文斯坦距离的大小，表示两个字符串差异的大小；而最长公共子串的大小，表示两个字符串相似程度的大小。<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741030097-3cdce332-b742-4519-97c2-b90c6b335e2c.png#align=left&amp;display=inline&amp;height=455&amp;name=image.png&amp;originHeight=455&amp;originWidth=1102&amp;size=277302&amp;status=done&amp;style=none&amp;width=1102" alt="image.png"></p>
<ul>
<li>如何编程计算莱文斯坦距离？<br></li>
</ul>
<p><strong>第一印象</strong>：回溯是一个递归处理的过程。如果a[i]与b[j]匹配，我们递归考察a[i+1]和b[j+1]。如果a[i]与b[j]不匹配，那我们有多种处理方式可选： 可以删除a[i]，然后递归考察a[i+1]和b[j]； 可以删除b[j]，然后递归考察a[i]和b[j+1]； 可以在a[i]前面添加一个跟b[j]相同的字符，然后递归考察a[i]和b[j+1]; 可以在b[j]前面添加一个跟a[i]相同的字符，然后递归考察a[i+1]和b[j]； 可以将a[i]替换成b[j]，或者将b[j]替换成a[i]，然后递归考察a[i+1]和b[j+1]。<br><strong>重温</strong>：根据回溯算法的代码实现，我们可以画出递归树，看是否存在重复子问题。如果存在重复子问题，那我们就可以考虑能否用动态规划来解决；如果不存在重复子问题，那回溯就是最好的解决方法。<br>如果：a[i]!=b[j]，那么：min_edist(i, j)就等于： min(min_edist(i-1,j)+1, min_edist(i,j-1)+1, min_edist(i-1,j-1)+1) 如果：a[i]==b[j]，那么：min_edist(i, j)就等于： min(min_edist(i-1,j)+1, min_edist(i,j-1)+1，min_edist(i-1,j-1))<br>技巧：我们可以实例化几个测试数据，通过人脑去分析具体实例的解，然后总结规律，再尝试套用学过的算法，看是否能够解决；还有一个非常有效、但也算不上技巧的东西，我也反复强调过，那就是多练。</p>
<ul>
<li>如何编程计算最长公共子串长度？<br></li>
</ul>
<p><strong>第一印象</strong>：如果我们要求a[0…i]和b[0…j]的最长公共长度max_lcs(i, j)，我们只有可能通过下面三个状态转移过来： (i-1, j-1, max_lcs)，其中max_lcs表示a[0…i-1]和b[0…j-1]的最长公共子串长度； (i-1, j, max_lcs)，其中max_lcs表示a[0…i-1]和b[0…j]的最长公共子串长度； (i, j-1, max_lcs)，其中max_lcs表示a[0…i]和b[0…j-1]的最长公共子串长度。<br><strong>重温</strong>：用状态转移方程写出来，就是下面这个样子： 如果：a[i]==b[j]，那么：max_lcs(i, j)就等于： max(max_lcs(i-1,j-1)+1, max_lcs(i-1, j), max_lcs(i, j-1))； 如果：a[i]!=b[j]，那么：max_lcs(i, j) 就等于： max(max_lcs(i-1,j-1), max_lcs(i-1, j), max_lcs(i, j-1))；</p>
<ul>
<li>解答开篇<br></li>
</ul>
<p><strong>第一印象</strong>：针对纠错效果不好的问题。我们并不仅仅取出编辑距离最小的那个单词，而是取出编辑距离最小的TOP 10，然后根据其他参数，决策选择哪个单词作为拼写纠错单词。比如使用搜索热门程度来决定哪个单词作为拼写纠错单词。 我们还可以用多种编辑距离计算方法，比如今天讲到的两种，然后分别编辑距离最小的TOP 10，然后求交集，用交集的结果，再继续优化处理。 我们还可以通过统计用户的搜索日志，得到最常被拼错的单词列表，以及对应的拼写正确的单词。搜索引擎在拼写纠错的时候，首先在这个最长被拼错单词列表中查找。如果一旦找到，直接返回对应的正确的单词。 这样纠错的效果非常好。 我们还有更加高级一点的做法，引入个性化因素。针对每个用户，维护这个用户特有的搜索喜好，也就是常用的搜索关键词。当用户输入错误的单词的时候，我们首先在这个用户常用的搜索关键词中，计算编辑距离，查找编辑距离最小的单词。<br><strong>重温</strong>：针对纠错性能方面，讲两种分治的优化思路。如果纠错功能的TPS不高，我们可以部署多台机器，每台机器运行一个独立的纠错功能。当有一个纠错请求的时候，我们通过负载均衡，分配到其中一台机器，来计算编辑距离，得到纠错单词。 如果纠错系统的响应时间太长，也就是，每个纠错请求处理时间过长，我们可以将纠错的词库，分割到很多台机器。当有一个纠错请求的时候，我们就将这个拼写错误的单词，同时发送到这多台机器，让多台机器并 行处理，分别得到编辑距离最小的单词，然后再比对合并，最终决定出一个最优的纠错单词。</p>
<ul>
<li>内容小结&amp;&amp;课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：这三节中，加上课后思考题，总共有8个动态规划问题。这8个问题都非常经典，是精心筛选出来的。只要弄懂了这几个问题，一般的动态规划问题，你应该都可以应付。对于动态规划这个知识点，你就算是入门了。<br><strong>重温</strong>：我们有一个数字序列包含n个不同的数字，如何求出这个序列中的最长递增子序列长度？比如2, 9, 3, 6, 5, 1, 7这样一组数字序列，它的最长递增子序列就是2, 3, 5, 7，所以最长递增子序列的长度是4。</p>
<ul>
<li>额外知识<br></li>
</ul>
<ol>
<li>TPS：Transactions Per Second（每秒传输的事物处理个数），即服务器每秒处理的事务数。TPS包括一条消息入和一条消息出，加上一次用户数据库访问。（业务TPS = CAPS × 每个呼叫平均TPS）<br><a name="jOrP2"></a><h2 id="43拓扑排序：如何确定代码源文件的编译依赖关系？"><a href="#43拓扑排序：如何确定代码源文件的编译依赖关系？" class="headerlink" title="43拓扑排序：如何确定代码源文件的编译依赖关系？"></a>43拓扑排序：如何确定代码源文件的编译依赖关系？</h2><strong>自我总结</strong></li>
</ol>
<ul>
<li>问题阐述<br></li>
</ul>
<p><strong>第一印象</strong>：编译器通过分析源文件或者程序员事先写好的编译配置文件（比如Makefile文件），来获取这种局部的依赖关系。那编译器又该如何通过源文件两两之间的局部依 赖关系，确定一个全局的编译顺序呢？<br><img src="https://cdn.nlark.com/yuque/0/2020/png/203310/1581741053398-33ac6671-3c64-4e6b-97a8-916f313c2633.png#align=left&amp;display=inline&amp;height=315&amp;name=image.png&amp;originHeight=315&amp;originWidth=1279&amp;size=281069&amp;status=done&amp;style=none&amp;width=1279" alt="image.png"><br><strong>重温</strong>：</p>
<ul>
<li>算法解析<br></li>
</ul>
<p><strong>第一印象</strong>：拓扑排序本身就是基于有向无环图的一个算法。 <strong>Kahn算法</strong>：我们先从图中，找出一个入度为0的顶点，将其输出到拓扑排序的结果序列中（对应代码中就是把它打印出来），并且把这个顶点从图中删除（也就是把这个顶点 可达的顶点的入度都减1）。我们循环执行上面的过程，直到所有的顶点都被输出。最后输出的序列，就是满足局部依赖关系的拓扑排序。<strong>DFS算法</strong>：<br><strong>重温</strong>：<strong>第一部分</strong>是通过邻接表构造逆邻接表。邻接表中，边s-&gt;t表示s先于t执行，也就是t要依赖s。在逆邻接表中，边s-&gt;t表示s依赖于t，s后于t执行。为什么这么转化呢？ 这个跟我们这个算法的实现思想有关。 <strong>第二部分</strong>是这个算法的核心，也就是递归处理每个顶点。对于顶点vertex来说，我们先输出它可达的所有顶点，也就是说，先把它依赖的所有的顶点输出了，然后再输出自己。复杂度都是O(V+E)（V表示顶点个数，E表示边的个 数）</p>
<ul>
<li>总结引申<br></li>
</ul>
<p><strong>第一印象</strong>：凡是需要通过局部顺序来推导全局顺序的，一般都能用拓扑排序来解决。除此之外，拓扑排序还能检测图中环的存在。对于Kahn算法来说，如果最后输出出来的顶点个数，少于图中顶点个数，图中还有入度不是0的顶点，那就说明，图中存在环。<br><strong>重温</strong>：只需要记录已经访问过的用 户ID，当用户ID第二次被访问的时候，就说明存在环，也就说明存在脏数据。</p>
<ul>
<li>课后思考<br></li>
</ul>
<p><strong>第一印象</strong>：1. 在今天的讲解中，我们用图表示依赖关系的时候，如果a先于b执行，我们就画一条从a到b的有向边；反过来，如果a先于b，我们画一条从b到a的有向边，表 示b依赖a，那今天讲的Kahn算法和DFS算法还能否正确工作呢？如果不能，应该如何改造一下呢？ <br>2. 我们今天讲了两种拓扑排序算法的实现思路，Kahn算法和DFS深度优先搜索算法，如果换做BFS广度优先搜索算法，还可以实现吗？<br><strong>重温</strong>：1. a先于b执行，也就说b依赖于a，b指向a，这样构建有向无环图时，要找到出度为0的顶点，然后删除<br>2. BFS也能实现，因为遍历只是实现拓扑排序的一个“辅助手段”，本质上是帮助找到优先执行的顶点<br>1.kahn算法找出度为0的节点删除。dfs算法直接用正邻接表即可。<br>2. BFS也可以。其实与DFS一样，BFS也是从某个节点开始，找到所有与其相连通的节点。区别在于BFS是一层一层找（递归函数在for循环外），DFS是先一 杆子插到底，再回来插第二条路、第三条路等等（递归函数在for循环内）。</p>

      
    </div>
    
    
    

      <div>
    
        <div>

    
<style type="text/css">
#test_1 {font-weight:bold;
color:#080808;
}
</style>
        <div> <blockquote class="blockquote-center" id="test_1"> ------------- 已阅留爪&nbsp; (ฅ´ω`ฅ) -------------</blockquote>
        </div>
    
</div>


    
      </div>

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>家贫无从致钱以买纸质书</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.png" alt="Tfrain WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Tfrain Alipay">
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Tfrain
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="https://freewei.ml/2019/12/yuque/qrw3ty/" title="算法记录">https://freewei.ml/2019/12/yuque/qrw3ty/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <div>
    
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/yuque/lhnbsd/" rel="next" title="JVM 记录">
                <i class="fa fa-chevron-left"></i> JVM 记录
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/yuque/gilftp/" rel="prev" title="网络记录">
                网络记录 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          ---
abbrlink: 1
---


  
    <div id="gitalk-container"></div>

  




        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Tfrain">
            
              <p class="site-author-name" itemprop="name">Tfrain</p>
              <p class="site-description motion-element" itemprop="description">菜鸟的尝试，笨鸟的先飞</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

		
  		<div class="site-state-item site-state-tags">
   		 <a href="/">
     		 <span class="site-state-item-count">3</span>
  		    <span class="site-state-item-name">tags</span>
   		 </a>
 		 </div>
		

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Tfrain" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:weichengdouble@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.yuque.com/tfrain/boke" title="语雀" target="_blank">语雀</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://whalechoi.cn/" title="可爱的choi" target="_blank">可爱的choi</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#28-堆和堆排序：为什么说堆排序没有快速排序快？"><span class="nav-number">1.</span> <span class="nav-text">28|堆和堆排序：为什么说堆排序没有快速排序快？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-堆的应用：如何快速获取到Top10最热门的搜索关键词？"><span class="nav-number">2.</span> <span class="nav-text">29|堆的应用：如何快速获取到Top10最热门的搜索关键词？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-图的表示：如何存储微博、微信等社交网络中的好友关系？"><span class="nav-number">3.</span> <span class="nav-text">30|图的表示：如何存储微博、微信等社交网络中的好友关系？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-深度和广度优先搜索：如何找出社交网络中的三度好友关系？"><span class="nav-number">4.</span> <span class="nav-text">31|深度和广度优先搜索：如何找出社交网络中的三度好友关系？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？"><span class="nav-number">5.</span> <span class="nav-text">32|字符串匹配基础（上）：如何借助哈希算法实现高效字符串匹配？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-字符串匹配基础（中）：如何实现文本编辑器中的查找功能？"><span class="nav-number">6.</span> <span class="nav-text">33|字符串匹配基础（中）：如何实现文本编辑器中的查找功能？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？"><span class="nav-number">7.</span> <span class="nav-text">34|字符串匹配基础（下）：如何借助BM算法轻松理解KMP算法？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-Trie树：如何实现搜索引擎的搜索关键词提示功能？"><span class="nav-number">8.</span> <span class="nav-text">35|Trie树：如何实现搜索引擎的搜索关键词提示功能？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36-AC自动机：如何用多模式串匹配实现敏感词过滤功能？"><span class="nav-number">9.</span> <span class="nav-text">36|AC自动机：如何用多模式串匹配实现敏感词过滤功能？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37贪心算法：如何用贪心算法实现Huffman压缩编码？"><span class="nav-number">10.</span> <span class="nav-text">37贪心算法：如何用贪心算法实现Huffman压缩编码？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38分治算法：谈一谈大规模计算框架MapReduce中的分治思想"><span class="nav-number">11.</span> <span class="nav-text">38分治算法：谈一谈大规模计算框架MapReduce中的分治思想</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想"><span class="nav-number">12.</span> <span class="nav-text">39回溯算法：从电影《蝴蝶效应》中学习回溯算法的核心思想</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？"><span class="nav-number">13.</span> <span class="nav-text">40初识动态规划：如何巧妙解决“双十一”购物时的凑单问题？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题"><span class="nav-number">14.</span> <span class="nav-text">41动态规划理论：一篇文章带你彻底搞懂最优子结构、无后效性和重复子问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42动态规划实战：如何实现搜索引擎中的拼写纠错功能？"><span class="nav-number">15.</span> <span class="nav-text">42动态规划实战：如何实现搜索引擎中的拼写纠错功能？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#43拓扑排序：如何确定代码源文件的编译依赖关系？"><span class="nav-number">16.</span> <span class="nav-text">43拓扑排序：如何确定代码源文件的编译依赖关系？</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">© 2018 — <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
  </span>
  <span class="author" itemprop="copyrightHolder">Tfrain</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme — <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a></div>




        
<div class="busuanzi-count">
<script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  

  
</div>








        
      </div>
    </footer>

    

    

  </div>

  











  












  
  
    
  

  
  
    
  

  
  
    
  

  
  
    
  

  
  
    
  

  
  
    
  


  


  

  



  
  


  

  



  
  




  


  



  


  


  




	





  





  












  
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
   




  

  

  





  

  

  

  
  

  

  

  

  <!-- 公正民主 -->
  
  <!--崩溃欺骗-->
  


<script type="text/javascript" src="/bundle.js"></script><script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
;

        var gitalk = new Gitalk({
          clientID: '9dea84ab174d91e0b78e',
          clientSecret: '4f87ec0f7588f49870f12b26c40d085d07ad1c19',
          repo: 'Tfrain.github.io',
          owner: 'Tfrain',
          admin: ['Tfrain'],
          id: location.pathname,
          distractionFreeMode: 'true'
        })
        gitalk.render('gitalk-container')           
       ;

    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script></body></html>